(self.webpackChunkaffenpocken_frontend=self.webpackChunkaffenpocken_frontend||[]).push([[179],{811:function(Yo,Xo,ir){"use strict";function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ze(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=Ue(t)););return t}function nt(){return nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,e,r){var i=ze(n,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?n:r):a.value}},nt.apply(this,arguments)}function Tr(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,n,e){return n&&Tr(t.prototype,n),e&&Tr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Ai(t,n){return(Ai=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(t,n)}function Q(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ai(t,n)}function ma(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ea(t,n){if(n&&("object"===Jr(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Bt(t)}function X(t){var n=ma();return function(){var i,r=Ue(t);if(n){var a=Ue(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ea(this,i)}}function Ca(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function b(t,n){if(t){if("string"==typeof t)return Ca(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ca(t,n)}}function A(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=b(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var l=e.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&null!=e.return&&e.return()}finally{if(o)throw s}}}}function Y(t,n){return function G(t){if(Array.isArray(t))return t}(t)||function K(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,s,r=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(o=e.next()).done)&&(r.push(o.value),!n||r.length!==n);i=!0);}catch(u){a=!0,s=u}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw s}}return r}}(t,n)||b(t,n)||function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Z(t){return function Ae(t){if(Array.isArray(t))return Ca(t)}(t)||function me(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function Je(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(t,n,e){return(ke=ma()?Reflect.construct:function(i,a,o){var s=[null];s.push.apply(s,a);var l=new(Function.bind.apply(i,s));return o&&Ai(l,o.prototype),l}).apply(null,arguments)}function Qe(t){var n="function"==typeof Map?new Map:void 0;return Qe=function(r){if(null===r||!function bi(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,i)}function i(){return ke(r,arguments,Ue(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ai(i,r)},Qe(t)}function Le(t){return"function"==typeof t}function ar(t){var e=t(function(i){Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var qo=ar(function(t){return function(e){t(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(r,i){return"".concat(i+1,") ").concat(r.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e}});function Qr(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var t,Ut=function(){function t(n){w(this,t),this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return D(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r)){var a,i=A(r);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(h){i.e(h)}finally{i.f()}}else r.remove(this);var s=this.initialTeardown;if(Le(s))try{s()}catch(h){e=h instanceof qo?h.errors:[h]}var u=this._finalizers;if(u){this._finalizers=null;var c,l=A(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;try{sg(f)}catch(h){e=null!=e?e:[],h instanceof qo?e=[].concat(Z(e),Z(h.errors)):e.push(h)}}}catch(h){l.e(h)}finally{l.f()}}if(e)throw new qo(e)}}},{key:"add",value:function(e){var r;if(e&&e!==this)if(this.closed)sg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},{key:"_hasParent",value:function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)}},{key:"_addParent",value:function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}},{key:"_removeParent",value:function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Qr(r,e)}},{key:"remove",value:function(e){var r=this._finalizers;r&&Qr(r,e),e instanceof t&&e._removeParent(this)}}]),t}();Ut.EMPTY=((t=new Ut).closed=!0,t);var Zt=Ut.EMPTY;function og(t){return t instanceof Ut||t&&"closed"in t&&Le(t.remove)&&Le(t.add)&&Le(t.unsubscribe)}function sg(t){Le(t)?t():t.unsubscribe()}var xu={setTimeout:function(t){function n(e,r){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t,n){for(var e=xu.delegate,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return(null==e?void 0:e.setTimeout)?e.setTimeout.apply(e,[t,n].concat(i)):setTimeout.apply(void 0,[t,n].concat(i))}),clearTimeout:function(t){function n(e){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){var n=xu.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)}),delegate:void 0};function ug(t){xu.setTimeout(function(){throw t})}function lg(){}var kS=hf("C",void 0,void 0);function hf(t,n,e){return{kind:t,value:n,error:e}}function ku(t){t()}var df=function(t){Q(e,t);var n=X(e);function e(r){var i;return w(this,e),(i=n.call(this)).isStopped=!1,r?(i.destination=r,og(r)&&r.add(Bt(i))):i.destination=HS,i}return D(e,[{key:"next",value:function(i){this.isStopped?pf(function FS(t){return hf("N",t,void 0)}(i),this):this._next(i)}},{key:"error",value:function(i){this.isStopped?pf(function LS(t){return hf("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped?pf(kS,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,nt(Ue(e.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){try{this.destination.error(i)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(i,a,o){return new Lu(i,a,o)}}]),e}(Ut);var BS=function(){function t(n){w(this,t),this.partialObserver=n}return D(t,[{key:"next",value:function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(i){Fu(i)}}},{key:"error",value:function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(i){Fu(i)}else Fu(e)}},{key:"complete",value:function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Fu(r)}}}]),t}(),Lu=function(t){Q(e,t);var n=X(e);function e(r,i,a){var o,s;return w(this,e),o=n.call(this),Le(r)||!r?s={next:null!=r?r:void 0,error:null!=i?i:void 0,complete:null!=a?a:void 0}:(Bt(o),s=r),o.destination=new BS(s),o}return D(e)}(df);function Fu(t){ug(t)}function pf(t,n){var e=null;e&&xu.setTimeout(function(){return e(t,n)})}var HS={closed:!0,next:lg,error:function US(t){throw t},complete:lg},gf="function"==typeof Symbol&&Symbol.observable||"@@observable";function ki(t){return t}function cg(t){return 0===t.length?ki:1===t.length?t[0]:function(e){return t.reduce(function(r,i){return i(r)},e)}}var ut=function(){var t=function(){function n(e){w(this,n),e&&(this._subscribe=e)}return D(n,[{key:"lift",value:function(r){var i=new n;return i.source=this,i.operator=r,i}},{key:"subscribe",value:function(r,i,a){var o=this,s=function VS(t){return t&&t instanceof df||function GS(t){return t&&Le(t.next)&&Le(t.error)&&Le(t.complete)}(t)&&og(t)}(r)?r:new Lu(r,i,a);return ku(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(i){r.error(i)}}},{key:"forEach",value:function(r,i){var a=this;return new(i=fg(i))(function(o,s){var u=new Lu({next:function(c){try{r(c)}catch(f){s(f),u.unsubscribe()}},error:s,complete:o});a.subscribe(u)})}},{key:"_subscribe",value:function(r){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(r)}},{key:gf,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return cg(i)(this)}},{key:"toPromise",value:function(r){var i=this;return new(r=fg(r))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}]),n}();return t.create=function(n){return new t(n)},t}();function fg(t){var n;return null!==(n=null!=t?t:undefined)&&void 0!==n?n:Promise}var zS=ar(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Sr=function(){var t=function(n){Q(r,n);var e=X(r);function r(){var i;return w(this,r),(i=e.call(this)).closed=!1,i.currentObservers=null,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return D(r,[{key:"lift",value:function(a){var o=new hg(this,this);return o.operator=a,o}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new zS}},{key:"next",value:function(a){var o=this;ku(function(){if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));var u,s=A(o.currentObservers);try{for(s.s();!(u=s.n()).done;)u.value.next(a)}catch(c){s.e(c)}finally{s.f()}}})}},{key:"error",value:function(a){var o=this;ku(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=a;for(var s=o.observers;s.length;)s.shift().error(a)}})}},{key:"complete",value:function(){var a=this;ku(function(){if(a._throwIfClosed(),!a.isStopped){a.isStopped=!0;for(var o=a.observers;o.length;)o.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}},{key:"observed",get:function(){var a;return(null===(a=this.observers)||void 0===a?void 0:a.length)>0}},{key:"_trySubscribe",value:function(a){return this._throwIfClosed(),nt(Ue(r.prototype),"_trySubscribe",this).call(this,a)}},{key:"_subscribe",value:function(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)}},{key:"_innerSubscribe",value:function(a){var o=this,l=this.observers;return this.hasError||this.isStopped?Zt:(this.currentObservers=null,l.push(a),new Ut(function(){o.currentObservers=null,Qr(l,a)}))}},{key:"_checkFinalizedStatuses",value:function(a){var u=this.isStopped;this.hasError?a.error(this.thrownError):u&&a.complete()}},{key:"asObservable",value:function(){var a=new ut;return a.source=this,a}}]),r}(ut);return t.create=function(n,e){return new hg(n,e)},t}(),hg=function(t){Q(e,t);var n=X(e);function e(r,i){var a;return w(this,e),(a=n.call(this)).destination=r,a.source=i,a}return D(e,[{key:"next",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===o||o.call(a,i)}},{key:"error",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===o||o.call(a,i)}},{key:"complete",value:function(){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===a||a.call(i)}},{key:"_subscribe",value:function(i){var a,o;return null!==(o=null===(a=this.source)||void 0===a?void 0:a.subscribe(i))&&void 0!==o?o:Zt}}]),e}(Sr);function dg(t){return Le(null==t?void 0:t.lift)}function Tt(t){return function(n){if(dg(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function St(t,n,e,r,i){return new WS(t,n,e,r,i)}var WS=function(t){Q(e,t);var n=X(e);function e(r,i,a,o,s,u){var l,c,f,h;return w(this,e),(h=n.call(this,r)).onFinalize=s,h.shouldUnsubscribe=u,h._next=i?function(d){try{i(d)}catch(v){r.error(v)}}:nt((l=Bt(h),Ue(e.prototype)),"_next",l),h._error=o?function(d){try{o(d)}catch(v){r.error(v)}finally{this.unsubscribe()}}:nt((c=Bt(h),Ue(e.prototype)),"_error",c),h._complete=a?function(){try{a()}catch(d){r.error(d)}finally{this.unsubscribe()}}:nt((f=Bt(h),Ue(e.prototype)),"_complete",f),h}return D(e,[{key:"unsubscribe",value:function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var a=this.closed;nt(Ue(e.prototype),"unsubscribe",this).call(this),!a&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}]),e}(df);function Fe(t,n){return Tt(function(e,r){var i=0;e.subscribe(St(r,function(a){r.next(t.call(n,a,i++))}))})}function pg(t,n,e,r){return new(e||(e=Promise))(function(a,o){function s(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function i(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((r=r.apply(t,n||[])).next())})}function Li(t){return this instanceof Li?(this.v=t,this):new Li(t)}function XS(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(d){return new Promise(function(v,p){a.push([h,d,v,p])>1||s(h,d)})})}function s(h,d){try{!function u(h){h.value instanceof Li?Promise.resolve(h.value.v).then(l,c):f(a[0][2],h)}(r[h](d))}catch(v){f(a[0][3],v)}}function l(h){s("next",h)}function c(h){s("throw",h)}function f(h,d){h(d),a.shift(),a.length&&s(a[0][0],a[0][1])}}function qS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function yg(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=t[a]&&function(o){return new Promise(function(s,u){!function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=t[a](o)).done,o.value)})}}}var _g=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function mg(t){return Le(null==t?void 0:t.then)}function Eg(t){return Le(t[gf])}function Cg(t){return Symbol.asyncIterator&&Le(null==t?void 0:t[Symbol.asyncIterator])}function Dg(t){return new TypeError("You provided ".concat(null!==t&&"object"==typeof t?"an invalid object":"'".concat(t,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var wg=function KS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Tg(t){return Le(null==t?void 0:t[wg])}function _f(){_f=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(C,y,S){return Object.defineProperty(C,y,{value:S,enumerable:!0,configurable:!0,writable:!0}),C[y]}try{s({},"")}catch(C){s=function(S,I,O){return S[I]=O}}function u(C,y,S,I){var U,W,L,H,M=Object.create((y&&y.prototype instanceof f?y:f).prototype),F=new P(I||[]);return M._invoke=(U=C,W=S,L=F,H="suspendedStart",function($,j){if("executing"===H)throw new Error("Generator is already running");if("completed"===H){if("throw"===$)throw j;return{value:void 0,done:!0}}for(L.method=$,L.arg=j;;){var xe=L.delegate;if(xe){var ee=T(xe,L);if(ee){if(ee===c)continue;return ee}}if("next"===L.method)L.sent=L._sent=L.arg;else if("throw"===L.method){if("suspendedStart"===H)throw H="completed",L.arg;L.dispatchException(L.arg)}else"return"===L.method&&L.abrupt("return",L.arg);H="executing";var _e=l(U,W,L);if("normal"===_e.type){if(H=L.done?"completed":"suspendedYield",_e.arg===c)continue;return{value:_e.arg,done:L.done}}"throw"===_e.type&&(H="completed",L.method="throw",L.arg=_e.arg)}}),M}function l(C,y,S){try{return{type:"normal",arg:C.call(y,S)}}catch(I){return{type:"throw",arg:I}}}t.wrap=u;var c={};function f(){}function h(){}function d(){}var v={};s(v,i,function(){return this});var p=Object.getPrototypeOf,_=p&&p(p(k([])));_&&_!==n&&e.call(_,i)&&(v=_);var m=d.prototype=f.prototype=Object.create(v);function g(C){["next","throw","return"].forEach(function(y){s(C,y,function(S){return this._invoke(y,S)})})}function E(C,y){function S(O,M,F,U){var W=l(C[O],C,M);if("throw"!==W.type){var L=W.arg,H=L.value;return H&&"object"==typeof H&&e.call(H,"__await")?y.resolve(H.__await).then(function($){S("next",$,F,U)},function($){S("throw",$,F,U)}):y.resolve(H).then(function($){L.value=$,F(L)},function($){return S("throw",$,F,U)})}U(W.arg)}var I;this._invoke=function(O,M){function F(){return new y(function(U,W){S(O,M,U,W)})}return I=I?I.then(F,F):F()}}function T(C,y){var S=C.iterator[y.method];if(void 0===S){if(y.delegate=null,"throw"===y.method){if(C.iterator.return&&(y.method="return",y.arg=void 0,T(C,y),"throw"===y.method))return c;y.method="throw",y.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var I=l(S,C.iterator,y.arg);if("throw"===I.type)return y.method="throw",y.arg=I.arg,y.delegate=null,c;var O=I.arg;return O?O.done?(y[C.resultName]=O.value,y.next=C.nextLoc,"return"!==y.method&&(y.method="next",y.arg=void 0),y.delegate=null,c):O:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,c)}function R(C){var y={tryLoc:C[0]};1 in C&&(y.catchLoc=C[1]),2 in C&&(y.finallyLoc=C[2],y.afterLoc=C[3]),this.tryEntries.push(y)}function x(C){var y=C.completion||{};y.type="normal",delete y.arg,C.completion=y}function P(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(R,this),this.reset(!0)}function k(C){if(C){var y=C[i];if(y)return y.call(C);if("function"==typeof C.next)return C;if(!isNaN(C.length)){var S=-1,I=function O(){for(;++S<C.length;)if(e.call(C,S))return O.value=C[S],O.done=!1,O;return O.value=void 0,O.done=!0,O};return I.next=I}}return{next:B}}function B(){return{value:void 0,done:!0}}return h.prototype=d,s(m,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),t.isGeneratorFunction=function(C){var y="function"==typeof C&&C.constructor;return!!y&&(y===h||"GeneratorFunction"===(y.displayName||y.name))},t.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,d):(C.__proto__=d,s(C,o,"GeneratorFunction")),C.prototype=Object.create(m),C},t.awrap=function(C){return{__await:C}},g(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(C,y,S,I,O){void 0===O&&(O=Promise);var M=new E(u(C,y,S,I),O);return t.isGeneratorFunction(y)?M:M.next().then(function(F){return F.done?F.value:M.next()})},g(m),s(m,o,"Generator"),s(m,i,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),t.keys=function(C){var y=[];for(var S in C)y.push(S);return y.reverse(),function I(){for(;y.length;){var O=y.pop();if(O in C)return I.value=O,I.done=!1,I}return I.done=!0,I}},t.values=k,P.prototype={constructor:P,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!y)for(var S in this)"t"===S.charAt(0)&&e.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if("throw"===y.type)throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var S=this;function I(L,H){return F.type="throw",F.arg=y,S.next=L,H&&(S.method="next",S.arg=void 0),!!H}for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O],F=M.completion;if("root"===M.tryLoc)return I("end");if(M.tryLoc<=this.prev){var U=e.call(M,"catchLoc"),W=e.call(M,"finallyLoc");if(U&&W){if(this.prev<M.catchLoc)return I(M.catchLoc,!0);if(this.prev<M.finallyLoc)return I(M.finallyLoc)}else if(U){if(this.prev<M.catchLoc)return I(M.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return I(M.finallyLoc)}}}},abrupt:function(y,S){for(var I=this.tryEntries.length-1;I>=0;--I){var O=this.tryEntries[I];if(O.tryLoc<=this.prev&&e.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var M=O;break}}M&&("break"===y||"continue"===y)&&M.tryLoc<=S&&S<=M.finallyLoc&&(M=null);var F=M?M.completion:{};return F.type=y,F.arg=S,M?(this.method="next",this.next=M.finallyLoc,c):this.complete(F)},complete:function(y,S){if("throw"===y.type)throw y.arg;return"break"===y.type||"continue"===y.type?this.next=y.arg:"return"===y.type?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):"normal"===y.type&&S&&(this.next=S),c},finish:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.finallyLoc===y)return this.complete(I.completion,I.afterLoc),x(I),c}},catch:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc===y){var O=I.completion;if("throw"===O.type){var M=O.arg;x(I)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(y,S,I){return this.delegate={iterator:k(y),resultName:S,nextLoc:I},"next"===this.method&&(this.arg=void 0),c}},t}function Sg(t){return XS(this,arguments,_f().mark(function n(){var e,r,i;return _f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=t.getReader(),s.prev=1;case 2:return s.next=5,Li(e.read());case 5:if(i=(r=s.sent).value,!r.done){s.next=12;break}return s.next=11,Li(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Li(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,e.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},n,null,[[1,,18,21]])}))}function Ig(t){return Le(null==t?void 0:t.getReader)}function mf(){mf=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(C,y,S){return Object.defineProperty(C,y,{value:S,enumerable:!0,configurable:!0,writable:!0}),C[y]}try{s({},"")}catch(C){s=function(S,I,O){return S[I]=O}}function u(C,y,S,I){var U,W,L,H,M=Object.create((y&&y.prototype instanceof f?y:f).prototype),F=new P(I||[]);return M._invoke=(U=C,W=S,L=F,H="suspendedStart",function($,j){if("executing"===H)throw new Error("Generator is already running");if("completed"===H){if("throw"===$)throw j;return{value:void 0,done:!0}}for(L.method=$,L.arg=j;;){var xe=L.delegate;if(xe){var ee=T(xe,L);if(ee){if(ee===c)continue;return ee}}if("next"===L.method)L.sent=L._sent=L.arg;else if("throw"===L.method){if("suspendedStart"===H)throw H="completed",L.arg;L.dispatchException(L.arg)}else"return"===L.method&&L.abrupt("return",L.arg);H="executing";var _e=l(U,W,L);if("normal"===_e.type){if(H=L.done?"completed":"suspendedYield",_e.arg===c)continue;return{value:_e.arg,done:L.done}}"throw"===_e.type&&(H="completed",L.method="throw",L.arg=_e.arg)}}),M}function l(C,y,S){try{return{type:"normal",arg:C.call(y,S)}}catch(I){return{type:"throw",arg:I}}}t.wrap=u;var c={};function f(){}function h(){}function d(){}var v={};s(v,i,function(){return this});var p=Object.getPrototypeOf,_=p&&p(p(k([])));_&&_!==n&&e.call(_,i)&&(v=_);var m=d.prototype=f.prototype=Object.create(v);function g(C){["next","throw","return"].forEach(function(y){s(C,y,function(S){return this._invoke(y,S)})})}function E(C,y){function S(O,M,F,U){var W=l(C[O],C,M);if("throw"!==W.type){var L=W.arg,H=L.value;return H&&"object"==typeof H&&e.call(H,"__await")?y.resolve(H.__await).then(function($){S("next",$,F,U)},function($){S("throw",$,F,U)}):y.resolve(H).then(function($){L.value=$,F(L)},function($){return S("throw",$,F,U)})}U(W.arg)}var I;this._invoke=function(O,M){function F(){return new y(function(U,W){S(O,M,U,W)})}return I=I?I.then(F,F):F()}}function T(C,y){var S=C.iterator[y.method];if(void 0===S){if(y.delegate=null,"throw"===y.method){if(C.iterator.return&&(y.method="return",y.arg=void 0,T(C,y),"throw"===y.method))return c;y.method="throw",y.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var I=l(S,C.iterator,y.arg);if("throw"===I.type)return y.method="throw",y.arg=I.arg,y.delegate=null,c;var O=I.arg;return O?O.done?(y[C.resultName]=O.value,y.next=C.nextLoc,"return"!==y.method&&(y.method="next",y.arg=void 0),y.delegate=null,c):O:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,c)}function R(C){var y={tryLoc:C[0]};1 in C&&(y.catchLoc=C[1]),2 in C&&(y.finallyLoc=C[2],y.afterLoc=C[3]),this.tryEntries.push(y)}function x(C){var y=C.completion||{};y.type="normal",delete y.arg,C.completion=y}function P(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(R,this),this.reset(!0)}function k(C){if(C){var y=C[i];if(y)return y.call(C);if("function"==typeof C.next)return C;if(!isNaN(C.length)){var S=-1,I=function O(){for(;++S<C.length;)if(e.call(C,S))return O.value=C[S],O.done=!1,O;return O.value=void 0,O.done=!0,O};return I.next=I}}return{next:B}}function B(){return{value:void 0,done:!0}}return h.prototype=d,s(m,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),t.isGeneratorFunction=function(C){var y="function"==typeof C&&C.constructor;return!!y&&(y===h||"GeneratorFunction"===(y.displayName||y.name))},t.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,d):(C.__proto__=d,s(C,o,"GeneratorFunction")),C.prototype=Object.create(m),C},t.awrap=function(C){return{__await:C}},g(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(C,y,S,I,O){void 0===O&&(O=Promise);var M=new E(u(C,y,S,I),O);return t.isGeneratorFunction(y)?M:M.next().then(function(F){return F.done?F.value:M.next()})},g(m),s(m,o,"Generator"),s(m,i,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),t.keys=function(C){var y=[];for(var S in C)y.push(S);return y.reverse(),function I(){for(;y.length;){var O=y.pop();if(O in C)return I.value=O,I.done=!1,I}return I.done=!0,I}},t.values=k,P.prototype={constructor:P,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!y)for(var S in this)"t"===S.charAt(0)&&e.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if("throw"===y.type)throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var S=this;function I(L,H){return F.type="throw",F.arg=y,S.next=L,H&&(S.method="next",S.arg=void 0),!!H}for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O],F=M.completion;if("root"===M.tryLoc)return I("end");if(M.tryLoc<=this.prev){var U=e.call(M,"catchLoc"),W=e.call(M,"finallyLoc");if(U&&W){if(this.prev<M.catchLoc)return I(M.catchLoc,!0);if(this.prev<M.finallyLoc)return I(M.finallyLoc)}else if(U){if(this.prev<M.catchLoc)return I(M.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return I(M.finallyLoc)}}}},abrupt:function(y,S){for(var I=this.tryEntries.length-1;I>=0;--I){var O=this.tryEntries[I];if(O.tryLoc<=this.prev&&e.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var M=O;break}}M&&("break"===y||"continue"===y)&&M.tryLoc<=S&&S<=M.finallyLoc&&(M=null);var F=M?M.completion:{};return F.type=y,F.arg=S,M?(this.method="next",this.next=M.finallyLoc,c):this.complete(F)},complete:function(y,S){if("throw"===y.type)throw y.arg;return"break"===y.type||"continue"===y.type?this.next=y.arg:"return"===y.type?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):"normal"===y.type&&S&&(this.next=S),c},finish:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.finallyLoc===y)return this.complete(I.completion,I.afterLoc),x(I),c}},catch:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc===y){var O=I.completion;if("throw"===O.type){var M=O.arg;x(I)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(y,S,I){return this.delegate={iterator:k(y),resultName:S,nextLoc:I},"next"===this.method&&(this.arg=void 0),c}},t}function Ir(t){if(t instanceof ut)return t;if(null!=t){if(Eg(t))return function JS(t){return new ut(function(n){var e=t[gf]();if(Le(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_g(t))return function QS(t){return new ut(function(n){for(var e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(mg(t))return function $S(t){return new ut(function(n){t.then(function(e){n.closed||(n.next(e),n.complete())},function(e){return n.error(e)}).then(null,ug)})}(t);if(Cg(t))return Rg(t);if(Tg(t))return function eI(t){return new ut(function(n){var r,e=A(t);try{for(e.s();!(r=e.n()).done;)if(n.next(r.value),n.closed)return}catch(a){e.e(a)}finally{e.f()}n.complete()})}(t);if(Ig(t))return function tI(t){return Rg(Sg(t))}(t)}throw Dg(t)}function Rg(t){return new ut(function(n){(function nI(t,n){var e,r,i,a;return pg(this,void 0,void 0,mf().mark(function o(){return mf().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,e=qS(t);case 2:return l.next=4,e.next();case 4:if((r=l.sent).done){l.next=12;break}if(n.next(r.value),!n.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!r||r.done||!(a=e.return)){l.next=22;break}return l.next=22,a.call(e);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:n.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(t,n).catch(function(e){return n.error(e)})})}function Rr(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function rI(t,n,e,r,i,a,o,s){var u=[],l=0,c=0,f=!1,h=function(){f&&!u.length&&!l&&n.complete()},d=function(_){return l<r?v(_):u.push(_)},v=function p(_){a&&n.next(_),l++;var m=!1;Ir(e(_,c++)).subscribe(St(n,function(g){null==i||i(g),a?d(g):n.next(g)},function(){m=!0},void 0,function(){if(m)try{l--;for(var g=function(){var T=u.shift();o?Rr(n,o,function(){return p(T)}):p(T)};u.length&&l<r;)g();h()}catch(E){n.error(E)}}))};return t.subscribe(St(n,d,function(){f=!0,h()})),function(){null==s||s()}}function Et(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Le(n)?Et(function(r,i){return Fe(function(a,o){return n(r,a,i,o)})(Ir(t(r,i)))},e):("number"==typeof n&&(e=n),Tt(function(r,i){return rI(r,i,t,e)}))}function Zo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return Et(ki,t)}var Mr=new ut(function(t){return t.complete()});function Ef(t){return t[t.length-1]}function oI(t){return Le(Ef(t))?t.pop():void 0}function Ko(t){return function aI(t){return t&&Le(t.schedule)}(Ef(t))?t.pop():void 0}function sI(t,n){return"number"==typeof Ef(t)?t.pop():n}function Mg(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Tt(function(e,r){e.subscribe(St(r,function(i){return Rr(r,t,function(){return r.next(i)},n)},function(){return Rr(r,t,function(){return r.complete()},n)},function(i){return Rr(r,t,function(){return r.error(i)},n)}))})}function Og(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Tt(function(e,r){r.add(t.schedule(function(){return e.subscribe(r)},n))})}function Ag(t,n){if(!t)throw new Error("Iterable cannot be null");return new ut(function(e){Rr(e,n,function(){var r=t[Symbol.asyncIterator]();Rr(e,n,function(){r.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function It(t,n){return n?function dI(t,n){if(null!=t){if(Eg(t))return function uI(t,n){return Ir(t).pipe(Og(n),Mg(n))}(t,n);if(_g(t))return function cI(t,n){return new ut(function(e){var r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(mg(t))return function lI(t,n){return Ir(t).pipe(Og(n),Mg(n))}(t,n);if(Cg(t))return Ag(t,n);if(Tg(t))return function fI(t,n){return new ut(function(e){var r;return Rr(e,n,function(){r=t[wg](),Rr(e,n,function(){var i,a;try{var o=r.next();i=o.value,a=o.done}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),function(){return Le(null==r?void 0:r.return)&&r.return()}})}(t,n);if(Ig(t))return function hI(t,n){return Ag(Sg(t),n)}(t,n)}throw Dg(t)}(t,n):Ir(t)}function Nu(t){return t<=0?function(){return Mr}:Tt(function(n,e){var r=0;n.subscribe(St(e,function(i){++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Cf(t,n){if(!0===n)return t(),null;if(!1===n)return null;for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return n.apply(void 0,r).pipe(Nu(1)).subscribe(function(){return t()})}function He(t){for(var n in t)if(t[n]===He)return n;throw Error("Could not find renamed property on target object.")}function Ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var n=t.toString();if(null==n)return""+n;var e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function wf(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var gI=He({__forward_ref__:He});function Tf(t){return t.__forward_ref__=Tf,t.toString=function(){return Ne(this())},t}function de(t){return function bg(t){return"function"==typeof t&&t.hasOwnProperty(gI)&&t.__forward_ref__===Tf}(t)?t():t}var be=function(t){Q(e,t);var n=X(e);function e(r,i){var a;return w(this,e),(a=n.call(this,function Sf(t,n){var e="NG0".concat(Math.abs(t));return"".concat(e).concat(n?": "+n:"")}(r,i))).code=r,a}return D(e)}(Qe(Error));function Rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function ue(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function ju(t,n){var e=n?" in ".concat(n):"";throw new be(-201,"No provider for ".concat(Rt(t)," found").concat(e))}function sn(t,n){null==t&&function Ge(t,n,e,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(e," ").concat(r," ").concat(n," <=Actual]")))}(n,t,null,"!=")}function ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function or(t){return{providers:t.providers||[],imports:t.imports||[]}}function If(t){return Pg(t,Bu)||Pg(t,kg)}function Pg(t,n){return t.hasOwnProperty(n)?t[n]:null}function xg(t){return t&&(t.hasOwnProperty(Rf)||t.hasOwnProperty(wI))?t[Rf]:null}var Mf,Bu=He({"\u0275prov":He}),Rf=He({"\u0275inj":He}),kg=He({ngInjectableDef:He}),wI=He({ngInjectorDef:He}),se=function(){return(se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se}();function TI(){return Mf}function $r(t){var n=Mf;return Mf=t,n}function Lg(t,n,e){var r=If(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&se.Optional?null:void 0!==n?n:void ju(Ne(t),"Injector")}function ei(t){return{toString:t}.toString()}var Fn=function(){return(Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn}(),sr=function(){return function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(sr||(sr={})),sr}(),SI="undefined"!=typeof globalThis&&globalThis,II="undefined"!=typeof window&&window,RI="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,MI="undefined"!=typeof global&&global,Be=SI||MI||II||RI,Da={},Ve=[],Uu=He({"\u0275cmp":He}),Of=He({"\u0275dir":He}),Af=He({"\u0275pipe":He}),Fg=He({"\u0275mod":He}),Ar=He({"\u0275fac":He}),Jo=He({__NG_ELEMENT_ID__:He}),OI=0;function Qo(t){return ei(function(){var e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||sr.Emulated,id:"c",styles:t.styles||Ve,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,a=t.features,o=t.pipes;return r.id+=OI++,r.inputs=Ug(t.inputs,e),r.outputs=Ug(t.outputs),a&&a.forEach(function(s){return s(r)}),r.directiveDefs=i?function(){return("function"==typeof i?i():i).map(Ng)}:null,r.pipeDefs=o?function(){return("function"==typeof o?o():o).map(jg)}:null,r})}function Ng(t){return bt(t)||function ti(t){return t[Of]||null}(t)}function jg(t){return function Fi(t){return t[Af]||null}(t)}var Bg={};function br(t){return ei(function(){var n={type:t.type,bootstrap:t.bootstrap||Ve,declarations:t.declarations||Ve,imports:t.imports||Ve,exports:t.exports||Ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Bg[t.id]=t.type),n})}function Ug(t,n){if(null==t)return Da;var e={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=r,n&&(n[i]=a)}return e}var At=Qo;function bt(t){return t[Uu]||null}function En(t,n){var e=t[Fg]||null;if(!e&&!0===n)throw new Error("Type ".concat(Ne(t)," does not have '\u0275mod' property."));return e}function ur(t){return Array.isArray(t)&&"object"==typeof t[1]}function jn(t){return Array.isArray(t)&&!0===t[1]}function xf(t){return 0!=(8&t.flags)}function zu(t){return 2==(2&t.flags)}function Bn(t){return null!==t.template}function LI(t){return 0!=(512&t[2])}function Ui(t,n){return t.hasOwnProperty(Ar)?t[Ar]:null}var jI=function(){function t(n,e,r){w(this,t),this.previousValue=n,this.currentValue=e,this.firstChange=r}return D(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Gg(t){return t.type.prototype.ngOnChanges&&(t.setInput=UI),BI}function BI(){var t=zg(this),n=null==t?void 0:t.current;if(n){var e=t.previous;if(e===Da)t.previous=n;else for(var r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function UI(t,n,e,r){var i=zg(t)||function HI(t,n){return t[Vg]=n}(t,{previous:Da,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[e],u=o[s];a[s]=new jI(u&&u.currentValue,n,o===Da),t[r]=n}var Vg="__ngSimpleChanges__";function zg(t){return t[Vg]||null}var jf=void 0;function rt(t){return!!t.listen}var Wg={createRenderer:function(n,e){return function Bf(){return void 0!==jf?jf:"undefined"!=typeof document?document:void 0}()}};function lt(t){for(;Array.isArray(t);)t=t[0];return t}function wn(t,n){return lt(n[t.index])}function ln(t,n){var e=n[t];return ur(e)?e:e[0]}function Hf(t){return 128==(128&t[2])}function ni(t,n){return null==n?null:t[n]}function Xg(t){t[18]=0}function Gf(t,n){t[5]+=n;for(var e=t,r=t[3];null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}var le={lFrame:ny(null),bindingsEnabled:!0};function Zg(){return le.bindingsEnabled}function N(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function gt(){for(var t=Kg();null!==t&&64===t.type;)t=t.parent;return t}function Kg(){return le.lFrame.currentTNode}function lr(t,n){var e=le.lFrame;e.currentTNode=t,e.isParent=n}function Vf(){return le.lFrame.isParent}function aR(t,n){var e=le.lFrame;e.bindingIndex=e.bindingRootIndex=t,Wf(n)}function Wf(t){le.lFrame.currentDirectiveIndex=t}function Xf(t){le.lFrame.currentQueryIndex=t}function sR(t){var n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ey(t,n,e){if(e&se.SkipSelf){for(var r=n,i=t;!(null!==(r=r.parent)||e&se.Host||null===(r=sR(i))||(i=i[15],10&r.type)););if(null===r)return!1;n=r,t=i}var a=le.lFrame=ty();return a.currentTNode=n,a.lView=t,!0}function qu(t){var n=ty(),e=t[1];le.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function ty(){var t=le.lFrame,n=null===t?null:t.child;return null===n?ny(t):n}function ny(t){var n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ry(){var t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var iy=ry;function Zu(){var t=ry();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ri(t){le.lFrame.selectedIndex=t}function Ku(t,n){for(var e=n.directiveStart,r=n.directiveEnd;e<r;e++){var a=t.data[e].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),s&&((t.contentHooks||(t.contentHooks=[])).push(e,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,s)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),l&&((t.viewHooks||(t.viewHooks=[])).push(e,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function Ju(t,n,e){ay(t,n,3,e)}function Qu(t,n,e,r){(3&t[2])===e&&ay(t,n,e,r)}function qf(t,n){var e=t[2];(3&e)===n&&(e&=2047,t[2]=e+=1)}function ay(t,n,e,r){for(var a=null!=r?r:-1,o=n.length-1,s=0,u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof n[u+1]){if(s=n[u],null!=r&&s>=r)break}else n[u]<0&&(t[18]+=65536),(s<a||-1==a)&&(gR(t,e,n,u),t[18]=(4294901760&t[18])+u+2),u++}function gR(t,n,e,r){var i=e[r]<0,a=e[r+1],s=t[i?-e[r]:e[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}var rs=D(function t(n,e,r){w(this,t),this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r});function $u(t,n,e){for(var r=rt(t),i=0;i<e.length;){var a=e[i];if("number"==typeof a){if(0!==a)break;i++;var o=e[i++],s=e[i++],u=e[i++];r?t.setAttribute(n,s,u,o):n.setAttributeNS(o,s,u)}else{var l=a,c=e[++i];Kf(l)?r&&t.setProperty(n,l,c):r?t.setAttribute(n,l,c):n.setAttribute(l,c),i++}}return i}function oy(t){return 3===t||4===t||6===t}function Kf(t){return 64===t.charCodeAt(0)}function el(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else for(var e=-1,r=0;r<n.length;r++){var i=n[r];"number"==typeof i?e=i:0===e||sy(t,e,i,null,-1===e||2===e?n[++r]:null)}return t}function sy(t,n,e,r,i){var a=0,o=t.length;if(-1===n)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===n){o=-1;break}if(s>n){o=a-1;break}}}for(;a<t.length;){var u=t[a];if("number"==typeof u)break;if(u===e){if(null===r)return void(null!==i&&(t[a+1]=i));if(r===t[a+1])return void(t[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(t.splice(o,0,n),a=o+1),t.splice(a++,0,e),null!==r&&t.splice(a++,0,r),null!==i&&t.splice(a++,0,i)}function uy(t){return-1!==t}function Oa(t){return 32767&t}function Aa(t,n){for(var e=function CR(t){return t>>16}(t),r=n;e>0;)r=r[15],e--;return r}var Jf=!0;function tl(t){var n=Jf;return Jf=t,n}var wR=0;function as(t,n){var e=$f(t,n);if(-1!==e)return e;var r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Qf(r.data,t),Qf(n,null),Qf(r.blueprint,null));var i=nl(t,n),a=t.injectorIndex;if(uy(i))for(var o=Oa(i),s=Aa(i,n),u=s[1].data,l=0;l<8;l++)n[a+l]=s[o+l]|u[o+l];return n[a+8]=i,a}function Qf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $f(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function nl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var e=0,r=null,i=n;null!==i;){var a=i[1],o=a.type;if(null===(r=2===o?a.declTNode:1===o?i[6]:null))return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function rl(t,n,e){!function TR(t,n,e){var r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Jo)&&(r=e[Jo]),null==r&&(r=e[Jo]=wR++);var i=255&r;n.data[t+(i>>5)]|=1<<i}(t,n,e)}function fy(t,n,e){if(e&se.Optional)return t;ju(n,"NodeInjector")}function hy(t,n,e,r){if(e&se.Optional&&void 0===r&&(r=null),0==(e&(se.Self|se.Host))){var i=t[9],a=$r(void 0);try{return i?i.get(n,r,e&se.Optional):Lg(n,r,e&se.Optional)}finally{$r(a)}}return fy(r,n,e)}function dy(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:se.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=MR(e);if("function"==typeof a){if(!ey(n,t,r))return r&se.Host?fy(i,e,r):hy(n,e,r,i);try{var o=a(r);if(null!=o||r&se.Optional)return o;ju(e)}finally{iy()}}else if("number"==typeof a){var s=null,u=$f(t,n),l=-1,c=r&se.Host?n[16][6]:null;for((-1===u||r&se.SkipSelf)&&(-1!==(l=-1===u?nl(t,n):n[u+8])&&gy(r,!1)?(s=n[1],u=Oa(l),n=Aa(l,n)):u=-1);-1!==u;){var f=n[1];if(py(a,u,f.data)){var h=RR(u,n,e,s,r,c);if(h!==vy)return h}-1!==(l=n[u+8])&&gy(r,n[1].data[u+8]===c)&&py(a,u,n)?(s=f,u=Oa(l),n=Aa(l,n)):u=-1}}}return hy(n,e,r,i)}var vy={};function IR(){return new ba(gt(),N())}function RR(t,n,e,r,i,a){var o=n[1],s=o.data[t+8],c=function il(t,n,e,r,i){for(var a=t.providerIndexes,o=n.data,s=1048575&a,u=t.directiveStart,c=a>>20,h=i?s+c:t.directiveEnd,d=r?s:s+c;d<h;d++){var v=o[d];if(d<u&&e===v||d>=u&&v.type===e)return d}if(i){var p=o[u];if(p&&Bn(p)&&p.type===e)return u}return null}(s,o,e,null==r?zu(s)&&Jf:r!=o&&0!=(3&s.type),i&se.Host&&a===s);return null!==c?os(n,o,c,s):vy}function os(t,n,e,r){var i=t[e],a=n.data;if(function yR(t){return t instanceof rs}(i)){var o=i;o.resolving&&function yI(t,n){var e=n?". Dependency path: ".concat(n.join(" > ")," > ").concat(t):"";throw new be(-200,"Circular dependency in DI detected for ".concat(t).concat(e))}(Rt(a[e]));var s=tl(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?$r(o.injectImpl):null;ey(t,r,se.Default);try{i=t[e]=o.factory(void 0,a,t,r),n.firstCreatePass&&e>=r.directiveStart&&function pR(t,n,e){var r=n.type.prototype,a=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var s=Gg(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,a[e],n)}finally{null!==u&&$r(u),tl(s),o.resolving=!1,iy()}}return i}function MR(t){if("string"==typeof t)return t.charCodeAt(0)||0;var n=t.hasOwnProperty(Jo)?t[Jo]:void 0;return"number"==typeof n?n>=0?255&n:IR:n}function py(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function gy(t,n){return!(t&se.Self||t&se.Host&&n)}var ba=function(){function t(n,e){w(this,t),this._tNode=n,this._lView=e}return D(t,[{key:"get",value:function(e,r,i){return dy(this._tNode,this._lView,e,i,r)}}]),t}();var xa="__parameters__";function La(t,n,e){return ei(function(){var r=function th(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var r in e)this[r]=e[r]}}}(n);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return r.apply(this,o),this;var u=ke(i,o);return l.annotation=u,l;function l(c,f,h){for(var d=c.hasOwnProperty(xa)?c[xa]:Object.defineProperty(c,xa,{value:[]})[xa];d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(u),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var we=function(){function t(n,e){w(this,t),this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ve({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return D(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),bR=new we("AnalyzeForEntryComponents");function cr(t,n){t.forEach(function(e){return Array.isArray(e)?cr(e,n):n(e)})}function _y(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function al(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}var fs={},ah="__NG_DI_FLAG__",sl="ngTempTokenPath",GR=/\n/gm,wy="__source",zR=He({provide:String,useValue:He}),hs=void 0;function Ty(t){var n=hs;return hs=t,n}function WR(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se.Default;if(void 0===hs){var e="";throw new be(203,e)}return null===hs?Lg(t,void 0,n):hs.get(t,n&se.Optional?null:void 0,n)}function J(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se.Default;return(TI()||WR)(de(t),n)}var YR=J;function oh(t){for(var n=[],e=0;e<t.length;e++){var r=de(t[e]);if(Array.isArray(r)){if(0===r.length)throw new be(900,"");for(var a=void 0,o=se.Default,s=0;s<r.length;s++){var u=r[s],l=XR(u);"number"==typeof l?-1===l?a=u.token:o|=l:a=u}n.push(J(a,o))}else n.push(J(r))}return n}function ds(t,n){return t[ah]=n,t.prototype[ah]=n,t}function XR(t){return t[ah]}function qR(t,n,e,r){var i=t[sl];throw n[wy]&&i.unshift(n[wy]),t.message=function ZR(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Ne(n);if(Array.isArray(n))i=n.map(Ne).join(" -> ");else if("object"==typeof n){var a=[];for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Ne(s)))}i="{".concat(a.join(", "),"}")}return"".concat(e).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(GR,"\n  "))}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[sl]=null,t}var ul=ds(La("Inject",function(t){return{token:t}}),-1),ai=ds(La("Optional"),8),vs=ds(La("SkipSelf"),4),Vy="__ngContext__";function xt(t,n){t[Vy]=n}function gh(t){var n=function ms(t){return t[Vy]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function _h(t){return t.ngOriginalError}function zM(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];t.error.apply(t,e)}var Es=function(){function t(){w(this,t),this._console=console}return D(t,[{key:"handleError",value:function(e){var r=this._findOriginalError(e),i=function VM(t){return t&&t.ngErrorLogger||zM}(e);i(this._console,"ERROR",e),r&&i(this._console,"ORIGINAL ERROR",r)}},{key:"_findOriginalError",value:function(e){for(var r=e&&_h(e);r&&_h(r);)r=_h(r);return r||null}}]),t}(),e1=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Be)}();function hr(t){return t instanceof Function?t():t}var fn=function(){return(fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn}();function Eh(t,n){return undefined(t,n)}function Cs(t){var n=t[3];return jn(n)?n[3]:n}function Ch(t){return Qy(t[13])}function Dh(t){return Qy(t[4])}function Qy(t){for(;null!==t&&!jn(t);)t=t[4];return t}function Ua(t,n,e,r,i){if(null!=r){var a,o=!1;jn(r)?a=r:ur(r)&&(o=!0,r=r[0]);var s=lt(r);0===t&&null!==e?null==i?i_(n,e,s):Gi(n,e,s,i||null,!0):1===t&&null!==e?Gi(n,e,s,i||null,!0):2===t?function f_(t,n,e){var r=vl(t,n);r&&function v1(t,n,e,r){rt(t)?t.removeChild(n,e,r):n.removeChild(e)}(t,r,n,e)}(n,s,o):3===t&&n.destroyNode(s),null!=a&&function y1(t,n,e,r,i){var a=e[7];a!==lt(e)&&Ua(n,t,r,a,i);for(var s=10;s<e.length;s++){var u=e[s];Ds(u[1],u,t,n,r,a)}}(n,t,a,e,i)}}function wh(t,n){return rt(t)?t.createText(n):t.createTextNode(n)}function Th(t,n,e){if(rt(t))return t.createElement(n,e);var r=null!==e?function WI(t){var n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?t.createElement(n):t.createElementNS(r,n)}function e_(t,n){var e=t[9],r=e.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,Gf(i,-1)),e.splice(r,1)}function Sh(t,n){if(!(t.length<=10)){var e=10+n,r=t[e];if(r){var i=r[17];null!==i&&i!==t&&e_(i,r),n>0&&(t[e-1][4]=r[4]);var a=al(t,10+n);!function o1(t,n){Ds(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);var o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function t_(t,n){if(!(256&n[2])){var e=n[11];rt(e)&&e.destroyNode&&Ds(t,n,e,3,null,null),function l1(t){var n=t[13];if(!n)return Ih(t[1],t);for(;n;){var e=null;if(ur(n))e=n[13];else{var r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)ur(n)&&Ih(n[1],n),n=n[3];null===n&&(n=t),ur(n)&&Ih(n[1],n),e=n&&n[4]}n=e}}(n)}}function Ih(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function d1(t,n){var e;if(null!=t&&null!=(e=t.destroyHooks))for(var r=0;r<e.length;r+=2){var i=n[e[r]];if(!(i instanceof rs)){var a=e[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(t,n),function h1(t,n){var e=t.cleanup,r=n[7],i=-1;if(null!==e)for(var a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){var o=e[a+1],s="function"==typeof o?o(n):lt(n[o]),u=r[i=e[a+2]],l=e[a+3];"boolean"==typeof l?s.removeEventListener(e[a],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),a+=2}else{var c=r[i=e[a+1]];e[a].call(c)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();n[7]=null}}(t,n),1===n[1].type&&rt(n[11])&&n[11].destroy();var e=n[17];if(null!==e&&jn(n[3])){e!==n[3]&&e_(e,n);var r=n[19];null!==r&&r.detachView(t)}}}function n_(t,n,e){return function r_(t,n,e){for(var r=n;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===sr.None||i===sr.Emulated)return null}return wn(r,e)}(t,n.parent,e)}function Gi(t,n,e,r,i){rt(t)?t.insertBefore(n,e,r,i):n.insertBefore(e,r,i)}function i_(t,n,e){rt(t)?t.appendChild(n,e):n.appendChild(e)}function a_(t,n,e,r,i){null!==r?Gi(t,n,e,r,i):i_(t,n,e)}function vl(t,n){return rt(t)?t.parentNode(n):n.parentNode}var u_=function s_(t,n,e){return 40&t.type?wn(t,e):null};function pl(t,n,e,r){var i=n_(t,r,n),a=n[11],s=function o_(t,n,e){return u_(t,n,e)}(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(e))for(var u=0;u<e.length;u++)a_(a,i,e[u],s,!1);else a_(a,i,e,s,!1)}function gl(t,n){if(null!==n){var e=n.type;if(3&e)return wn(n,t);if(4&e)return Mh(-1,t[n.index]);if(8&e){var r=n.child;if(null!==r)return gl(t,r);var i=t[n.index];return jn(i)?Mh(-1,i):lt(i)}if(32&e)return Eh(n,t)()||lt(t[n.index]);var s=c_(t,n);return null!==s?Array.isArray(s)?s[0]:gl(Cs(t[16]),s):gl(t,n.next)}return null}function c_(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Mh(t,n){var e=10+t+1;if(e<n.length){var r=n[e],i=r[1].firstChild;if(null!==i)return gl(r,i)}return n[7]}function Oh(t,n,e,r,i,a,o){for(;null!=e;){var s=r[e.index],u=e.type;if(o&&0===n&&(s&&xt(lt(s),r),e.flags|=4),64!=(64&e.flags))if(8&u)Oh(t,n,e.child,r,i,a,!1),Ua(n,t,i,s,a);else if(32&u){for(var l=Eh(e,r),c=void 0;c=l();)Ua(n,t,i,c,a);Ua(n,t,i,s,a)}else 16&u?h_(t,n,r,e,i,a):Ua(n,t,i,s,a);e=o?e.projectionNext:e.next}}function Ds(t,n,e,r,i,a){Oh(e,r,t.firstChild,n,i,a,!1)}function h_(t,n,e,r,i,a){var o=e[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Ua(n,t,i,u[l],a);else Oh(t,n,u,o[3],i,a,!0)}function d_(t,n,e){rt(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function Ah(t,n,e){rt(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function v_(t,n,e){for(var r=t.length;;){var i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var a=n.length;if(i+a===r||t.charCodeAt(i+a)<=32)return i}e=i+1}}var p_="ng-template";function m1(t,n,e){for(var r=0;r<t.length;){var i=t[r++];if(e&&"class"===i){if(-1!==v_((i=t[r]).toLowerCase(),n,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function g_(t){return 4===t.type&&t.value!==p_}function E1(t,n,e){return n===(4!==t.type||e?t.value:p_)}function C1(t,n,e){for(var r=4,i=t.attrs||[],a=function T1(t){for(var n=0;n<t.length;n++)if(oy(t[n]))return n;return t.length}(i),o=!1,s=0;s<n.length;s++){var u=n[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!E1(t,u,e)||""===u&&1===n.length){if(Un(r))return!1;o=!0}}else{var l=8&r?u:n[++s];if(8&r&&null!==t.attrs){if(!m1(t.attrs,l,e)){if(Un(r))return!1;o=!0}continue}var f=D1(8&r?"class":u,i,g_(t),e);if(-1===f){if(Un(r))return!1;o=!0;continue}if(""!==l){var h;h=f>a?"":i[f+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==v_(d,l,0)||2&r&&l!==h){if(Un(r))return!1;o=!0}}}}else{if(!o&&!Un(r)&&!Un(u))return!1;if(o&&Un(u))continue;o=!1,r=u|1&r}}return Un(r)||o}function Un(t){return 0==(1&t)}function D1(t,n,e,r){if(null===n)return-1;var i=0;if(r||!e){for(var a=!1;i<n.length;){var o=n[i];if(o===t)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=n[++i];"string"==typeof s;)s=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function S1(t,n){var e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){var r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function y_(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<n.length;r++)if(C1(t,n[r],e))return!0;return!1}function __(t,n){return t?":not("+n.trim()+")":n}function R1(t){for(var n=t[0],e=1,r=2,i="",a=!1;e<t.length;){var o=t[e];if("string"==typeof o)if(2&r){var s=t[++e];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Un(o)&&(n+=__(a,i),i=""),r=o,a=a||!Un(r);e++}return""!==i&&(n+=__(a,i)),n}var ce={};function A_(t,n){var e=t.contentQueries;if(null!==e)for(var r=0;r<e.length;r+=2){var a=e[r+1];if(-1!==a){var o=t.data[a];Xf(e[r]),o.contentQueries(2,n[a],a)}}}function ws(t,n,e,r,i,a,o,s,u,l){var c=n.blueprint.slice();return c[0]=i,c[2]=140|r,Xg(c),c[3]=c[15]=t,c[8]=e,c[10]=o||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=a,c[16]=2==n.type?t[16]:c,c}function Ha(t,n,e,r,i){var a=t.data[n];if(null===a)a=function Gh(t,n,e,r,i){var a=Kg(),o=Vf(),u=t.data[n]=function Y1(t,n,e,r,i,a){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u)),u}(t,n,e,r,i),function iR(){return le.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=r,a.attrs=i;var o=function ns(){var t=le.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return lr(a,!0),a}function Ga(t,n,e,r){if(0===e)return-1;for(var i=n.length,a=0;a<e;a++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ts(t,n,e){qu(n);try{var r=t.viewQuery;null!==r&&Jh(1,r,e);var i=t.template;null!==i&&b_(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&A_(t,n),t.staticViewQueries&&Jh(2,t.viewQuery,e);var a=t.components;null!==a&&function V1(t,n){for(var e=0;e<n.length;e++)cO(t,n[e])}(n,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,Zu()}}function Va(t,n,e,r){var i=n[2];if(256!=(256&i)){qu(n);try{Xg(n),function Jg(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&b_(t,n,e,2,r);var o=3==(3&i);if(o){var s=t.preOrderCheckHooks;null!==s&&Ju(n,s,null)}else{var u=t.preOrderHooks;null!==u&&Qu(n,u,0,null),qf(n,0)}if(function uO(t){for(var n=Ch(t);null!==n;n=Dh(n))if(n[2])for(var e=n[9],r=0;r<e.length;r++){var i=e[r];0==(1024&i[2])&&Gf(i[3],1),i[2]|=1024}}(n),function sO(t){for(var n=Ch(t);null!==n;n=Dh(n))for(var e=10;e<n.length;e++){var r=n[e],i=r[1];Hf(r)&&Va(i,r,i.template,r[8])}}(n),null!==t.contentQueries&&A_(t,n),o){var l=t.contentCheckHooks;null!==l&&Ju(n,l)}else{var c=t.contentHooks;null!==c&&Qu(n,c,1),qf(n,1)}!function H1(t,n){var e=t.hostBindingOpCodes;if(null!==e)try{for(var r=0;r<e.length;r++){var i=e[r];if(i<0)ri(~i);else{var a=i,o=e[++r],s=e[++r];aR(o,a),s(2,n[a])}}}finally{ri(-1)}}(t,n);var f=t.components;null!==f&&function G1(t,n){for(var e=0;e<n.length;e++)lO(t,n[e])}(n,f);var h=t.viewQuery;if(null!==h&&Jh(2,h,r),o){var d=t.viewCheckHooks;null!==d&&Ju(n,d)}else{var v=t.viewHooks;null!==v&&Qu(n,v,2),qf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,Gf(n[3],-1))}finally{Zu()}}}function z1(t,n,e,r){var i=n[10],o=function Yg(t){return 4==(4&t[2])}(n);try{!o&&i.begin&&i.begin(),o&&Ts(t,n,r),Va(t,n,e,r)}finally{!o&&i.end&&i.end()}}function b_(t,n,e,r,i){var a=function Gt(){return le.lFrame.selectedIndex}(),o=2&r;try{ri(-1),o&&n.length>20&&function m_(t,n,e,r){if(!r)if(3==(3&n[2])){var a=t.preOrderCheckHooks;null!==a&&Ju(n,a,e)}else{var o=t.preOrderHooks;null!==o&&Qu(n,o,0,e)}ri(e)}(t,n,20,!1),e(r,i)}finally{ri(a)}}function x_(t){var n=t.tView;return null===n||n.incompleteFirstPass?t.tView=El(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function El(t,n,e,r,i,a,o,s,u,l){var c=20+r,f=c+i,h=function W1(t,n){for(var e=[],r=0;r<n;r++)e.push(r<t?null:ce);return e}(c,f),d="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:n,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function N_(t,n,e){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,i):e[r]=[n,i]}return e}function B_(t,n,e,r,i,a){var o=a.hostBindings;if(o){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~n.index;(function Q1(t){for(var n=t.length;n>0;){var e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=u&&s.push(u),s.push(r,i,o)}}function U_(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function H_(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function rO(t,n,e){if(e){if(n.exportAs)for(var r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Bn(n)&&(e[""]=t)}}function G_(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function V_(t,n,e,r,i){t.data[r]=i;var a=i.factory||(i.factory=Ui(i.type)),o=new rs(a,Bn(i),null);t.blueprint[r]=o,e[r]=o,B_(t,n,0,r,Ga(t,e,i.hostVars,ce),i)}function iO(t,n,e){var r=wn(n,t),i=x_(e),a=t[10],o=Cl(t,ws(t,i,null,e.onPush?64:16,r,n,a,a.createRenderer(r,e),null,null));t[n.index]=o}function aO(t,n,e,r,i,a){var o=a[n];if(null!==o)for(var s=r.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],f=o[u++];null!==s?r.setInput(e,f,l,c):e[c]=f}}function oO(t,n){for(var e=null,r=0;r<n.length;){var i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],n[r+1])),r+=2}else r+=2;else r+=4}return e}function lO(t,n){var e=ln(n,t);if(Hf(e)){var r=e[1];80&e[2]?Va(r,e,r.template,e[8]):e[5]>0&&Xh(e)}}function Xh(t){for(var n=Ch(t);null!==n;n=Dh(n))for(var e=10;e<n.length;e++){var r=n[e];if(1024&r[2]){var i=r[1];Va(i,r,i.template,r[8])}else r[5]>0&&Xh(r)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=ln(o[s],t);Hf(u)&&u[5]>0&&Xh(u)}}function cO(t,n){var e=ln(n,t),r=e[1];(function fO(t,n){for(var e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Ts(r,e,e[8])}function Cl(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Kh(t,n,e){var r=n[10];r.begin&&r.begin();try{Va(t,n,t.template,e)}catch(i){throw function Z_(t,n){var e=t[9],r=e?e.get(Es,null):null;r&&r.handleError(n)}(n,i),i}finally{r.end&&r.end()}}function W_(t){!function Zh(t){for(var n=0;n<t.components.length;n++){var e=t.components[n],r=gh(e),i=r[1];z1(i,r,i.template,e)}}(t[8])}function Jh(t,n,e){Xf(0),n(t,e)}var dO=function(){return Promise.resolve(null)}();function Dl(t,n,e){var r=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==n)for(var o=0;o<n.length;o++){var s=n[o];"number"==typeof s?a=s:1==a?i=wf(i,s):2==a&&(r=wf(r,s+": "+n[++o]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var Qh=new we("INJECTOR",-1),J_=function(){function t(){w(this,t)}return D(t,[{key:"get",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs;if(r===fs){var i=new Error("NullInjectorError: No provider for ".concat(Ne(e),"!"));throw i.name="NullInjectorError",i}return r}}]),t}(),$h=new we("Set Injector scope."),Ss={},gO={},ed=void 0;function Q_(){return void 0===ed&&(ed=new J_),ed}function $_(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=em(t,n,e,r);return i._resolveInjectorDefTypes(),i}function em(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new yO(t,e,n||Q_(),r)}var yO=function(){function t(n,e,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;w(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&cr(e,function(u){return i.processProvider(u,n,e)}),cr([n],function(u){return i.processInjectorType(u,[],o)}),this.records.set(Qh,za(void 0,this));var s=this.records.get($h);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof n?null:Ne(n))}return D(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se.Default;this.assertNotDestroyed();var a=Ty(this),o=$r(void 0);try{if(!(i&se.SkipSelf)){var s=this.records.get(e);if(void 0===s){var u=SO(e)&&If(e);s=u&&this.injectableDefInScope(u)?za(td(e),Ss):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}var l=i&se.Self?Q_():this.parent;return l.get(e,r=i&se.Optional&&r===fs?null:r)}catch(f){if("NullInjectorError"===f.name){var c=f[sl]=f[sl]||[];if(c.unshift(Ne(e)),a)throw f;return qR(f,e,"R3InjectorError",this.source)}throw f}finally{$r(o),Ty(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(r){return e.get(r)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(i,a){return e.push(Ne(a))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new be(205,!1)}},{key:"processInjectorType",value:function(e,r,i){var a=this;if(!(e=de(e)))return!1;var o=xg(e),s=null==o&&e.ngModule||void 0,u=void 0===s?e:s,f=-1!==i.indexOf(u);if(void 0!==s&&(o=xg(s)),null==o)return!1;if(null!=o.imports&&!f){var h;i.push(u);try{cr(o.imports,function(g){a.processInjectorType(g,r,i)&&(void 0===h&&(h=[]),h.push(g))})}finally{}if(void 0!==h)for(var d=function(E){var T=h[E],R=T.ngModule,x=T.providers;cr(x,function(P){return a.processProvider(P,R,x||Ve)})},v=0;v<h.length;v++)d(v)}this.injectorDefTypes.add(u);var p=Ui(u)||function(){return new u};this.records.set(u,za(p,Ss));var _=o.providers;if(null!=_&&!f){var m=e;cr(_,function(g){return a.processProvider(g,m,_)})}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,r,i){var a=Wa(e=de(e))?e:de(e&&e.provide),o=function mO(t,n,e){return nm(t)?za(void 0,t.useValue):za(function tm(t,n,e){var r=void 0;if(Wa(t)){var i=de(t);return Ui(i)||td(i)}if(nm(t))r=function(){return de(t.useValue)};else if(function CO(t){return!(!t||!t.useFactory)}(t))r=function(){return t.useFactory.apply(t,Z(oh(t.deps||[])))};else if(function EO(t){return!(!t||!t.useExisting)}(t))r=function(){return J(de(t.useExisting))};else{var a=de(t&&(t.useClass||t.provide));if(!function wO(t){return!!t.deps}(t))return Ui(a)||td(a);r=function(){return ke(a,Z(oh(t.deps)))}}return r}(t),Ss)}(e);if(Wa(e)||!0!==e.multi)this.records.get(a);else{var s=this.records.get(a);s||((s=za(void 0,Ss,!0)).factory=function(){return oh(s.multi)},this.records.set(a,s)),a=e,s.multi.push(e)}this.records.set(a,o)}},{key:"hydrate",value:function(e,r){return r.value===Ss&&(r.value=gO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function TO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this.onDestroy.add(r.value),r.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var r=de(e.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}]),t}();function td(t){var n=If(t),e=null!==n?n.factory:Ui(t);if(null!==e)return e;if(t instanceof we)throw new be(204,!1);if(t instanceof Function)return function _O(t){var n=t.length;if(n>0)throw function cs(t,n){for(var e=[],r=0;r<t;r++)e.push(n);return e}(n,"?"),new be(204,!1);var r=function CI(t){var n=t&&(t[Bu]||t[kg]);if(n){var e=function DI(t){if(t.hasOwnProperty("name"))return t.name;var n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(e,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(e,'" class.')),n}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new be(204,!1)}function za(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:n,multi:e?[]:void 0}}function nm(t){return null!==t&&"object"==typeof t&&zR in t}function Wa(t){return"function"==typeof t}function SO(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}var Qt=function(){var t=function(){function n(){w(this,n)}return D(n,null,[{key:"create",value:function(r,i){var a;if(Array.isArray(r))return $_({name:""},i,r,"");var o=null!==(a=r.name)&&void 0!==a?a:"";return $_({name:o},r.parent,r.providers,o)}}]),n}();return t.THROW_IF_NOT_FOUND=fs,t.NULL=new J_,t.\u0275prov=ve({token:t,providedIn:"any",factory:function(){return J(Qh)}}),t.__NG_ELEMENT_ID__=-1,t}();function FO(t,n){Ku(gh(t)[1],gt())}function ne(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se.Default,e=N();if(null===e)return J(t,n);var r=gt();return dy(r,e,de(t),n)}function ld(){throw new Error("invalid")}function cd(t,n,e,r,i){var o=i?"class":"style";!function K_(t,n,e,r,i){for(var a=0;a<e.length;){var o=e[a++],s=e[a++],u=n[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,s):u[s]=i}}(t,e,n.inputs[o],o,r)}function ro(t,n,e,r){var i=N(),a=Re(),o=20+t,s=i[11],u=i[o]=Th(s,n,function vR(){return le.lFrame.currentNamespace}()),l=a.firstCreatePass?function vA(t,n,e,r,i,a,o){var s=n.consts,l=Ha(n,t,2,i,ni(s,a));return function Wh(t,n,e,r){var i=!1;if(Zg()){var a=function tO(t,n,e){var r=t.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];y_(e,o.selectors,!1)&&(i||(i=[]),rl(as(e,n),t,o.type),Bn(o)?(H_(t,e),i.unshift(o)):i.push(o))}return i}(t,n,e),o=null===r?null:{"":-1};if(null!==a){i=!0,G_(e,t.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,f=Ga(t,n,a.length,null),h=0;h<a.length;h++){var d=a[h];e.mergedAttrs=el(e.mergedAttrs,d.hostAttrs),V_(t,e,n,f,d),rO(f,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);var v=d.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function X1(t,n){for(var r=n.directiveEnd,i=t.data,a=n.attrs,o=[],s=null,u=null,l=n.directiveStart;l<r;l++){var c=i[l],f=c.inputs,h=null===a||g_(n)?null:oO(f,a);o.push(h),s=N_(f,l,s),u=N_(c.outputs,l,u)}null!==s&&(s.hasOwnProperty("class")&&(n.flags|=16),s.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=o,n.inputs=s,n.outputs=u}(t,e)}o&&function nO(t,n,e){if(n)for(var r=t.localNames=[],i=0;i<n.length;i+=2){var a=e[n[i+1]];if(null==a)throw new be(-301,!1);r.push(n[i],a)}}(e,r,o)}return e.mergedAttrs=el(e.mergedAttrs,e.attrs),i}(n,e,l,ni(s,o)),null!==l.attrs&&Dl(l,l.attrs,!1),null!==l.mergedAttrs&&Dl(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,a,i,0,n,e,r):a.data[o];lr(l,!0);var c=l.mergedAttrs;null!==c&&$u(s,u,c);var f=l.classes;null!==f&&Ah(s,u,f);var h=l.styles;return null!==h&&d_(s,u,h),64!=(64&l.flags)&&pl(a,i,u,l),0===function JI(){return le.lFrame.elementDepthCount}()&&xt(u,i),function QI(){le.lFrame.elementDepthCount++}(),function Wu(t){return 1==(1&t.flags)}(l)&&(function Vh(t,n,e){!Zg()||(function $1(t,n,e,r){var i=e.directiveStart,a=e.directiveEnd;t.firstCreatePass||as(e,n),xt(r,n);for(var o=e.initialInputs,s=i;s<a;s++){var u=t.data[s],l=Bn(u);l&&iO(n,e,u);var c=os(n,t,s,e);xt(c,n),null!==o&&aO(0,s-i,c,u,0,o),l&&(ln(e.index,n)[8]=c)}}(t,n,e,wn(e,n)),128==(128&e.flags)&&function eO(t,n,e){var r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function oR(){return le.lFrame.currentDirectiveIndex}();try{ri(o);for(var u=r;u<i;u++){var l=t.data[u],c=n[u];Wf(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&U_(l,c)}}finally{ri(-1),Wf(s)}}(t,n,e))}(a,i,l),function P_(t,n,e){if(xf(n))for(var i=n.directiveEnd,a=n.directiveStart;a<i;a++){var o=t.data[a];o.contentQueries&&o.contentQueries(1,e[a],a)}}(a,l,i)),null!==r&&function zh(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wn,r=n.localNames;if(null!==r)for(var i=n.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?e(n,t):t[o];t[i++]=s}}(i,l),ro}function li(){var t=gt();Vf()?function zf(){le.lFrame.isParent=!1}():lr(t=t.parent,!1);var n=t;!function $I(){le.lFrame.elementDepthCount--}();var e=Re();return e.firstCreatePass&&(Ku(e,t),xf(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function mR(t){return 0!=(16&t.flags)}(n)&&cd(e,n,N(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ER(t){return 0!=(32&t.flags)}(n)&&cd(e,n,N(),n.stylesWithoutHost,!1),li}function zi(t,n,e,r){return ro(t,n,e,r),li(),zi}function Sl(t){return!!t&&"function"==typeof t.then}var Lm=function km(t){return!!t&&"function"==typeof t.subscribe};function gd(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=N(),r=Re(),i=t+20,a=r.firstCreatePass?Ha(r,i,1,n,null):r.data[i],o=e[i]=wh(e[11],n);pl(r,e,o,a),lr(a,!1)}var Ml="en-US",oP=D(function t(){w(this,t)}),n0=D(function t(){w(this,t)}),uP=function(){function t(){w(this,t)}return D(t,[{key:"resolveComponentFactory",value:function(e){throw function sP(t){var n=Error("No component factory found for ".concat(Ne(t),". Did you add it to @NgModule.entryComponents?"));return n.ngComponent=t,n}(e)}}]),t}(),xs=function(){var t=D(function n(){w(this,n)});return t.NULL=new uP,t}();function lP(){return so(gt(),N())}function so(t,n){return new ci(wn(t,n))}var ci=function(){var t=D(function n(e){w(this,n),this.nativeElement=e});return t.__NG_ELEMENT_ID__=lP,t}(),a0=D(function t(){w(this,t)}),dP=function(){var t=D(function n(){w(this,n)});return t.\u0275prov=ve({token:t,providedIn:"root",factory:function(){return null}}),t}(),kl=D(function t(n){w(this,t),this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}),vP=new kl("13.3.9"),Td={};function Ll(t,n,e,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==e;){var a=n[e.index];if(null!==a&&r.push(lt(a)),jn(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&Ll(s[1],s,u,r)}var l=e.type;if(8&l)Ll(t,n,e.child,r);else if(32&l)for(var c=Eh(e,n),f=void 0;f=c();)r.push(f);else if(16&l){var h=c_(n,e);if(Array.isArray(h))r.push.apply(r,Z(h));else{var d=Cs(n[16]);Ll(d[1],d,h,r,!0)}}e=i?e.projectionNext:e.next}return r}var ks=function(){function t(n,e){w(this,t),this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}return D(t,[{key:"rootNodes",get:function(){var e=this._lView,r=e[1];return Ll(r,e,r.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(jn(e)){var r=e[8],i=r?r.indexOf(this):-1;i>-1&&(Sh(e,i),al(r,i))}this._attachedToViewContainer=!1}t_(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){!function F_(t,n,e,r){var i=function Y_(t){return t[7]||(t[7]=[])}(n);null===e?i.push(r):(i.push(e),t.firstCreatePass&&function X_(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){!function qh(t){for(;t;){t[2]|=64;var n=Cs(t);if(LI(t)&&!n)return t;t=n}return null}(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Kh(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new be(902,"");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function u1(t,n){Ds(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new be(902,"");this._appRef=e}}]),t}(),pP=function(t){Q(e,t);var n=X(e);function e(r){var i;return w(this,e),(i=n.call(this,r))._view=r,i}return D(e,[{key:"detectChanges",value:function(){W_(this._view)}},{key:"checkNoChanges",value:function(){}},{key:"context",get:function(){return null}}]),e}(ks),o0=function(t){Q(e,t);var n=X(e);function e(r){var i;return w(this,e),(i=n.call(this)).ngModule=r,i}return D(e,[{key:"resolveComponentFactory",value:function(i){var a=bt(i);return new Sd(a,this.ngModule)}}]),e}(xs);function s0(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}var Sd=function(t){Q(e,t);var n=X(e);function e(r,i){var a;return w(this,e),(a=n.call(this)).componentDef=r,a.ngModule=i,a.componentType=r.type,a.selector=function M1(t){return t.map(R1).join(",")}(r.selectors),a.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],a.isBoundToModule=!!i,a}return D(e,[{key:"inputs",get:function(){return s0(this.componentDef.inputs)}},{key:"outputs",get:function(){return s0(this.componentDef.outputs)}},{key:"create",value:function(i,a,o,s){var g,E,u=(s=s||this.ngModule)?function yP(t,n){return{get:function(r,i,a){var o=t.get(r,Td,a);return o!==Td||i===Td?o:n.get(r,i,a)}}}(i,s.injector):i,l=u.get(a0,Wg),c=u.get(dP,null),f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=o?function L_(t,n,e){if(rt(t))return t.selectRootElement(n,e===sr.ShadowDom);var i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(f,o,this.componentDef.encapsulation):Th(l.createRenderer(null,this.componentDef),h,function gP(t){var n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),v=this.componentDef.onPush?576:528,p=function lm(t,n){return{components:[],scheduler:t||e1,clean:dO,playerHandler:n||null,flags:0}}(),_=El(0,null,null,1,0,null,null,null,null,null),m=ws(null,_,p,v,null,null,l,f,c,u);qu(m);try{var T=function sm(t,n,e,r,i,a){var o=e[1];e[20]=t;var u=Ha(o,20,2,"#host",null),l=u.mergedAttrs=n.hostAttrs;null!==l&&(Dl(u,l,!0),null!==t&&($u(i,t,l),null!==u.classes&&Ah(i,t,u.classes),null!==u.styles&&d_(i,t,u.styles)));var c=r.createRenderer(t,n),f=ws(e,x_(n),null,n.onPush?64:16,e[20],u,r,c,a||null,null);return o.firstCreatePass&&(rl(as(u,e),o,n.type),H_(o,u),G_(u,e.length,1)),Cl(e,f),e[20]=f}(d,this.componentDef,m,l,f);if(d)if(o)$u(f,d,["ng-version",vP.full]);else{var R=function O1(t){for(var n=[],e=[],r=1,i=2;r<t.length;){var a=t[r];if("string"==typeof a)2===i?""!==a&&n.push(a,t[++r]):8===i&&e.push(a);else{if(!Un(i))break;i=a}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]),x=R.attrs,P=R.classes;x&&$u(f,d,x),P&&P.length>0&&Ah(f,d,P.join(" "))}if(E=function Uf(t,n){return t.data[n]}(_,20),void 0!==a)for(var k=E.projection=[],B=0;B<this.ngContentSelectors.length;B++){var C=a[B];k.push(null!=C?Array.from(C):null)}g=function um(t,n,e,r,i){var a=e[1],o=function J1(t,n,e){var r=gt();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),V_(t,r,n,Ga(t,n,1,null),e));var a=os(n,t,r.directiveStart,r);xt(a,n);var o=wn(r,n);return o&&xt(o,n),a}(a,e,n);if(r.components.push(o),t[8]=o,i&&i.forEach(function(c){return c(o,n)}),n.contentQueries){var s=gt();n.contentQueries(1,o,s.directiveStart)}var u=gt();return!a.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ri(u.index),B_(e[1],u,0,u.directiveStart,u.directiveEnd,n),U_(n,o)),o}(T,this.componentDef,m,p,[FO]),Ts(_,m,null)}finally{Zu()}return new mP(this.componentType,g,so(E,m),m,E)}}]),e}(n0),mP=function(t){Q(e,t);var n=X(e);function e(r,i,a,o,s){var u;return w(this,e),(u=n.call(this)).location=a,u._rootLView=o,u._tNode=s,u.instance=i,u.hostView=u.changeDetectorRef=new pP(o),u.componentType=r,u}return D(e,[{key:"injector",get:function(){return new ba(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),e}(oP),Fr=D(function t(){w(this,t)}),u0=D(function t(){w(this,t)}),uo=new Map;var f0=function(t){Q(e,t);var n=X(e);function e(r,i){var a;w(this,e),(a=n.call(this))._parent=i,a._bootstrapComponents=[],a.injector=Bt(a),a.destroyCbs=[],a.componentFactoryResolver=new o0(Bt(a));var o=En(r);return a._bootstrapComponents=hr(o.bootstrap),a._r3Injector=em(r,i,[{provide:Fr,useValue:Bt(a)},{provide:xs,useValue:a.componentFactoryResolver}],Ne(r)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(r),a}return D(e,[{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt.THROW_IF_NOT_FOUND,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se.Default;return i===Qt||i===Fr||i===Qh?this:this._r3Injector.get(i,a,o)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(a){return a()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),e}(Fr),Id=function(t){Q(e,t);var n=X(e);function e(r){var i;return w(this,e),(i=n.call(this)).moduleType=r,null!==En(r)&&function CP(t){var n=new Set;!function e(r){var i=En(r,!0),a=i.id;null!==a&&(function l0(t,n,e){if(n&&n!==e)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Ne(n)," vs ").concat(Ne(n.name)))}(a,uo.get(a),r),uo.set(a,r));var l,u=A(hr(i.imports));try{for(u.s();!(l=u.n()).done;){var c=l.value;n.has(c)||(n.add(c),e(c))}}catch(f){u.e(f)}finally{u.f()}}(t)}(r),i}return D(e,[{key:"create",value:function(i){return new f0(this.moduleType,i)}}]),e}(u0),BP=function(t){Q(e,t);var n=X(e);function e(){var r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return w(this,e),(r=n.call(this)).__isAsync=i,r}return D(e,[{key:"emit",value:function(i){nt(Ue(e.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,a,o){var s,u,l,c=i,f=a||function(){return null},h=o;if(i&&"object"==typeof i){var d=i;c=null===(s=d.next)||void 0===s?void 0:s.bind(d),f=null===(u=d.error)||void 0===u?void 0:u.bind(d),h=null===(l=d.complete)||void 0===l?void 0:l.bind(d)}this.__isAsync&&(f=Rd(f),c&&(c=Rd(c)),h&&(h=Rd(h)));var v=nt(Ue(e.prototype),"subscribe",this).call(this,{next:c,error:f,complete:h});return i instanceof Ut&&i.add(v),v}}]),e}(Sr);function Rd(t){return function(n){setTimeout(t,void 0,n)}}var zt=BP;Symbol;var Wn=function(){var t=D(function n(){w(this,n)});return t.__NG_ELEMENT_ID__=WP,t}();function WP(){return function m0(t,n){var e,r=n[t.index];if(jn(r))e=r;else{var i;if(8&t.type)i=lt(r);else{var a=n[11];i=a.createComment("");var o=wn(t,n);Gi(a,vl(a,o),i,function p1(t,n){return rt(t)?t.nextSibling(n):n.nextSibling}(a,o),!1)}n[t.index]=e=function z_(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}(r,n,i,t),Cl(n,e)}return new y0(e,t,n)}(gt(),N())}var y0=function(t){Q(e,t);var n=X(e);function e(r,i,a){var o;return w(this,e),(o=n.call(this))._lContainer=r,o._hostTNode=i,o._hostLView=a,o}return D(e,[{key:"element",get:function(){return so(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ba(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=nl(this._hostTNode,this._hostLView);if(uy(i)){var a=Aa(i,this._hostLView),o=Oa(i);return new ba(a[1].data[o+8],a)}return new ba(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var a=_0(this._lContainer);return null!==a&&a[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,a,o){var s=i.createEmbeddedView(a||{});return this.insert(s,o),s}},{key:"createComponent",value:function(i,a,o,s,u){var c,l=i&&!function ls(t){return"function"==typeof t}(i);if(l)c=a;else{var f=a||{};c=f.index,o=f.injector,s=f.projectableNodes,u=f.ngModuleRef}var h=l?i:new Sd(bt(i)),d=o||this.parentInjector;if(!u&&null==h.ngModule){var p=(l?d:this.parentInjector).get(Fr,null);p&&(u=p)}var _=h.create(d,s,void 0,u);return this.insert(_.hostView,c),_}},{key:"insert",value:function(i,a){var o=i._lView,s=o[1];if(function KI(t){return jn(t[3])}(o)){var u=this.indexOf(i);if(-1!==u)this.detach(u);else{var l=o[3],c=new y0(l,l[6],l[3]);c.detach(c.indexOf(i))}}var f=this._adjustIndex(a),h=this._lContainer;!function c1(t,n,e,r){var i=10+r,a=e.length;r>0&&(e[i-1][4]=n),r<a-10?(n[4]=e[i],_y(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;var o=n[17];null!==o&&e!==o&&function f1(t,n){var e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(o,n);var s=n[19];null!==s&&s.insertView(t),n[2]|=128}(s,o,h,f);var d=Mh(f,h),v=o[11],p=vl(v,h[7]);return null!==p&&function s1(t,n,e,r,i,a){r[0]=i,r[6]=n,Ds(t,r,e,1,i,a)}(s,h[6],v,o,p,d),i.attachToViewContainerRef(),_y(Md(h),f,i),i}},{key:"move",value:function(i,a){return this.insert(i,a)}},{key:"indexOf",value:function(i){var a=_0(this._lContainer);return null!==a?a.indexOf(i):-1}},{key:"remove",value:function(i){var a=this._adjustIndex(i,-1),o=Sh(this._lContainer,a);o&&(al(Md(this._lContainer),a),t_(o[1],o))}},{key:"detach",value:function(i){var a=this._adjustIndex(i,-1),o=Sh(this._lContainer,a);return o&&null!=al(Md(this._lContainer),a)?new ks(o):null}},{key:"_adjustIndex",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+a:i}}]),e}(Wn);function _0(t){return t[8]}function Md(t){return t[8]||(t[8]=[])}function Bl(){}var jd=new we("Application Initializer"),Bd=function(){var t=function(){function n(e){var r=this;w(this,n),this.appInits=e,this.resolve=Bl,this.reject=Bl,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,a){r.resolve=i,r.reject=a})}return D(n,[{key:"runInitializers",value:function(){var r=this;if(!this.initialized){var i=[],a=function(){r.done=!0,r.resolve()};if(this.appInits)for(var o=function(l){var c=r.appInits[l]();if(Sl(c))i.push(c);else if(Lm(c)){var f=new Promise(function(h,d){c.subscribe({complete:h,error:d})});i.push(f)}},s=0;s<this.appInits.length;s++)o(s);Promise.all(i).then(function(){a()}).catch(function(u){r.reject(u)}),0===i.length&&a(),this.initialized=!0}}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(jd,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),js=new we("AppId",{providedIn:"root",factory:function H0(){return"".concat(Ud()).concat(Ud()).concat(Ud())}});function Ud(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var G0=new we("Platform Initializer"),Hd=new we("Platform ID",{providedIn:"platform",factory:function(){return"unknown"}}),V0=new we("appBootstrapListener"),wx=function(){var t=function(){function n(){w(this,n)}return D(n,[{key:"log",value:function(r){console.log(r)}},{key:"warn",value:function(r){console.warn(r)}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"}),t}(),fi=new we("LocaleId",{providedIn:"root",factory:function(){return YR(fi,se.Optional|se.SkipSelf)||function Tx(){return"undefined"!=typeof $localize&&$localize.locale||Ml}()}}),Ix=D(function t(n,e){w(this,t),this.ngModuleFactory=n,this.componentFactories=e}),z0=function(){var t=function(){function n(){w(this,n)}return D(n,[{key:"compileModuleSync",value:function(r){return new Id(r)}},{key:"compileModuleAsync",value:function(r){return Promise.resolve(this.compileModuleSync(r))}},{key:"compileModuleAndAllComponentsSync",value:function(r){var i=this.compileModuleSync(r),o=hr(En(r).declarations).reduce(function(s,u){var l=bt(u);return l&&s.push(new Sd(l)),s},[]);return new Ix(i,o)}},{key:"compileModuleAndAllComponentsAsync",value:function(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}},{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(r){}},{key:"getModuleId",value:function(r){}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Mx=function(){return Promise.resolve(0)}();function Gd(t){"undefined"==typeof Zone?Mx.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var $t=function(){function t(n){var e=n.enableLongStackTrace,r=void 0!==e&&e,i=n.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=n.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(w(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Ox(){var t=Be.requestAnimationFrame,n=Be.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){var e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);var r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Px(t){var n=function(){!function bx(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,zd(t),t.isCheckStableRunning=!0,Vd(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),zd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(r,i,a,o,s,u){try{return W0(t),r.invokeTask(a,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Y0(t)}},onInvoke:function(r,i,a,o,s,u,l){try{return W0(t),r.invoke(a,o,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),Y0(t)}},onHasTask:function(r,i,a,o){r.hasTask(a,o),i===a&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,zd(t),Vd(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(r,i,a,o){return r.handleError(a,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}(u)}return D(t,[{key:"run",value:function(e,r,i){return this._inner.run(e,r,i)}},{key:"runTask",value:function(e,r,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,e,Ax,Bl,Bl);try{return o.runTask(s,r,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(e,r,i){return this._inner.runGuarded(e,r,i)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Ax={};function Vd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function zd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function W0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Y0(t){t._nesting--,Vd(t)}var xx=function(){function t(){w(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zt,this.onMicrotaskEmpty=new zt,this.onStable=new zt,this.onError=new zt}return D(t,[{key:"run",value:function(e,r,i){return e.apply(r,i)}},{key:"runGuarded",value:function(e,r,i){return e.apply(r,i)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,r,i,a){return e.apply(r,i)}}]),t}(),Wd=function(){var t=function(){function n(e){var r=this;w(this,n),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){r.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return D(n,[{key:"_watchAngularEvents",value:function(){var r=this;this._ngZone.onUnstable.subscribe({next:function(){r._didWork=!0,r._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){r._ngZone.onStable.subscribe({next:function(){$t.assertNotInAngularZone(),Gd(function(){r._isZoneStable=!0,r._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var r=this;if(this.isStable())Gd(function(){for(;0!==r._callbacks.length;){var a=r._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(r._didWork)}r._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(a){return!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(r){return{source:r.source,creationLocation:r.creationLocation,data:r.data}}):[]}},{key:"addCallback",value:function(r,i,a){var o=this,s=-1;i&&i>0&&(s=setTimeout(function(){o._callbacks=o._callbacks.filter(function(u){return u.timeoutId!==s}),r(o._didWork,o.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:a})}},{key:"whenStable",value:function(r,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,a),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(r,i,a){return[]}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J($t))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),kx=function(){var t=function(){function n(){w(this,n),this._applications=new Map,Yd.addToWindow(this)}return D(n,[{key:"registerApplication",value:function(r,i){this._applications.set(r,i)}},{key:"unregisterApplication",value:function(r){this._applications.delete(r)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(r){return this._applications.get(r)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(r){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Yd.findTestabilityInTree(this,r,i)}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"}),t}(),Lx=function(){function t(){w(this,t)}return D(t,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,r,i){return null}}]),t}(),Yd=new Lx,Yi=null,X0=new we("AllowMultipleToken"),q0=new we("PlatformOnDestroy");function Nx(t,n,e){var r=new Id(e);return Promise.resolve(r)}var Z0=D(function t(n,e){w(this,t),this.name=n,this.token=e});function Bx(t){if(Yi&&!Yi.get(X0,!1))throw new be(400,"");Yi=t;var e=t.get(J0),r=t.get(G0,null);return r&&r.forEach(function(i){return i()}),e}function K0(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(n),i=new we(r);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Xd();if(!o||o.injector.get(X0,!1)){var s=[].concat(Z(e),Z(a),[{provide:i,useValue:!0}]);t?t(s):Bx(Hx(s,r))}return Ux()}}function Ux(t){var n=Xd();if(!n)throw new be(401,"");return n}function Hx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return Qt.create({name:n,providers:[{provide:$h,useValue:"platform"},{provide:q0,useValue:function(){return Yi=null}}].concat(Z(t))})}function Xd(){var t;return null!==(t=null==Yi?void 0:Yi.get(J0))&&void 0!==t?t:null}var J0=function(){var t=function(){function n(e){w(this,n),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return D(n,[{key:"bootstrapModuleFactory",value:function(r,i){var a=this,l=function Gx(t,n){return"noop"===t?new xx:("zone.js"===t?void 0:t)||new $t({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:$t,useValue:l}];return l.run(function(){var f=Qt.create({providers:c,parent:a.injector,name:r.moduleType.name}),h=r.create(f),d=h.injector.get(Es,null);if(!d)throw new be(402,"");return l.runOutsideAngular(function(){var p=l.onError.subscribe({next:function(m){d.handleError(m)}});h.onDestroy(function(){Zd(a._modules,h),p.unsubscribe()})}),function Vx(t,n,e){try{var r=e();return Sl(r)?r.catch(function(i){throw n.runOutsideAngular(function(){return t.handleError(i)}),i}):r}catch(i){throw n.runOutsideAngular(function(){return t.handleError(i)}),i}}(d,l,function(){var p=h.injector.get(Bd);return p.runInitializers(),p.donePromise.then(function(){return function cb(t){sn(t,"Expected localeId to be defined"),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}(h.injector.get(fi,Ml)||Ml),a._moduleDoBootstrap(h),h})})})}},{key:"bootstrapModule",value:function(r){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Q0({},a);return Nx(0,0,r).then(function(s){return i.bootstrapModuleFactory(s,o)})}},{key:"_moduleDoBootstrap",value:function(r){var i=r.injector.get(qd);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(function(o){return i.bootstrap(o)});else{if(!r.instance.ngDoBootstrap)throw new be(403,"");r.instance.ngDoBootstrap(i)}this._modules.push(r)}},{key:"onDestroy",value:function(r){this._destroyListeners.push(r)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new be(404,"");this._modules.slice().forEach(function(a){return a.destroy()}),this._destroyListeners.forEach(function(a){return a()});var i=this._injector.get(q0,null);null==i||i(),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(Qt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"}),t}();function Q0(t,n){return Array.isArray(n)?n.reduce(Q0,t):Object.assign(Object.assign({},t),n)}var qd=function(){var t=function(){function n(e,r,i,a){var o=this;w(this,n),this._zone=e,this._injector=r,this._exceptionHandler=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var s=new ut(function(l){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){l.next(o._stable),l.complete()})}),u=new ut(function(l){var c;o._zone.runOutsideAngular(function(){c=o._zone.onStable.subscribe(function(){$t.assertNotInAngularZone(),Gd(function(){!o._stable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks&&(o._stable=!0,l.next(!0))})})});var f=o._zone.onUnstable.subscribe(function(){$t.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){l.next(!1)}))});return function(){c.unsubscribe(),f.unsubscribe()}});this.isStable=function vI(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=Ko(n),i=sI(n,1/0),a=n;return a.length?1===a.length?Ir(a[0]):Zo(i)(It(a,r)):Mr}(s,u.pipe(function pI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.connector,e=void 0===n?function(){return new Sr}:n,r=t.resetOnError,i=void 0===r||r,a=t.resetOnComplete,o=void 0===a||a,s=t.resetOnRefCountZero,u=void 0===s||s;return function(l){var c=null,f=null,h=null,d=0,v=!1,p=!1,_=function(){null==f||f.unsubscribe(),f=null},m=function(){_(),c=h=null,v=p=!1},g=function(){var T=c;m(),null==T||T.unsubscribe()};return Tt(function(E,T){d++,!p&&!v&&_();var R=h=null!=h?h:e();T.add(function(){0==--d&&!p&&!v&&(f=Cf(g,u))}),R.subscribe(T),c||(c=new Lu({next:function(P){return R.next(P)},error:function(P){p=!0,_(),f=Cf(m,i,P),R.error(P)},complete:function(){v=!0,_(),f=Cf(m,o),R.complete()}}),It(E).subscribe(c))})(l)}}()))}return D(n,[{key:"bootstrap",value:function(r,i){var s,a=this;if(!this._initStatus.done)throw new be(405,"");s=r instanceof n0?r:this._injector.get(xs).resolveComponentFactory(r),this.componentTypes.push(s.componentType);var l=function jx(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Fr),f=s.create(Qt.NULL,[],i||s.selector,l),h=f.location.nativeElement,d=f.injector.get(Wd,null),v=d&&f.injector.get(kx);return d&&v&&v.registerApplication(h,d),f.onDestroy(function(){a.detachView(f.hostView),Zd(a.components,f),v&&v.unregisterApplication(h)}),this._loadComponent(f),f}},{key:"tick",value:function(){var r=this;if(this._runningTick)throw new be(101,"");try{this._runningTick=!0;var o,a=A(this._views);try{for(a.s();!(o=a.n()).done;)o.value.detectChanges()}catch(f){a.e(f)}finally{a.f()}}catch(f){this._zone.runOutsideAngular(function(){return r._exceptionHandler.handleError(f)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(r){var i=r;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(r){var i=r;Zd(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(V0,[]).concat(this._bootstrapListeners).forEach(function(a){return a(r)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(r){return r.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J($t),J(Qt),J(Es),J(Bd))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Zd(t,n){var e=t.indexOf(n);e>-1&&t.splice(e,1)}var Kd=function(){var t=D(function n(){w(this,n)});return t.__NG_ELEMENT_ID__=Yx,t}();function Yx(t){return function Xx(t,n,e){if(zu(t)&&!e){var r=ln(t.index,n);return new ks(r,r)}return 47&t.type?new ks(n[16],n):null}(gt(),N(),16==(16&t))}var ik=K0(null,"core",[]),ak=function(){var t=D(function n(e){w(this,n)});return t.\u0275fac=function(e){return new(e||t)(J(qd))},t.\u0275mod=br({type:t}),t.\u0275inj=or({}),t}(),Hl=null;function hi(){return Hl}var uk=D(function t(){w(this,t)}),dn=new we("DocumentToken"),qi=function(){var t=function(){function n(){w(this,n)}return D(n,[{key:"historyGo",value:function(r){throw new Error("Not implemented")}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:function(){return function lk(){return J(fC)}()},providedIn:"platform"}),t}(),ck=new we("Location Initialized"),fC=function(){var t=function(n){Q(r,n);var e=X(r);function r(i){var a;return w(this,r),(a=e.call(this))._doc=i,a._init(),a}return D(r,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return hi().getBaseHref(this._doc)}},{key:"onPopState",value:function(a){var o=hi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",a,!1),function(){return o.removeEventListener("popstate",a)}}},{key:"onHashChange",value:function(a){var o=hi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",a,!1),function(){return o.removeEventListener("hashchange",a)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(a){this.location.pathname=a}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(a,o,s){hC()?this._history.pushState(a,o,s):this.location.hash=s}},{key:"replaceState",value:function(a,o,s){hC()?this._history.replaceState(a,o,s):this.location.hash=s}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(a)}},{key:"getState",value:function(){return this._history.state}}]),r}(qi);return t.\u0275fac=function(e){return new(e||t)(J(dn))},t.\u0275prov=ve({token:t,factory:function(){return function fk(){return new fC(J(dn))}()},providedIn:"platform"}),t}();function hC(){return!!window.history.pushState}function nv(t,n){if(0==t.length)return n;if(0==n.length)return t;var e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function dC(t){var n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function jr(t){return t&&"?"!==t[0]?"?"+t:t}var co=function(){var t=function(){function n(){w(this,n)}return D(n,[{key:"historyGo",value:function(r){throw new Error("Not implemented")}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:function(){return function hk(t){var n=J(dn).location;return new vC(J(qi),n&&n.origin||"")}()},providedIn:"root"}),t}(),rv=new we("appBaseHref"),vC=function(){var t=function(n){Q(r,n);var e=X(r);function r(i,a){var o;if(w(this,r),(o=e.call(this))._platformLocation=i,o._removeListenerFns=[],null==a&&(a=o._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=a,o}return D(r,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(a){return nv(this._baseHref,a)}},{key:"path",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this._platformLocation.pathname+jr(this._platformLocation.search),s=this._platformLocation.hash;return s&&a?"".concat(o).concat(s):o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+jr(u));this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+jr(u));this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,a)}}]),r}(co);return t.\u0275fac=function(e){return new(e||t)(J(qi),J(rv,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),dk=function(){var t=function(n){Q(r,n);var e=X(r);function r(i,a){var o;return w(this,r),(o=e.call(this))._platformLocation=i,o._baseHref="",o._removeListenerFns=[],null!=a&&(o._baseHref=a),o}return D(r,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}},{key:"prepareExternalUrl",value:function(a){var o=nv(this._baseHref,a);return o.length>0?"#"+o:o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+jr(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+jr(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,a)}}]),r}(co);return t.\u0275fac=function(e){return new(e||t)(J(qi),J(rv,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),iv=function(){var t=function(){function n(e,r){var i=this;w(this,n),this._subject=new zt,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=dC(pC(a)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}return D(n,[{key:"path",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(r))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(r+jr(i))}},{key:"normalize",value:function(r){return n.stripTrailingSlash(function pk(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,pC(r)))}},{key:"prepareExternalUrl",value:function(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}},{key:"go",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+jr(i)),a)}},{key:"replaceState",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+jr(i)),a)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var i,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,r)}},{key:"onUrlChange",value:function(r){var i=this;this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(a){i._notifyUrlChangeListeners(a.url,a.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(a){return a(r,i)})}},{key:"subscribe",value:function(r,i,a){return this._subject.subscribe({next:r,error:i,complete:a})}}]),n}();return t.normalizeQueryParams=jr,t.joinWithSlash=nv,t.stripTrailingSlash=dC,t.\u0275fac=function(e){return new(e||t)(J(co),J(qi))},t.\u0275prov=ve({token:t,factory:function(){return function vk(){return new iv(J(co),J(qi))}()},providedIn:"root"}),t}();function pC(t){return t.replace(/\/index.html$/,"")}function TC(t,n){n=encodeURIComponent(n);var r,e=A(t.split(";"));try{for(e.s();!(r=e.n()).done;){var i=r.value,a=i.indexOf("="),s=Y(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===n)return decodeURIComponent(l)}}catch(c){e.e(c)}finally{e.f()}return null}var AL=function(){var t=D(function n(){w(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=br({type:t}),t.\u0275inj=or({}),t}(),kL=function(){var t=D(function n(){w(this,n)});return t.\u0275prov=ve({token:t,providedIn:"root",factory:function(){return new LL(J(dn),window)}}),t}(),LL=function(){function t(n,e){w(this,t),this.document=n,this.window=e,this.offset=function(){return[0,0]}}return D(t,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var r=function FL(t,n){var e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(n)||a.querySelector('[name="'.concat(n,'"]'));if(o)return o}i=r.nextNode()}return null}(this.document,e);r&&(this.scrollToElement(r),r.focus())}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,a=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],a-o[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=AC(this.window.history)||AC(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(r){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),t}();function AC(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Jl,_v=D(function t(){w(this,t)}),NL=function(t){Q(e,t);var n=X(e);function e(){var r;return w(this,e),(r=n.apply(this,arguments)).supportsDOMEvents=!0,r}return D(e)}(uk),jL=function(t){Q(e,t);var n=X(e);function e(){return w(this,e),n.apply(this,arguments)}return D(e,[{key:"onAndCancel",value:function(i,a,o){return i.addEventListener(a,o,!1),function(){i.removeEventListener(a,o,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=function BL(){return(Gs=Gs||document.querySelector("base"))?Gs.getAttribute("href"):null}();return null==a?null:function UL(t){(Jl=Jl||document.createElement("a")).setAttribute("href",t);var n=Jl.pathname;return"/"===n.charAt(0)?n:"/".concat(n)}(a)}},{key:"resetBaseElement",value:function(){Gs=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return TC(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function sk(t){Hl||(Hl=t)}(new e)}}]),e}(NL),Gs=null,bC=new we("TRANSITION_ID"),GL=[{provide:jd,useFactory:function HL(t,n,e){return function(){e.get(Bd).donePromise.then(function(){for(var r=hi(),i=n.querySelectorAll('style[ng-transition="'.concat(t,'"]')),a=0;a<i.length;a++)r.remove(i[a])})}},deps:[bC,dn,Qt],multi:!0}],VL=function(){function t(){w(this,t)}return D(t,[{key:"addToWindow",value:function(e){Be.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.findTestabilityInTree(i,a);if(null==o)throw new Error("Could not find testability for element.");return o},Be.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Be.getAllAngularRootElements=function(){return e.getAllRootElements()},Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(function(a){var o=Be.getAllAngularTestabilities(),s=o.length,u=!1,l=function(f){u=u||f,0==--s&&a(u)};o.forEach(function(c){c.whenStable(l)})})}},{key:"findTestabilityInTree",value:function(e,r,i){if(null==r)return null;var a=e.getTestability(r);return null!=a?a:i?hi().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null}}],[{key:"init",value:function(){!function Fx(t){Yd=t}(new t)}}]),t}(),zL=function(){var t=function(){function n(){w(this,n)}return D(n,[{key:"build",value:function(){return new XMLHttpRequest}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),Ql=new we("EventManagerPlugins"),$l=function(){var t=function(){function n(e,r){var i=this;w(this,n),this._zone=r,this._eventNameToPlugin=new Map,e.forEach(function(a){return a.manager=i}),this._plugins=e.slice().reverse()}return D(n,[{key:"addEventListener",value:function(r,i,a){return this._findPluginFor(i).addEventListener(r,i,a)}},{key:"addGlobalEventListener",value:function(r,i,a){return this._findPluginFor(i).addGlobalEventListener(r,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(r){var i=this._eventNameToPlugin.get(r);if(i)return i;for(var a=this._plugins,o=0;o<a.length;o++){var s=a[o];if(s.supports(r))return this._eventNameToPlugin.set(r,s),s}throw new Error("No event manager plugin found for event ".concat(r))}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(Ql),J($t))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),PC=function(){function t(n){w(this,t),this._doc=n}return D(t,[{key:"addGlobalEventListener",value:function(e,r,i){var a=hi().getGlobalEventTarget(this._doc,e);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(r));return this.addEventListener(a,r,i)}}]),t}(),xC=function(){var t=function(){function n(){w(this,n),this._stylesSet=new Set}return D(n,[{key:"addStyles",value:function(r){var i=this,a=new Set;r.forEach(function(o){i._stylesSet.has(o)||(i._stylesSet.add(o),a.add(o))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(r){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),Vs=function(){var t=function(n){Q(r,n);var e=X(r);function r(i){var a;return w(this,r),(a=e.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return D(r,[{key:"_addStylesToHost",value:function(a,o,s){var u=this;a.forEach(function(l){var c=u._doc.createElement("style");c.textContent=l,s.push(o.appendChild(c))})}},{key:"addHost",value:function(a){var o=[];this._addStylesToHost(this._stylesSet,a,o),this._hostNodes.set(a,o)}},{key:"removeHost",value:function(a){var o=this._hostNodes.get(a);o&&o.forEach(kC),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var o=this;this._hostNodes.forEach(function(s,u){o._addStylesToHost(a,u,s)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(kC)})}}]),r}(xC);return t.\u0275fac=function(e){return new(e||t)(J(dn))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}();function kC(t){hi().remove(t)}var mv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ev=/%COMP%/g,WL="_nghost-".concat("%COMP%"),YL="_ngcontent-".concat("%COMP%");function ec(t,n,e){for(var r=0;r<n.length;r++){var i=n[r];Array.isArray(i)?ec(t,i,e):(i=i.replace(Ev,t),e.push(i))}return e}function NC(t){return function(n){if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}var Cv=function(){var t=function(){function n(e,r,i){w(this,n),this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Dv(e)}return D(n,[{key:"createRenderer",value:function(r,i){if(!r||!i)return this.defaultRenderer;switch(i.encapsulation){case sr.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new KL(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(r),a;case 1:case sr.ShadowDom:return new JL(this.eventManager,this.sharedStylesHost,r,i);default:if(!this.rendererByCompId.has(i.id)){var o=ec(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J($l),J(Vs),J(js))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),Dv=function(){function t(n){w(this,t),this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}return D(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,r){return r?document.createElementNS(mv[r]||r,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,r){e.appendChild(r)}},{key:"insertBefore",value:function(e,r,i){e&&e.insertBefore(r,i)}},{key:"removeChild",value:function(e,r){e&&e.removeChild(r)}},{key:"selectRootElement",value:function(e,r){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return r||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,r,i,a){if(a){r=a+":"+r;var o=mv[a];o?e.setAttributeNS(o,r,i):e.setAttribute(r,i)}else e.setAttribute(r,i)}},{key:"removeAttribute",value:function(e,r,i){if(i){var a=mv[i];a?e.removeAttributeNS(a,r):e.removeAttribute("".concat(i,":").concat(r))}else e.removeAttribute(r)}},{key:"addClass",value:function(e,r){e.classList.add(r)}},{key:"removeClass",value:function(e,r){e.classList.remove(r)}},{key:"setStyle",value:function(e,r,i,a){a&(fn.DashCase|fn.Important)?e.style.setProperty(r,i,a&fn.Important?"important":""):e.style[r]=i}},{key:"removeStyle",value:function(e,r,i){i&fn.DashCase?e.style.removeProperty(r):e.style[r]=""}},{key:"setProperty",value:function(e,r,i){e[r]=i}},{key:"setValue",value:function(e,r){e.nodeValue=r}},{key:"listen",value:function(e,r,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,r,NC(i)):this.eventManager.addEventListener(e,r,NC(i))}}]),t}(),KL=function(t){Q(e,t);var n=X(e);function e(r,i,a,o){var s;w(this,e),(s=n.call(this,r)).component=a;var u=ec(o+"-"+a.id,a.styles,[]);return i.addStyles(u),s.contentAttr=function XL(t){return YL.replace(Ev,t)}(o+"-"+a.id),s.hostAttr=function qL(t){return WL.replace(Ev,t)}(o+"-"+a.id),s}return D(e,[{key:"applyToHost",value:function(i){nt(Ue(e.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var o=nt(Ue(e.prototype),"createElement",this).call(this,i,a);return nt(Ue(e.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),e}(Dv),JL=function(t){Q(e,t);var n=X(e);function e(r,i,a,o){var s;w(this,e),(s=n.call(this,r)).sharedStylesHost=i,s.hostEl=a,s.shadowRoot=a.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=ec(o.id,o.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return D(e,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return nt(Ue(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,o){return nt(Ue(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,o)}},{key:"removeChild",value:function(i,a){return nt(Ue(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(nt(Ue(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),e}(Dv),QL=function(){var t=function(n){Q(r,n);var e=X(r);function r(i){return w(this,r),e.call(this,i)}return D(r,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}]),r}(PC);return t.\u0275fac=function(e){return new(e||t)(J(dn))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),BC=["alt","control","meta","shift"],eF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tF={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},nF=function(){var t=function(n){Q(r,n);var e=X(r);function r(i){return w(this,r),e.call(this,i)}return D(r,[{key:"supports",value:function(a){return null!=r.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=r.parseEventName(o),l=r.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return hi().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=r._normalizeKey(o.pop()),l="";if(BC.forEach(function(f){var h=o.indexOf(f);h>-1&&(o.splice(h,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var c={};return c.domEventName=s,c.fullKey=l,c}},{key:"getEventFullKey",value:function(a){var o="",s=function rF(t){var n=t.key;if(null==n){if(null==(n=t.keyIdentifier))return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&UC.hasOwnProperty(n)&&(n=UC[n]))}return eF[n]||n}(a);return" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),BC.forEach(function(u){u!=s&&(0,tF[u])(a)&&(o+=u+".")}),o+=s}},{key:"eventCallback",value:function(a,o,s){return function(u){r.getEventFullKey(u)===a&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}]),r}(PC);return t.\u0275fac=function(e){return new(e||t)(J(dn))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),sF=[{provide:Hd,useValue:"browser"},{provide:G0,useValue:function iF(){jL.makeCurrent(),VL.init()},multi:!0},{provide:dn,useFactory:function oF(){return function YI(t){jf=t}(document),document},deps:[]}],uF=K0(ik,"browser",sF),lF=[{provide:$h,useValue:"root"},{provide:Es,useFactory:function aF(){return new Es},deps:[]},{provide:Ql,useClass:QL,multi:!0,deps:[dn,$t,Hd]},{provide:Ql,useClass:nF,multi:!0,deps:[dn]},{provide:Cv,useClass:Cv,deps:[$l,Vs,js]},{provide:a0,useExisting:Cv},{provide:xC,useExisting:Vs},{provide:Vs,useClass:Vs,deps:[dn]},{provide:Wd,useClass:Wd,deps:[$t]},{provide:$l,useClass:$l,deps:[Ql,$t]},{provide:_v,useClass:zL,deps:[]}],cF=function(){var t=function(){function n(e){if(w(this,n),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return D(n,null,[{key:"withServerTransition",value:function(r){return{ngModule:n,providers:[{provide:js,useValue:r.appId},{provide:bC,useExisting:js},GL]}}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(t,12))},t.\u0275mod=br({type:t}),t.\u0275inj=or({providers:lF,imports:[AL,ak]}),t}();function fe(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=Ko(n);return It(n,r)}"undefined"!=typeof window&&window;var qn=function(t){Q(e,t);var n=X(e);function e(r){var i;return w(this,e),(i=n.call(this))._value=r,i}return D(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var a=nt(Ue(e.prototype),"_subscribe",this).call(this,i);return!a.closed&&i.next(this._value),a}},{key:"getValue",value:function(){var o=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),o}},{key:"next",value:function(i){nt(Ue(e.prototype),"next",this).call(this,this._value=i)}}]),e}(Sr),mF=Array.isArray,EF=Object.getPrototypeOf,CF=Object.prototype,DF=Object.keys;function wF(t){if(1===t.length){var n=t[0];if(mF(n))return{args:n,keys:null};if(function TF(t){return t&&"object"==typeof t&&EF(t)===CF}(n)){var e=DF(n);return{args:e.map(function(r){return n[r]}),keys:e}}}return{args:t,keys:null}}var SF=Array.isArray;function RF(t){return Fe(function(n){return function IF(t,n){return SF(n)?t.apply(void 0,Z(n)):t(n)}(t,n)})}function MF(t,n){return t.reduce(function(e,r,i){return e[r]=n[i],e},{})}function AF(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ki;return function(r){VC(n,function(){for(var i=t.length,a=new Array(i),o=i,s=i,u=function(f){VC(n,function(){var h=It(t[f],n),d=!1;h.subscribe(St(r,function(v){a[f]=v,d||(d=!0,s--),s||r.next(e(a.slice()))},function(){--o||r.complete()}))},r)},l=0;l<i;l++)u(l)},r)}}function VC(t,n,e){t?Rr(e,t,n):n()}function tc(t,n){var e=Le(t)?t:function(){return t},r=function(a){return a.error(e())};return new ut(n?function(i){return n.schedule(r,0,i)}:r)}var nc=ar(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function bF(){return Zo(1)}function Tv(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return bF()(It(n,Ko(n)))}function zC(t){return new ut(function(n){Ir(t()).subscribe(n)})}function WC(){return Tt(function(t,n){var e=null;t._refCount++;var r=St(n,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)e=null;else{var i=t._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()}});t.subscribe(r),r.closed||(e=t.connect())})}var PF=function(t){Q(e,t);var n=X(e);function e(r,i){var a;return w(this,e),(a=n.call(this)).source=r,a.subjectFactory=i,a._subject=null,a._refCount=0,a._connection=null,dg(r)&&(a.lift=r.lift),a}return D(e,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var i=this._connection;this._subject=this._connection=null,null==i||i.unsubscribe()}},{key:"connect",value:function(){var i=this,a=this._connection;if(!a){a=this._connection=new Ut;var o=this.getSubject();a.add(this.source.subscribe(St(o,void 0,function(){i._teardown(),o.complete()},function(s){i._teardown(),o.error(s)},function(){return i._teardown()}))),a.closed&&(this._connection=null,a=Ut.EMPTY)}return a}},{key:"refCount",value:function(){return WC()(this)}}]),e}(ut);function Zi(t,n){return Tt(function(e,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};e.subscribe(St(r,function(u){null==i||i.unsubscribe();var l=0,c=a++;Ir(t(u,c)).subscribe(i=St(r,function(f){return r.next(n?n(u,f,c,l++):f)},function(){i=null,s()}))},function(){o=!0,s()}))})}function kF(t,n,e,r,i){return function(a,o){var s=e,u=n,l=0;a.subscribe(St(o,function(c){var f=l++;u=s?t(u,c,f):(s=!0,c),r&&o.next(u)},i&&function(){s&&o.next(u),o.complete()}))}}function YC(t,n){return Tt(kF(t,n,arguments.length>=2,!0))}function Ki(t,n){return Tt(function(e,r){var i=0;e.subscribe(St(r,function(a){return t.call(n,a,i++)&&r.next(a)}))})}function di(t){return Tt(function(n,e){var a,r=null,i=!1;r=n.subscribe(St(e,void 0,void 0,function(o){a=Ir(t(o,di(t)(n))),r?(r.unsubscribe(),r=null,a.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(e))})}function fo(t,n){return Le(n)?Et(t,n,1):Et(t,1)}function Sv(t){return t<=0?function(){return Mr}:Tt(function(n,e){var r=[];n.subscribe(St(e,function(i){r.push(i),t<r.length&&r.shift()},function(){var a,i=A(r);try{for(i.s();!(a=i.n()).done;)e.next(a.value)}catch(s){i.e(s)}finally{i.f()}e.complete()},void 0,function(){r=null}))})}function XC(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LF;return Tt(function(n,e){var r=!1;n.subscribe(St(e,function(i){r=!0,e.next(i)},function(){return r?e.complete():e.error(t())}))})}function LF(){return new nc}function qC(t){return Tt(function(n,e){var r=!1;n.subscribe(St(e,function(i){r=!0,e.next(i)},function(){r||e.next(t),e.complete()}))})}function ho(t,n){var e=arguments.length>=2;return function(r){return r.pipe(t?Ki(function(i,a){return t(i,a,r)}):ki,Nu(1),e?qC(n):XC(function(){return new nc}))}}function vn(t,n,e){var r=Le(t)||n||e?{next:t,error:n,complete:e}:t;return r?Tt(function(i,a){var o;null===(o=r.subscribe)||void 0===o||o.call(r);var s=!0;i.subscribe(St(a,function(u){var l;null===(l=r.next)||void 0===l||l.call(r,u),a.next(u)},function(){var u;s=!1,null===(u=r.complete)||void 0===u||u.call(r),a.complete()},function(u){var l;s=!1,null===(l=r.error)||void 0===l||l.call(r,u),a.error(u)},function(){var u,l;s&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ki}var Ur=D(function t(n,e){w(this,t),this.id=n,this.url=e}),Iv=function(t){Q(e,t);var n=X(e);function e(r,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(this,e),(a=n.call(this,r,i)).navigationTrigger=o,a.restoredState=s,a}return D(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Ur),zs=function(t){Q(e,t);var n=X(e);function e(r,i,a){var o;return w(this,e),(o=n.call(this,r,i)).urlAfterRedirects=a,o}return D(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(Ur),ZC=function(t){Q(e,t);var n=X(e);function e(r,i,a){var o;return w(this,e),(o=n.call(this,r,i)).reason=a,o}return D(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Ur),jF=function(t){Q(e,t);var n=X(e);function e(r,i,a){var o;return w(this,e),(o=n.call(this,r,i)).error=a,o}return D(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(Ur),BF=function(t){Q(e,t);var n=X(e);function e(r,i,a,o){var s;return w(this,e),(s=n.call(this,r,i)).urlAfterRedirects=a,s.state=o,s}return D(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ur),UF=function(t){Q(e,t);var n=X(e);function e(r,i,a,o){var s;return w(this,e),(s=n.call(this,r,i)).urlAfterRedirects=a,s.state=o,s}return D(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ur),HF=function(t){Q(e,t);var n=X(e);function e(r,i,a,o,s){var u;return w(this,e),(u=n.call(this,r,i)).urlAfterRedirects=a,u.state=o,u.shouldActivate=s,u}return D(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(Ur),GF=function(t){Q(e,t);var n=X(e);function e(r,i,a,o){var s;return w(this,e),(s=n.call(this,r,i)).urlAfterRedirects=a,s.state=o,s}return D(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ur),VF=function(t){Q(e,t);var n=X(e);function e(r,i,a,o){var s;return w(this,e),(s=n.call(this,r,i)).urlAfterRedirects=a,s.state=o,s}return D(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ur),KC=function(){function t(n){w(this,t),this.route=n}return D(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),JC=function(){function t(n){w(this,t),this.route=n}return D(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),zF=function(){function t(n){w(this,t),this.snapshot=n}return D(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),WF=function(){function t(n){w(this,t),this.snapshot=n}return D(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),YF=function(){function t(n){w(this,t),this.snapshot=n}return D(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),XF=function(){function t(n){w(this,t),this.snapshot=n}return D(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),QC=function(){function t(n,e,r){w(this,t),this.routerEvent=n,this.position=e,this.anchor=r}return D(t,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),t}(),Ce="primary",qF=function(){function t(n){w(this,t),this.params=n||{}}return D(t,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var r=this.params[e];return Array.isArray(r)?r[0]:r}return null}},{key:"getAll",value:function(e){if(this.has(e)){var r=this.params[e];return Array.isArray(r)?r:[r]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function vo(t){return new qF(t)}var $C="ngNavigationCancelingError";function Rv(t){var n=Error("NavigationCancelingError: "+t);return n[$C]=!0,n}function KF(t,n,e){var r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;for(var i={},a=0;a<r.length;a++){var o=r[a],s=t[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yr(t,n){var e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;for(var i,a=0;a<e.length;a++)if(!eD(t[i=e[a]],n[i]))return!1;return!0}function eD(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;var e=Z(t).sort(),r=Z(n).sort();return e.every(function(i,a){return r[a]===i})}return t===n}function tD(t){return Array.prototype.concat.apply([],t)}function nD(t){return t.length>0?t[t.length-1]:null}function Mt(t,n){for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)}function _r(t){return Lm(t)?t:Sl(t)?It(Promise.resolve(t)):fe(t)}var $F={exact:function aD(t,n,e){if(!Qi(t.segments,n.segments)||!rc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children)if(!t.children[r]||!aD(t.children[r],n.children[r],e))return!1;return!0},subset:oD},rD={exact:function eN(t,n){return yr(t,n)},subset:function tN(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(function(e){return eD(t[e],n[e])})},ignored:function(){return!0}};function iD(t,n,e){return $F[e.paths](t.root,n.root,e.matrixParams)&&rD[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function oD(t,n,e){return sD(t,n,n.segments,e)}function sD(t,n,e,r){if(t.segments.length>e.length){var i=t.segments.slice(0,e.length);return!(!Qi(i,e)||n.hasChildren()||!rc(i,e,r))}if(t.segments.length===e.length){if(!Qi(t.segments,e)||!rc(t.segments,e,r))return!1;for(var a in n.children)if(!t.children[a]||!oD(t.children[a],n.children[a],r))return!1;return!0}var o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Qi(t.segments,o)&&rc(t.segments,o,r)&&t.children[Ce])&&sD(t.children[Ce],n,s,r)}function rc(t,n,e){return n.every(function(r,i){return rD[e](t[i].parameters,r.parameters)})}var Ji=function(){function t(n,e,r){w(this,t),this.root=n,this.queryParams=e,this.fragment=r}return D(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=vo(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return iN.serialize(this)}}]),t}(),Te=function(){function t(n,e){var r=this;w(this,t),this.segments=n,this.children=e,this.parent=null,Mt(e,function(i,a){return i.parent=r})}return D(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return ic(this)}}]),t}(),Ws=function(){function t(n,e){w(this,t),this.path=n,this.parameters=e}return D(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=vo(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return hD(this)}}]),t}();function Qi(t,n){return t.length===n.length&&t.every(function(e,r){return e.path===n[r].path})}var uD=D(function t(){w(this,t)}),lD=function(){function t(){w(this,t)}return D(t,[{key:"parse",value:function(e){var r=new dN(e);return new Ji(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}},{key:"serialize",value:function(e){var r="/".concat(Ys(e.root,!0)),i=function sN(t){var n=Object.keys(t).map(function(e){var r=t[e];return Array.isArray(r)?r.map(function(i){return"".concat(ac(e),"=").concat(ac(i))}).join("&"):"".concat(ac(e),"=").concat(ac(r))}).filter(function(e){return!!e});return n.length?"?".concat(n.join("&")):""}(e.queryParams),a="string"==typeof e.fragment?"#".concat(function aN(t){return encodeURI(t)}(e.fragment)):"";return"".concat(r).concat(i).concat(a)}}]),t}(),iN=new lD;function ic(t){return t.segments.map(function(n){return hD(n)}).join("/")}function Ys(t,n){if(!t.hasChildren())return ic(t);if(n){var e=t.children[Ce]?Ys(t.children[Ce],!1):"",r=[];return Mt(t.children,function(a,o){o!==Ce&&r.push("".concat(o,":").concat(Ys(a,!1)))}),r.length>0?"".concat(e,"(").concat(r.join("//"),")"):e}var i=function rN(t,n){var e=[];return Mt(t.children,function(r,i){i===Ce&&(e=e.concat(n(r,i)))}),Mt(t.children,function(r,i){i!==Ce&&(e=e.concat(n(r,i)))}),e}(t,function(a,o){return o===Ce?[Ys(t.children[Ce],!1)]:["".concat(o,":").concat(Ys(a,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[Ce]?"".concat(ic(t),"/").concat(i[0]):"".concat(ic(t),"/(").concat(i.join("//"),")")}function cD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ac(t){return cD(t).replace(/%3B/gi,";")}function Mv(t){return cD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oc(t){return decodeURIComponent(t)}function fD(t){return oc(t.replace(/\+/g,"%20"))}function hD(t){return"".concat(Mv(t.path)).concat(function oN(t){return Object.keys(t).map(function(n){return";".concat(Mv(n),"=").concat(Mv(t[n]))}).join("")}(t.parameters))}var uN=/^[^\/()?;=#]+/;function sc(t){var n=t.match(uN);return n?n[0]:""}var lN=/^[^=?&#]+/,fN=/^[^&#]+/,dN=function(){function t(n){w(this,t),this.url=n,this.remaining=n}return D(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(i[Ce]=new Te(e,r)),i}},{key:"parseSegment",value:function(){var e=sc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Ws(oc(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var r=sc(this.remaining);if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var a=sc(this.remaining);a&&this.capture(i=a)}e[oc(r)]=oc(i)}}},{key:"parseQueryParam",value:function(e){var r=function cN(t){var n=t.match(lN);return n?n[0]:""}(this.remaining);if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var a=function hN(t){var n=t.match(fN);return n?n[0]:""}(this.remaining);a&&this.capture(i=a)}var o=fD(r),s=fD(i);if(e.hasOwnProperty(o)){var u=e[o];Array.isArray(u)||(e[o]=u=[u]),u.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=sc(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);var s=this.parseChildren();r[o]=1===Object.keys(s).length?s[Ce]:new Te([],s),this.consumeOptional("//")}return r}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),t}(),dD=function(){function t(n){w(this,t),this._root=n}return D(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}},{key:"children",value:function(e){var r=Ov(e,this._root);return r?r.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(e){var r=Ov(e,this._root);return r&&r.children.length>0?r.children[0].value:null}},{key:"siblings",value:function(e){var r=Av(e,this._root);return r.length<2?[]:r[r.length-2].children.map(function(a){return a.value}).filter(function(a){return a!==e})}},{key:"pathFromRoot",value:function(e){return Av(e,this._root).map(function(r){return r.value})}}]),t}();function Ov(t,n){if(t===n.value)return n;var r,e=A(n.children);try{for(e.s();!(r=e.n()).done;){var a=Ov(t,r.value);if(a)return a}}catch(o){e.e(o)}finally{e.f()}return null}function Av(t,n){if(t===n.value)return[n];var r,e=A(n.children);try{for(e.s();!(r=e.n()).done;){var a=Av(t,r.value);if(a.length)return a.unshift(n),a}}catch(o){e.e(o)}finally{e.f()}return[]}var Hr=function(){function t(n,e){w(this,t),this.value=n,this.children=e}return D(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function po(t){var n={};return t&&t.children.forEach(function(e){return n[e.value.outlet]=e}),n}var vD=function(t){Q(e,t);var n=X(e);function e(r,i){var a;return w(this,e),(a=n.call(this,r)).snapshot=i,bv(Bt(a),r),a}return D(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(dD);function pD(t,n){var e=function vN(t,n){var o=new uc([],{},{},"",{},Ce,n,null,t.root,-1,{});return new yD("",new Hr(o,[]))}(t,n),r=new qn([new Ws("",{})]),i=new qn({}),a=new qn({}),o=new qn({}),s=new qn(""),u=new go(r,i,o,s,a,Ce,n,e.root);return u.snapshot=e.root,new vD(new Hr(u,[]),e)}var go=function(){function t(n,e,r,i,a,o,s,u){w(this,t),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return D(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(function(e){return vo(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(function(e){return vo(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function gD(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",e=t.pathFromRoot,r=0;if("always"!==n)for(r=e.length-1;r>=1;){var i=e[r],a=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return pN(e.slice(r))}function pN(t){return t.reduce(function(n,e){return{params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var uc=function(){function t(n,e,r,i,a,o,s,u,l,c,f){w(this,t),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=f}return D(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=vo(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=vo(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(i){return i.toString()}).join("/"),r=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(r,"')")}}]),t}(),yD=function(t){Q(e,t);var n=X(e);function e(r,i){var a;return w(this,e),(a=n.call(this,i)).url=r,bv(Bt(a),i),a}return D(e,[{key:"toString",value:function(){return _D(this._root)}}]),e}(dD);function bv(t,n){n.value._routerState=t,n.children.forEach(function(e){return bv(t,e)})}function _D(t){var n=t.children.length>0?" { ".concat(t.children.map(_D).join(", ")," } "):"";return"".concat(t.value).concat(n)}function Pv(t){if(t.snapshot){var n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,yr(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),yr(n.params,e.params)||t.params.next(e.params),function JF(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;++e)if(!yr(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),yr(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xv(t,n){var e=yr(t.params,n.params)&&function nN(t,n){return Qi(t,n)&&t.every(function(e,r){return yr(e.parameters,n[r].parameters)})}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||xv(t.parent,n.parent))}function Xs(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){var r=e.value;r._futureSnapshot=n.value;var i=function yN(t,n,e){return n.children.map(function(r){var a,i=A(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t.shouldReuseRoute(r.value,o.value.snapshot))return Xs(t,r,o)}}catch(s){i.e(s)}finally{i.f()}return Xs(t,r)})}(t,n,e);return new Hr(r,i)}if(t.shouldAttach(n.value)){var a=t.retrieve(n.value);if(null!==a){var o=a.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(function(l){return Xs(t,l)}),o}}var s=function _N(t){return new go(new qn(t.url),new qn(t.params),new qn(t.queryParams),new qn(t.fragment),new qn(t.data),t.outlet,t.component,t)}(n.value),u=n.children.map(function(l){return Xs(t,l)});return new Hr(s,u)}function mN(t,n,e,r,i){if(0===e.length)return kv(n.root,n.root,n.root,r,i);var a=function EN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ED(!0,0,t);var n=0,e=!1,r=t.reduce(function(i,a,o){if("object"==typeof a&&null!=a){if(a.outlets){var s={};return Mt(a.outlets,function(u,l){s[l]="string"==typeof u?u.split("/"):u}),[].concat(Z(i),[{outlets:s}])}if(a.segmentPath)return[].concat(Z(i),[a.segmentPath])}return"string"!=typeof a?[].concat(Z(i),[a]):0===o?(a.split("/").forEach(function(u,l){0==l&&"."===u||(0==l&&""===u?e=!0:".."===u?n++:""!=u&&i.push(u))}),i):[].concat(Z(i),[a])},[]);return new ED(e,n,r)}(e);if(a.toRoot())return kv(n.root,n.root,new Te([],{}),r,i);var o=function CN(t,n,e){if(t.isAbsolute)return new Lv(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){var r=e.snapshot._urlSegment;return new Lv(r,r===n.root,0)}var a=lc(t.commands[0])?0:1;return function DN(t,n,e){for(var r=t,i=n,a=e;a>i;){if(a-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Lv(r,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(a,n,t),s=o.processChildren?cc(o.segmentGroup,o.index,a.commands):CD(o.segmentGroup,o.index,a.commands);return kv(n.root,o.segmentGroup,s,r,i)}function lc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qs(t){return"object"==typeof t&&null!=t&&t.outlets}function kv(t,n,e,r,i){var a={};if(r&&Mt(r,function(s,u){a[u]=Array.isArray(s)?s.map(function(l){return"".concat(l)}):"".concat(s)}),t===n)return new Ji(e,a,i);var o=mD(t,n,e);return new Ji(o,a,i)}function mD(t,n,e){var r={};return Mt(t.children,function(i,a){r[a]=i===n?e:mD(i,n,e)}),new Te(t.segments,r)}var ED=function(){function t(n,e,r){if(w(this,t),this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&lc(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(qs);if(i&&i!==nD(r))throw new Error("{outlets:{}} has to be the last command")}return D(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Lv=D(function t(n,e,r){w(this,t),this.segmentGroup=n,this.processChildren=e,this.index=r});function CD(t,n,e){if(t||(t=new Te([],{})),0===t.segments.length&&t.hasChildren())return cc(t,n,e);var r=function TN(t,n,e){for(var r=0,i=n,a={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=e.length)return a;var o=t.segments[i],s=e[r];if(qs(s))break;var u="".concat(s),l=r<e.length-1?e[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!wD(u,l,o))return a;r+=2}else{if(!wD(u,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var a=new Te(t.segments.slice(0,r.pathIndex),{});return a.children[Ce]=new Te(t.segments.slice(r.pathIndex),t.children),cc(a,0,i)}return r.match&&0===i.length?new Te(t.segments,{}):r.match&&!t.hasChildren()?Fv(t,n,e):r.match?cc(t,0,i):Fv(t,n,e)}function cc(t,n,e){if(0===e.length)return new Te(t.segments,{});var r=function wN(t){return qs(t[0])?t[0].outlets:te({},Ce,t)}(e),i={};return Mt(r,function(a,o){"string"==typeof a&&(a=[a]),null!==a&&(i[o]=CD(t.children[o],n,a))}),Mt(t.children,function(a,o){void 0===r[o]&&(i[o]=a)}),new Te(t.segments,i)}function Fv(t,n,e){for(var r=t.segments.slice(0,n),i=0;i<e.length;){var a=e[i];if(qs(a)){var o=SN(a.outlets);return new Te(r,o)}if(0===i&&lc(e[0]))r.push(new Ws(t.segments[n].path,DD(e[0]))),i++;else{var u=qs(a)?a.outlets[Ce]:"".concat(a),l=i<e.length-1?e[i+1]:null;u&&l&&lc(l)?(r.push(new Ws(u,DD(l))),i+=2):(r.push(new Ws(u,{})),i++)}}return new Te(r,{})}function SN(t){var n={};return Mt(t,function(e,r){"string"==typeof e&&(e=[e]),null!==e&&(n[r]=Fv(new Te([],{}),0,e))}),n}function DD(t){var n={};return Mt(t,function(e,r){return n[r]="".concat(e)}),n}function wD(t,n,e){return t==e.path&&yr(n,e.parameters)}var RN=function(){function t(n,e,r,i){w(this,t),this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i}return D(t,[{key:"activate",value:function(e){var r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,e),Pv(this.futureState.root),this.activateChildRoutes(r,i,e)}},{key:"deactivateChildRoutes",value:function(e,r,i){var a=this,o=po(r);e.children.forEach(function(s){var u=s.value.outlet;a.deactivateRoutes(s,o[u],i),delete o[u]}),Mt(o,function(s,u){a.deactivateRouteAndItsChildren(s,i)})}},{key:"deactivateRoutes",value:function(e,r,i){var a=e.value,o=r?r.value:null;if(a===o)if(a.component){var s=i.getContext(a.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,i);else o&&this.deactivateRouteAndItsChildren(r,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}},{key:"detachAndStoreRouteSubtree",value:function(e,r){for(var i=r.getContext(e.value.outlet),a=i&&e.value.component?i.children:r,o=po(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);if(i&&i.outlet){var c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}},{key:"deactivateRouteAndOutlet",value:function(e,r){for(var i=r.getContext(e.value.outlet),a=i&&e.value.component?i.children:r,o=po(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(e,r,i){var a=this,o=po(r);e.children.forEach(function(s){a.activateRoutes(s,o[s.value.outlet],i),a.forwardEvent(new XF(s.value.snapshot))}),e.children.length&&this.forwardEvent(new WF(e.value.snapshot))}},{key:"activateRoutes",value:function(e,r,i){var a=e.value,o=r?r.value:null;if(Pv(a),a===o)if(a.component){var s=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,i);else if(a.component){var u=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){var l=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),Pv(l.route.value),this.activateChildRoutes(e,null,u.children)}else{var c=function MN(t){for(var n=t.parent;n;n=n.parent){var e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),f=c?c.module.componentFactoryResolver:null;u.attachRef=null,u.route=a,u.resolver=f,u.outlet&&u.outlet.activateWith(a,f),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}]),t}(),Nv=D(function t(n,e){w(this,t),this.routes=n,this.module=e});function vi(t){return"function"==typeof t}function $i(t){return t instanceof Ji}var Zs=Symbol("INITIAL_VALUE");function Ks(){return Zi(function(t){return function OF(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=Ko(n),i=oI(n),a=wF(n),o=a.args,s=a.keys;if(0===o.length)return It([],r);var u=new ut(AF(o,r,s?function(l){return MF(s,l)}:ki));return i?u.pipe(RF(i)):u}(t.map(function(n){return n.pipe(Nu(1),function xF(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=Ko(n);return Tt(function(i,a){(r?Tv(n,i,r):Tv(n,i)).subscribe(a)})}(Zs))})).pipe(YC(function(n,e){var r=!1;return e.reduce(function(i,a,o){return i!==Zs?i:(a===Zs&&(r=!0),r||!1!==a&&o!==e.length-1&&!$i(a)?i:a)},n)},Zs),Ki(function(n){return n!==Zs}),Fe(function(n){return $i(n)?n:!0===n}),Nu(1))})}var kN=D(function t(){w(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Js,this.attachRef=null}),Js=function(){function t(){w(this,t),this.contexts=new Map}return D(t,[{key:"onChildOutletCreated",value:function(e,r){var i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var r=this.getContext(e);return r||(r=new kN,this.contexts.set(e,r)),r}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),t}(),jv=function(){var t=function(){function n(e,r,i,a,o){w(this,n),this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.name=a||Ce,e.onChildOutletCreated(this.name,this)}return D(n,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}},{key:"attach",value:function(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.attachEvents.emit(r.instance)}},{key:"deactivate",value:function(){if(this.activated){var r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}},{key:"activateWith",value:function(r,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;var s=(i=i||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,l=new LN(r,u,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),n}();return t.\u0275fac=function(e){return new(e||t)(ne(Js),ne(Wn),ne(xs),function ss(t){return function SR(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;var e=t.attrs;if(e)for(var r=e.length,i=0;i<r;){var a=e[i];if(oy(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(a===n)return e[i+1];i+=2}}return null}(gt(),t)}("name"),ne(Kd))},t.\u0275dir=At({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t}(),LN=function(){function t(n,e,r){w(this,t),this.route=n,this.childContexts=e,this.parent=r}return D(t,[{key:"get",value:function(e,r){return e===go?this.route:e===Js?this.childContexts:this.parent.get(e,r)}}]),t}(),TD=function(){var t=D(function n(){w(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Qo({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&zi(0,"router-outlet")},directives:[jv],encapsulation:2}),t}();function SD(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0;e<t.length;e++){var r=t[e],i=NN(n,r);FN(r,i)}}function FN(t,n){t.children&&SD(t.children,n)}function NN(t,n){return n?t||n.path?t&&!n.path?"".concat(t,"/"):!t&&n.path?n.path:"".concat(t,"/").concat(n.path):"":t}function Bv(t){var n=t.children&&t.children.map(Bv),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Ce&&(e.component=TD),e}function On(t){return t.outlet||Ce}function ID(t,n){var e=t.filter(function(r){return On(r)===n});return e.push.apply(e,Z(t.filter(function(r){return On(r)!==n}))),e}var RD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fc(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},RD):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};var a=(n.matcher||KF)(e,t,n);if(!a)return Object.assign({},RD);var o={};Mt(a.posParams,function(u,l){o[l]=u.path});var s=a.consumed.length>0?Object.assign(Object.assign({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:s,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function hc(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(e.length>0&&UN(t,e,r)){var a=new Te(n,BN(t,n,r,new Te(e,t.children)));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&HN(t,e,r)){var o=new Te(t.segments,jN(t,n,e,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}var s=new Te(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function jN(t,n,e,r,i,a){var u,o={},s=A(r);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(dc(t,e,l)&&!i[On(l)]){var c=new Te([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===a?t.segments.length:n.length,o[On(l)]=c}}}catch(f){s.e(f)}finally{s.f()}return Object.assign(Object.assign({},i),o)}function BN(t,n,e,r){var i={};i[Ce]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;var o,a=A(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&On(s)!==Ce){var u=new Te([],{});u._sourceSegment=t,u._segmentIndexShift=n.length,i[On(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}function UN(t,n,e){return e.some(function(r){return dc(t,n,r)&&On(r)!==Ce})}function HN(t,n,e){return e.some(function(r){return dc(t,n,r)})}function dc(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function MD(t,n,e,r){return!!(On(t)===r||r!==Ce&&dc(n,e,t))&&("**"===t.path||fc(n,t,e).matched)}function OD(t,n,e){return 0===n.length&&!t.children[e]}var vc=D(function t(n){w(this,t),this.segmentGroup=n||null}),AD=D(function t(n){w(this,t),this.urlTree=n});function Qs(t){return tc(new vc(t))}function bD(t){return tc(new AD(t))}function GN(t){return tc(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}var WN=function(){function t(n,e,r,i,a){w(this,t),this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=n.get(Fr)}return D(t,[{key:"apply",value:function(){var e=this,r=hc(this.urlTree.root,[],[],this.config).segmentGroup,i=new Te(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Ce).pipe(Fe(function(s){return e.createUrlTree(Uv(s),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(di(function(s){if(s instanceof AD)return e.allowRedirects=!1,e.match(s.urlTree);throw s instanceof vc?e.noMatchError(s):s}))}},{key:"match",value:function(e){var r=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ce).pipe(Fe(function(o){return r.createUrlTree(Uv(o),e.queryParams,e.fragment)})).pipe(di(function(o){throw o instanceof vc?r.noMatchError(o):o}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,r,i){var a=e.segments.length>0?new Te([],te({},Ce,e)):e;return new Ji(a,r,i)}},{key:"expandSegmentGroup",value:function(e,r,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,r,i).pipe(Fe(function(o){return new Te([],o)})):this.expandSegment(e,i,r,i.segments,a,!0)}},{key:"expandChildren",value:function(e,r,i){for(var a=this,o=[],s=0,u=Object.keys(i.children);s<u.length;s++){var l=u[s];"primary"===l?o.unshift(l):o.push(l)}return It(o).pipe(fo(function(c){var f=i.children[c],h=ID(r,c);return a.expandSegmentGroup(e,h,f,c).pipe(Fe(function(d){return{segment:d,outlet:c}}))}),YC(function(c,f){return c[f.outlet]=f.segment,c},{}),function FF(t,n){var e=arguments.length>=2;return function(r){return r.pipe(t?Ki(function(i,a){return t(i,a,r)}):ki,Sv(1),e?qC(n):XC(function(){return new nc}))}}())}},{key:"expandSegment",value:function(e,r,i,a,o,s){var u=this;return It(i).pipe(fo(function(l){return u.expandSegmentAgainstRoute(e,r,i,l,a,o,s).pipe(di(function(f){if(f instanceof vc)return fe(null);throw f}))}),ho(function(l){return!!l}),di(function(l,c){if(l instanceof nc||"EmptyError"===l.name)return OD(r,a,o)?fe(new Te([],{})):Qs(r);throw l}))}},{key:"expandSegmentAgainstRoute",value:function(e,r,i,a,o,s,u){return MD(a,r,o,s)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,r,a,o,s):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,a,o,s):Qs(r):Qs(r)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,r,i,a,o,s){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,r,i,a,o,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,r,i,a){var o=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?bD(s):this.lineralizeSegments(i,s).pipe(Et(function(u){var l=new Te(u,{});return o.expandSegment(e,l,r,u,a,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,r,i,a,o,s){var u=this,l=fc(r,a,o),f=l.consumedSegments,h=l.remainingSegments,d=l.positionalParamSegments;if(!l.matched)return Qs(r);var v=this.applyRedirectCommands(f,a.redirectTo,d);return a.redirectTo.startsWith("/")?bD(v):this.lineralizeSegments(a,v).pipe(Et(function(p){return u.expandSegment(e,r,i,p.concat(h),s,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,r,i,a,o){var s=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?fe(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(Fe(function(v){return i._loadedConfig=v,new Te(a,{})})):fe(new Te(a,{}));var l=fc(r,i,a),f=l.consumedSegments,h=l.remainingSegments;return l.matched?this.getChildConfig(e,i,a).pipe(Et(function(v){var p=v.module,_=v.routes,m=hc(r,f,h,_),g=m.segmentGroup,E=m.slicedSegments,T=new Te(g.segments,g.children);if(0===E.length&&T.hasChildren())return s.expandChildren(p,_,T).pipe(Fe(function(k){return new Te(f,k)}));if(0===_.length&&0===E.length)return fe(new Te(f,{}));var x=On(i)===o;return s.expandSegment(p,T,_,E,x?Ce:o,!0).pipe(Fe(function(k){return new Te(f.concat(k.segments),k.children)}))})):Qs(r)}},{key:"getChildConfig",value:function(e,r,i){var a=this;return r.children?fe(new Nv(r.children,e)):r.loadChildren?void 0!==r._loadedConfig?fe(r._loadedConfig):this.runCanLoadGuards(e.injector,r,i).pipe(Et(function(o){return o?a.configLoader.load(e.injector,r).pipe(Fe(function(s){return r._loadedConfig=s,s})):function VN(t){return tc(Rv("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}(r)})):fe(new Nv([],e))}},{key:"runCanLoadGuards",value:function(e,r,i){var a=this,o=r.canLoad;if(!o||0===o.length)return fe(!0);var s=o.map(function(u){var c,l=e.get(u);if(function AN(t){return t&&vi(t.canLoad)}(l))c=l.canLoad(r,i);else{if(!vi(l))throw new Error("Invalid CanLoad guard");c=l(r,i)}return _r(c)});return fe(s).pipe(Ks(),vn(function(u){if($i(u)){var l=Rv('Redirecting to "'.concat(a.urlSerializer.serialize(u),'"'));throw l.url=u,l}}),Fe(function(u){return!0===u}))}},{key:"lineralizeSegments",value:function(e,r){for(var i=[],a=r.root;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return fe(i);if(a.numberOfChildren>1||!a.children[Ce])return GN(e.redirectTo);a=a.children[Ce]}}},{key:"applyRedirectCommands",value:function(e,r,i){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,r,i,a){var o=this.createSegmentGroup(e,r.root,i,a);return new Ji(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}},{key:"createQueryParams",value:function(e,r){var i={};return Mt(e,function(a,o){if("string"==typeof a&&a.startsWith(":")){var u=a.substring(1);i[o]=r[u]}else i[o]=a}),i}},{key:"createSegmentGroup",value:function(e,r,i,a){var o=this,s=this.createSegments(e,r.segments,i,a),u={};return Mt(r.children,function(l,c){u[c]=o.createSegmentGroup(e,l,i,a)}),new Te(s,u)}},{key:"createSegments",value:function(e,r,i,a){var o=this;return r.map(function(s){return s.path.startsWith(":")?o.findPosParam(e,s,a):o.findOrReturn(s,i)})}},{key:"findPosParam",value:function(e,r,i){var a=i[r.path.substring(1)];if(!a)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(r.path,"'."));return a}},{key:"findOrReturn",value:function(e,r){var o,i=0,a=A(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.path===e.path)return r.splice(i),s;i++}}catch(u){a.e(u)}finally{a.f()}return e}}]),t}();function Uv(t){for(var n={},e=0,r=Object.keys(t.children);e<r.length;e++){var i=r[e],o=Uv(t.children[i]);(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function YN(t){if(1===t.numberOfChildren&&t.children[Ce]){var n=t.children[Ce];return new Te(t.segments.concat(n.segments),n.children)}return t}(new Te(t.segments,n))}var PD=D(function t(n){w(this,t),this.path=n,this.route=this.path[this.path.length-1]}),pc=D(function t(n,e){w(this,t),this.component=n,this.route=e});function qN(t,n,e){var r=t._root;return $s(r,n?n._root:null,e,[r.value])}function gc(t,n,e){var r=function KN(t){if(!t)return null;for(var n=t.parent;n;n=n.parent){var e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(r?r.module.injector:e).get(t)}function $s(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=po(n);return t.children.forEach(function(o){JN(o,a[o.value.outlet],e,r.concat([o.value]),i),delete a[o.value.outlet]}),Mt(a,function(o,s){return eu(o,e.getContext(s),i)}),i}function JN(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=n?n.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=QN(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new PD(r)):(a.data=o.data,a._resolvedData=o._resolvedData),$s(t,n,a.component?s?s.children:null:e,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new pc(s.outlet.component,o))}else o&&eu(n,s,i),i.canActivateChecks.push(new PD(r)),$s(t,null,a.component?s?s.children:null:e,r,i);return i}function QN(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Qi(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Qi(t.url,n.url)||!yr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(t,n)||!yr(t.queryParams,n.queryParams);default:return!xv(t,n)}}function eu(t,n,e){var r=po(t),i=t.value;Mt(r,function(a,o){eu(a,i.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new pc(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}var s2=D(function t(){w(this,t)});function xD(t){return new ut(function(n){return n.error(t)})}var l2=function(){function t(n,e,r,i,a,o){w(this,t),this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return D(t,[{key:"recognize",value:function(){var e=hc(this.urlTree.root,[],[],this.config.filter(function(s){return void 0===s.redirectTo}),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,e,Ce);if(null===r)return null;var i=new uc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Hr(i,r),o=new yD(this.url,a);return this.inheritParamsAndData(o._root),o}},{key:"inheritParamsAndData",value:function(e){var r=this,i=e.value,a=gD(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(function(o){return r.inheritParamsAndData(o)})}},{key:"processSegmentGroup",value:function(e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,r):this.processSegment(e,r,r.segments,i)}},{key:"processChildren",value:function(e,r){for(var i=[],a=0,o=Object.keys(r.children);a<o.length;a++){var s=o[a],u=r.children[s],l=ID(e,s),c=this.processSegmentGroup(l,u,s);if(null===c)return null;i.push.apply(i,Z(c))}var f=kD(i);return function c2(t){t.sort(function(n,e){return n.value.outlet===Ce?-1:e.value.outlet===Ce?1:n.value.outlet.localeCompare(e.value.outlet)})}(f),f}},{key:"processSegment",value:function(e,r,i,a){var s,o=A(e);try{for(o.s();!(s=o.n()).done;){var l=this.processSegmentAgainstRoute(s.value,r,i,a);if(null!==l)return l}}catch(c){o.e(c)}finally{o.f()}return OD(r,i,a)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,r,i,a){if(e.redirectTo||!MD(e,r,i,a))return null;var o,s=[],u=[];if("**"===e.path){var l=i.length>0?nD(i).parameters:{};o=new uc(i,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ND(e),On(e),e.component,e,LD(r),FD(r)+i.length,jD(e))}else{var c=fc(r,e,i);if(!c.matched)return null;u=c.remainingSegments,o=new uc(s=c.consumedSegments,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ND(e),On(e),e.component,e,LD(r),FD(r)+s.length,jD(e))}var f=function f2(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),h=hc(r,s,u,f.filter(function(g){return void 0===g.redirectTo}),this.relativeLinkResolution),d=h.segmentGroup,v=h.slicedSegments;if(0===v.length&&d.hasChildren()){var p=this.processChildren(f,d);return null===p?null:[new Hr(o,p)]}if(0===f.length&&0===v.length)return[new Hr(o,[])];var _=On(e)===a,m=this.processSegment(f,d,v,_?Ce:a);return null===m?null:[new Hr(o,m)]}}]),t}();function kD(t){var i,n=[],e=new Set,r=A(t);try{var a=function(){var h=i.value;if(!function h2(t){var n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}(h))return n.push(h),"continue";var v,d=n.find(function(p){return h.value.routeConfig===p.value.routeConfig});void 0!==d?((v=d.children).push.apply(v,Z(h.children)),e.add(d)):n.push(h)};for(r.s();!(i=r.n()).done;)a()}catch(f){r.e(f)}finally{r.f()}var u,s=A(e);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=kD(l.children);n.push(new Hr(l.value,c))}}catch(f){s.e(f)}finally{s.f()}return n.filter(function(f){return!e.has(f)})}function LD(t){for(var n=t;n._sourceSegment;)n=n._sourceSegment;return n}function FD(t){for(var n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;n._sourceSegment;)e+=(n=n._sourceSegment)._segmentIndexShift?n._segmentIndexShift:0;return e-1}function ND(t){return t.data||{}}function jD(t){return t.resolve||{}}function BD(t){return[].concat(Z(Object.keys(t)),Z(Object.getOwnPropertySymbols(t)))}function Hv(t){return Zi(function(n){var e=t(n);return e?It(e).pipe(Fe(function(){return n})):fe(n)})}var _2=D(function t(){w(this,t)}),m2=function(){function t(){w(this,t)}return D(t,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,r){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,r){return e.routeConfig===r.routeConfig}}]),t}(),E2=function(t){Q(e,t);var n=X(e);function e(){return w(this,e),n.apply(this,arguments)}return D(e)}(m2),Gv=new we("ROUTES"),UD=function(){function t(n,e,r,i){w(this,t),this.injector=n,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}return D(t,[{key:"load",value:function(e,r){var i=this;if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);var o=this.loadModuleFactory(r.loadChildren).pipe(Fe(function(s){i.onLoadEndListener&&i.onLoadEndListener(r);var u=s.create(e);return new Nv(tD(u.injector.get(Gv,void 0,se.Self|se.Optional)).map(Bv),u)}),di(function(s){throw r._loader$=void 0,s}));return r._loader$=new PF(o,function(){return new Sr}).pipe(WC()),r._loader$}},{key:"loadModuleFactory",value:function(e){var r=this;return _r(e()).pipe(Et(function(i){return i instanceof u0?fe(i):It(r.compiler.compileModuleAsync(i))}))}}]),t}(),C2=D(function t(){w(this,t)}),D2=function(){function t(){w(this,t)}return D(t,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,r){return e}}]),t}();function w2(t){throw t}function T2(t,n,e){return n.parse("/")}function HD(t,n){return fe(null)}var S2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pn=function(){var t=function(){function n(e,r,i,a,o,s,u){var l=this;w(this,n),this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sr,this.errorHandler=w2,this.malformedUriErrorHandler=T2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HD,afterPreactivation:HD},this.urlHandlingStrategy=new D2,this.routeReuseStrategy=new E2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Fr),this.console=o.get(wx);var h=o.get($t);this.isNgZoneEnabled=h instanceof $t&&$t.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function QF(){return new Ji(new Te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UD(o,s,function(v){return l.triggerEvent(new KC(v))},function(v){return l.triggerEvent(new JC(v))}),this.routerState=pD(this.currentUrlTree,this.rootComponentType),this.transitions=new qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return D(n,[{key:"browserPageId",get:function(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}},{key:"setupNavigations",value:function(r){var i=this,a=this.events;return r.pipe(Ki(function(o){return 0!==o.id}),Fe(function(o){return Object.assign(Object.assign({},o),{extractedUrl:i.urlHandlingStrategy.extract(o.rawUrl)})}),Zi(function(o){var s=!1,u=!1;return fe(o).pipe(vn(function(l){i.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:i.lastSuccessfulNavigation?Object.assign(Object.assign({},i.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zi(function(l){var c=i.browserUrlTree.toString(),f=!i.navigated||l.extractedUrl.toString()!==c||c!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||f)&&i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return GD(l.source)&&(i.browserUrlTree=l.extractedUrl),fe(l).pipe(Zi(function(R){var x=i.transitions.getValue();return a.next(new Iv(R.id,i.serializeUrl(R.extractedUrl),R.source,R.restoredState)),x!==i.transitions.getValue()?Mr:Promise.resolve(R)}),function XN(t,n,e,r){return Zi(function(i){return function zN(t,n,e,r,i){return new WN(t,n,e,r,i).apply()}(t,n,e,i.extractedUrl,r).pipe(Fe(function(a){return Object.assign(Object.assign({},i),{urlAfterRedirects:a})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),vn(function(R){i.currentNavigation=Object.assign(Object.assign({},i.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function d2(t,n,e,r,i){return Et(function(a){return function u2(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new l2(t,n,e,r,i,a).recognize();return null===o?xD(new s2):fe(o)}catch(s){return xD(s)}}(t,n,a.urlAfterRedirects,e(a.urlAfterRedirects),r,i).pipe(Fe(function(o){return Object.assign(Object.assign({},a),{targetSnapshot:o})}))})}(i.rootComponentType,i.config,function(R){return i.serializeUrl(R)},i.paramsInheritanceStrategy,i.relativeLinkResolution),vn(function(R){if("eager"===i.urlUpdateStrategy){if(!R.extras.skipLocationChange){var x=i.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);i.setBrowserUrl(x,R)}i.browserUrlTree=R.urlAfterRedirects}var P=new BF(R.id,i.serializeUrl(R.extractedUrl),i.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);a.next(P)}));if(f&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var p=l.extractedUrl,_=l.source,m=l.restoredState,g=l.extras,E=new Iv(l.id,i.serializeUrl(p),_,m);a.next(E);var T=pD(p,i.rootComponentType).snapshot;return fe(Object.assign(Object.assign({},l),{targetSnapshot:T,urlAfterRedirects:p,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=l.rawUrl,l.resolve(null),Mr}),Hv(function(l){var v=l.extras;return i.hooks.beforePreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),vn(function(l){var c=new UF(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);i.triggerEvent(c)}),Fe(function(l){return Object.assign(Object.assign({},l),{guards:qN(l.targetSnapshot,l.currentSnapshot,i.rootContexts)})}),function $N(t,n){return Et(function(e){var r=e.targetSnapshot,i=e.currentSnapshot,a=e.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?fe(Object.assign(Object.assign({},e),{guardsResult:!0})):function e2(t,n,e,r){return It(t).pipe(Et(function(i){return function o2(t,n,e,r,i){var a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!a||0===a.length)return fe(!0);var o=a.map(function(s){var l,u=gc(s,n,i);if(function xN(t){return t&&vi(t.canDeactivate)}(u))l=_r(u.canDeactivate(t,n,e,r));else{if(!vi(u))throw new Error("Invalid CanDeactivate guard");l=_r(u(t,n,e,r))}return l.pipe(ho())});return fe(o).pipe(Ks())}(i.component,i.route,e,n,r)}),ho(function(i){return!0!==i},!0))}(s,r,i,t).pipe(Et(function(u){return u&&function ON(t){return"boolean"==typeof t}(u)?function t2(t,n,e,r){return It(n).pipe(fo(function(i){return Tv(function r2(t,n){return null!==t&&n&&n(new zF(t)),fe(!0)}(i.route.parent,r),function n2(t,n){return null!==t&&n&&n(new YF(t)),fe(!0)}(i.route,r),function a2(t,n,e){var r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(function(o){return function ZN(t){var n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(o)}).filter(function(o){return null!==o}),a=i.map(function(o){return zC(function(){var s=o.guards.map(function(u){var c,l=gc(u,o.node,e);if(function PN(t){return t&&vi(t.canActivateChild)}(l))c=_r(l.canActivateChild(r,t));else{if(!vi(l))throw new Error("Invalid CanActivateChild guard");c=_r(l(r,t))}return c.pipe(ho())});return fe(s).pipe(Ks())})});return fe(a).pipe(Ks())}(t,i.path,e),function i2(t,n,e){var r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return fe(!0);var i=r.map(function(a){return zC(function(){var s,o=gc(a,n,e);if(function bN(t){return t&&vi(t.canActivate)}(o))s=_r(o.canActivate(n,t));else{if(!vi(o))throw new Error("Invalid CanActivate guard");s=_r(o(n,t))}return s.pipe(ho())})});return fe(i).pipe(Ks())}(t,i.route,e))}),ho(function(i){return!0!==i},!0))}(r,o,t,n):fe(u)}),Fe(function(u){return Object.assign(Object.assign({},e),{guardsResult:u})}))})}(i.ngModule.injector,function(l){return i.triggerEvent(l)}),vn(function(l){if($i(l.guardsResult)){var c=Rv('Redirecting to "'.concat(i.serializeUrl(l.guardsResult),'"'));throw c.url=l.guardsResult,c}var f=new HF(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);i.triggerEvent(f)}),Ki(function(l){return!!l.guardsResult||(i.restoreHistory(l),i.cancelNavigationTransition(l,""),!1)}),Hv(function(l){if(l.guards.canActivateChecks.length)return fe(l).pipe(vn(function(c){var f=new GF(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}),Zi(function(c){var f=!1;return fe(c).pipe(function v2(t,n){return Et(function(e){var r=e.targetSnapshot,i=e.guards.canActivateChecks;if(!i.length)return fe(e);var a=0;return It(i).pipe(fo(function(o){return function p2(t,n,e,r){return function g2(t,n,e,r){var i=BD(t);if(0===i.length)return fe({});var a={};return It(i).pipe(Et(function(o){return function y2(t,n,e,r){var i=gc(t,n,r);return _r(i.resolve?i.resolve(n,e):i(n,e))}(t[o],n,e,r).pipe(vn(function(s){a[o]=s}))}),Sv(1),Et(function(){return BD(a).length===i.length?fe(a):Mr}))}(t._resolve,t,n,r).pipe(Fe(function(a){return t._resolvedData=a,t.data=Object.assign(Object.assign({},t.data),gD(t,e).resolve),null}))}(o.route,r,t,n)}),vn(function(){return a++}),Sv(1),Et(function(o){return a===i.length?fe(e):Mr}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),vn({next:function(){return f=!0},complete:function(){f||(i.restoreHistory(c),i.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),vn(function(c){var f=new VF(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}))}),Hv(function(l){var v=l.extras;return i.hooks.afterPreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),Fe(function(l){var c=function gN(t,n,e){var r=Xs(t,n._root,e?e._root:void 0);return new vD(r,n)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),vn(function(l){i.currentUrlTree=l.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),i.routerState=l.targetRouterState,"deferred"===i.urlUpdateStrategy&&(l.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,l),i.browserUrlTree=l.urlAfterRedirects)}),function(n,e,r){return Fe(function(i){return new RN(e,i.targetRouterState,i.currentRouterState,r).activate(n),i})}(i.rootContexts,i.routeReuseStrategy,function(l){return i.triggerEvent(l)}),vn({next:function(){s=!0},complete:function(){s=!0}}),function NF(t){return Tt(function(n,e){try{n.subscribe(e)}finally{e.add(t)}})}(function(){var l;if(!s&&!u){var c="Navigation ID ".concat(o.id," is not equal to the current navigation id ").concat(i.navigationId);i.cancelNavigationTransition(o,c)}(null===(l=i.currentNavigation)||void 0===l?void 0:l.id)===o.id&&(i.currentNavigation=null)}),di(function(l){if(u=!0,function ZF(t){return t&&t[$C]}(l)){var c=$i(l.url);c||(i.navigated=!0,i.restoreHistory(o,!0));var f=new ZC(o.id,i.serializeUrl(o.extractedUrl),l.message);a.next(f),c?setTimeout(function(){var d=i.urlHandlingStrategy.merge(l.url,i.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||GD(o.source)};i.scheduleNavigation(d,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{i.restoreHistory(o,!0);var h=new jF(o.id,i.serializeUrl(o.extractedUrl),l);a.next(h);try{o.resolve(i.errorHandler(l))}catch(d){o.reject(d)}}return Mr}))}))}},{key:"resetRootComponentType",value:function(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}},{key:"setTransition",value:function(r){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),r))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var r=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var a="popstate"===i.type?"popstate":"hashchange";"popstate"===a&&setTimeout(function(){var o,s={replaceUrl:!0},u=(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null;if(u){var l=Object.assign({},u);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}var c=r.parseUrl(i.url);r.scheduleNavigation(c,a,u,s)},0)}))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(r){this.events.next(r)}},{key:"resetConfig",value:function(r){SD(r),this.config=r.map(Bv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.relativeTo,o=i.queryParams,s=i.fragment,u=i.queryParamsHandling,l=i.preserveFragment,c=a||this.routerState.root,f=l?this.currentUrlTree.fragment:s,h=null;switch(u){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),mN(c,this.currentUrlTree,r,h,null!=f?f:null)}},{key:"navigateByUrl",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},a=$i(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}},{key:"navigate",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return R2(r),this.navigateByUrl(this.createUrlTree(r,i),i)}},{key:"serializeUrl",value:function(r){return this.urlSerializer.serialize(r)}},{key:"parseUrl",value:function(r){var i;try{i=this.urlSerializer.parse(r)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,r)}return i}},{key:"isActive",value:function(r,i){var a;if(a=!0===i?Object.assign({},S2):!1===i?Object.assign({},I2):i,$i(r))return iD(this.currentUrlTree,r,a);var o=this.parseUrl(r);return iD(this.currentUrlTree,o,a)}},{key:"removeEmptyProps",value:function(r){return Object.keys(r).reduce(function(i,a){var o=r[a];return null!=o&&(i[a]=o),i},{})}},{key:"processNavigations",value:function(){var r=this;this.navigations.subscribe(function(i){r.navigated=!0,r.lastSuccessfulId=i.id,r.currentPageId=i.targetPageId,r.events.next(new zs(i.id,r.serializeUrl(i.extractedUrl),r.serializeUrl(r.currentUrlTree))),r.lastSuccessfulNavigation=r.currentNavigation,i.resolve(!0)},function(i){r.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(r,i,a,o,s){var u,l,c,f,h;if(this.disposed)return Promise.resolve(!1);s?(c=s.resolve,f=s.reject,h=s.promise):h=new Promise(function(_,m){c=_,f=m});var v,d=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),v=a&&a.\u0275routerPageId?a.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):v=0,this.setTransition({id:d,targetPageId:v,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:o,resolve:c,reject:f,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(function(_){return Promise.reject(_)})}},{key:"setBrowserUrl",value:function(r,i){var a=this.urlSerializer.serialize(r),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",o):this.location.go(a,"",o)}},{key:"restoreHistory",value:function(r){var a,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var s=this.currentPageId-r.targetPageId,u="popstate"===r.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl);u&&0!==s?this.location.historyGo(s):this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(r,i){var a=new ZC(r.id,this.serializeUrl(r.extractedUrl),i);this.triggerEvent(a),r.resolve(!1)}},{key:"generateNgRouterState",value:function(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,"\u0275routerPageId":i}:{navigationId:r}}}]),n}();return t.\u0275fac=function(e){ld()},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}();function R2(t){for(var n=0;n<t.length;n++){var e=t[n];if(null==e)throw new Error("The requested path contains ".concat(e," segment at index ").concat(n))}}function GD(t){return"imperative"!==t}var VD=D(function t(){w(this,t)}),A2=function(){function t(){w(this,t)}return D(t,[{key:"preload",value:function(e,r){return r().pipe(di(function(){return fe(null)}))}}]),t}(),zD=function(){function t(){w(this,t)}return D(t,[{key:"preload",value:function(e,r){return fe(null)}}]),t}(),WD=function(){var t=function(){function n(e,r,i,a){w(this,n),this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new UD(i,r,function(l){return e.triggerEvent(new KC(l))},function(l){return e.triggerEvent(new JC(l))})}return D(n,[{key:"setUpPreloading",value:function(){var r=this;this.subscription=this.router.events.pipe(Ki(function(i){return i instanceof zs}),fo(function(){return r.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var r=this.injector.get(Fr);return this.processRoutes(r,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(r,i){var s,a=[],o=A(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;a.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(r,u)):u.children&&a.push(this.processRoutes(r,u.children))}}catch(c){o.e(c)}finally{o.f()}return It(a).pipe(Zo(),Fe(function(c){}))}},{key:"preloadConfig",value:function(r,i){var a=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?fe(i._loadedConfig):a.loader.load(r.injector,i)).pipe(Et(function(s){return i._loadedConfig=s,a.processRoutes(s.module,s.routes)}))})}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(pn),J(z0),J(Qt),J(VD))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),Wv=function(){var t=function(){function n(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,n),this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return D(n,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var r=this;return this.router.events.subscribe(function(i){i instanceof Iv?(r.store[r.lastId]=r.viewportScroller.getScrollPosition(),r.lastSource=i.navigationTrigger,r.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof zs&&(r.lastId=i.id,r.scheduleScrollEvent(i,r.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var r=this;return this.router.events.subscribe(function(i){i instanceof QC&&(i.position?"top"===r.options.scrollPositionRestoration?r.viewportScroller.scrollToPosition([0,0]):"enabled"===r.options.scrollPositionRestoration&&r.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===r.options.anchorScrolling?r.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==r.options.scrollPositionRestoration&&r.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(r,i){this.router.triggerEvent(new QC(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),n}();return t.\u0275fac=function(e){ld()},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),ea=new we("ROUTER_CONFIGURATION"),YD=new we("ROUTER_FORROOT_GUARD"),b2=[iv,{provide:uD,useClass:lD},{provide:pn,useFactory:function F2(t,n,e,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=new pn(null,t,n,e,r,i,tD(a));return s&&(l.urlHandlingStrategy=s),u&&(l.routeReuseStrategy=u),N2(o,l),o.enableTracing&&l.events.subscribe(function(c){var f,h;null===(f=console.group)||void 0===f||f.call(console,"Router Event: ".concat(c.constructor.name)),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[uD,Js,iv,Qt,z0,Gv,ea,[C2,new ai],[_2,new ai]]},Js,{provide:go,useFactory:function j2(t){return t.routerState.root},deps:[pn]},WD,zD,A2,{provide:ea,useValue:{enableTracing:!1}}];function P2(){return new Z0("Router",pn)}var XD=function(){var t=function(){function n(e,r){w(this,n)}return D(n,null,[{key:"forRoot",value:function(r,i){return{ngModule:n,providers:[b2,qD(r),{provide:YD,useFactory:L2,deps:[[pn,new ai,new vs]]},{provide:ea,useValue:i||{}},{provide:co,useFactory:k2,deps:[qi,[new ul(rv),new ai],ea]},{provide:Wv,useFactory:x2,deps:[pn,kL,ea]},{provide:VD,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:zD},{provide:Z0,multi:!0,useFactory:P2},[Yv,{provide:jd,multi:!0,useFactory:B2,deps:[Yv]},{provide:ZD,useFactory:U2,deps:[Yv]},{provide:V0,multi:!0,useExisting:ZD}]]}}},{key:"forChild",value:function(r){return{ngModule:n,providers:[qD(r)]}}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(YD,8),J(pn,8))},t.\u0275mod=br({type:t}),t.\u0275inj=or({}),t}();function x2(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new Wv(t,n,e)}function k2(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.useHash?new dk(t,n):new vC(t,n)}function L2(t){return"guarded"}function qD(t){return[{provide:bR,multi:!0,useValue:t},{provide:Gv,multi:!0,useValue:t}]}function N2(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}var Yv=function(){var t=function(){function n(e){w(this,n),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sr}return D(n,[{key:"appInitializer",value:function(){var r=this;return this.injector.get(ck,Promise.resolve(null)).then(function(){if(r.destroyed)return Promise.resolve(!0);var a=null,o=new Promise(function(l){return a=l}),s=r.injector.get(pn),u=r.injector.get(ea);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),a(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=function(){return r.initNavigation?fe(null):(r.initNavigation=!0,a(!0),r.resultOfPreactivationDone)},s.initialNavigation()):a(!0),o})}},{key:"bootstrapListener",value:function(r){var i=this.injector.get(ea),a=this.injector.get(WD),o=this.injector.get(Wv),s=this.injector.get(pn),u=this.injector.get(qd);r===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),a.setUpPreloading(),o.init(),s.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(Qt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}();function B2(t){return t.appInitializer.bind(t)}function U2(t){return t.bootstrapListener.bind(t)}var ZD=new we("Router Initializer"),G2=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}(),Xv=G2;function ta(t,n){return t>n?1:t<n?-1:0}function qv(t,n,e){var r=t.length;if(t[0]<=n)return 0;if(n<=t[r-1])return r-1;var i=void 0;if(e>0){for(i=1;i<r;++i)if(t[i]<n)return i-1}else if(e<0){for(i=1;i<r;++i)if(t[i]<=n)return i}else for(i=1;i<r;++i){if(t[i]==n)return i;if(t[i]<n)return"function"==typeof e?e(n,t[i-1],t[i])>0?i-1:i:t[i-1]-n<n-t[i]?i-1:i}return r-1}function V2(t,n,e){for(;n<e;){var r=t[n];t[n]=t[e],t[e]=r,++n,--e}}function KD(t,n){for(var e=Array.isArray(n)?n:[n],r=e.length,i=0;i<r;i++)t[t.length]=e[i]}function na(t,n){var e=t.length;if(e!==n.length)return!1;for(var r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}function _o(){return!0}function yc(){return!1}function ra(){}function Se(){return function(){throw new Error("Unimplemented abstract method.")}()}var Y2=0;function Pe(t){return t.ol_uid||(t.ol_uid=String(++Y2))}var ew,pi="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",X2=-1!==pi.indexOf("firefox"),Z2=(-1!==pi.indexOf("safari")&&-1==pi.indexOf("chrom")&&(pi.indexOf("version/15.4")>=0||pi.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==pi.indexOf("webkit")&&-1==pi.indexOf("edge")),K2=-1!==pi.indexOf("macintosh"),JD="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,_c="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,J2="undefined"!=typeof Image&&Image.prototype.decode,QD=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}return t}(),Q2=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$2=function(t){function n(e){var r=this,a="Assertion failed. See https://openlayers.org/en/v"+"6.14.1".split("-")[0]+"/doc/errors/#"+e+" for details.";return(r=t.call(this,a)||this).code=e,r.name="AssertionError",r.message=a,r}return Q2(n,t),n}(Error),$D=$2;function Ie(t,n){if(!t)throw new $D(n)}function dt(t,n){var e=n[0],r=n[1];return n[0]=t[0]*e+t[2]*r+t[4],n[1]=t[1]*e+t[3]*r+t[5],n}function mr(t,n,e,r,i,a,o,s){var u=Math.sin(a),l=Math.cos(a);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=o*r*l-s*r*u+n,t[5]=o*i*u+s*i*l+e,t}function mc(t,n){var e=function nj(t){return t[0]*t[3]-t[1]*t[2]}(n);Ie(0!==e,32);var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5];return t[0]=o/e,t[1]=-i/e,t[2]=-a/e,t[3]=r/e,t[4]=(a*u-o*s)/e,t[5]=-(r*u-i*s)/e,t}function Qv(t){var n="matrix("+t.join(", ")+")";if(_c)return n;var e=ew||(ew=document.createElement("div"));return e.style.transform=n,e.style.transform}new Array(6);function tw(t){for(var n=[1/0,1/0,-1/0,-1/0],e=0,r=t.length;e<r;++e)Eo(n,t[e]);return n}function $v(t,n,e){return e?(e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]+n,e[3]=t[3]+n,e):[t[0]-n,t[1]-n,t[2]+n,t[3]+n]}function nw(t,n){return n?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n):t.slice()}function rw(t,n,e){var r,i;return(r=n<t[0]?t[0]-n:t[2]<n?n-t[2]:0)*r+(i=e<t[1]?t[1]-e:t[3]<e?e-t[3]:0)*i}function ru(t,n){return iw(t,n[0],n[1])}function ia(t,n){return t[0]<=n[0]&&n[2]<=t[2]&&t[1]<=n[1]&&n[3]<=t[3]}function iw(t,n,e){return t[0]<=n&&n<=t[2]&&t[1]<=e&&e<=t[3]}function ep(t,n){var o=n[0],s=n[1],u=0;return o<t[0]?u|=16:o>t[2]&&(u|=4),s<t[1]?u|=8:s>t[3]&&(u|=2),0===u&&(u=1),u}function Jn(t,n,e,r,i){return i?(i[0]=t,i[1]=n,i[2]=e,i[3]=r,i):[t,n,e,r]}function mo(t){return Jn(1/0,1/0,-1/0,-1/0,t)}function iu(t,n){return t[0]==n[0]&&t[2]==n[2]&&t[1]==n[1]&&t[3]==n[3]}function Eo(t,n){n[0]<t[0]&&(t[0]=n[0]),n[0]>t[2]&&(t[2]=n[0]),n[1]<t[1]&&(t[1]=n[1]),n[1]>t[3]&&(t[3]=n[1])}function ow(t,n,e,r,i){for(;e<r;e+=i)uj(t,n[e],n[e+1]);return t}function uj(t,n,e){t[0]=Math.min(t[0],n),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],n),t[3]=Math.max(t[3],e)}function tp(t,n){var e;return!!((e=n(Cc(t)))||(e=n(Dc(t)),e)||(e=n(wc(t)),e)||(e=n(aa(t)),e))&&e}function Ec(t){var n=0;return rp(t)||(n=et(t)*An(t)),n}function Cc(t){return[t[0],t[1]]}function Dc(t){return[t[2],t[1]]}function Co(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function lj(t,n){var e;return"bottom-left"===n?e=Cc(t):"bottom-right"===n?e=Dc(t):"top-left"===n?e=aa(t):"top-right"===n?e=wc(t):Ie(!1,13),e}function np(t,n,e,r,i){var a=n*r[0]/2,o=n*r[1]/2,s=Math.cos(e),u=Math.sin(e),l=a*s,c=a*u,f=o*s,h=o*u,d=t[0],v=t[1],p=d-l+h,_=d-l-h,m=d+l-h,g=d+l+h,E=v-c-f,T=v-c+f,R=v+c+f,x=v+c-f;return Jn(Math.min(p,_,m,g),Math.min(E,T,R,x),Math.max(p,_,m,g),Math.max(E,T,R,x),i)}function An(t){return t[3]-t[1]}function Do(t,n,e){var r=e||[1/0,1/0,-1/0,-1/0];return Yt(t,n)?(r[0]=t[0]>n[0]?t[0]:n[0],r[1]=t[1]>n[1]?t[1]:n[1],r[2]=t[2]<n[2]?t[2]:n[2],r[3]=t[3]<n[3]?t[3]:n[3]):mo(r),r}function aa(t){return[t[0],t[3]]}function wc(t){return[t[2],t[3]]}function et(t){return t[2]-t[0]}function Yt(t,n){return t[0]<=n[2]&&t[2]>=n[0]&&t[1]<=n[3]&&t[3]>=n[1]}function rp(t){return t[2]<t[0]||t[3]<t[1]}function vt(t,n,e){return Math.min(Math.max(t,n),e)}var vj="cosh"in Math?Math.cosh:function(e){var r=Math.exp(e);return(r+1/r)/2},pj="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function gj(t,n,e,r,i,a){var o=i-e,s=a-r;if(0!==o||0!==s){var u=((t-e)*o+(n-r)*s)/(o*o+s*s);u>1?(e=i,r=a):u>0&&(e+=o*u,r+=s*u)}return wo(t,n,e,r)}function wo(t,n,e,r){var i=e-t,a=r-n;return i*i+a*a}function Tc(t){return t*Math.PI/180}function To(t,n){var e=t%n;return e*n<0?e+n:e}function oa(t,n,e){return t+e*(n-t)}function ip(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}function Sc(t,n){return Math.floor(ip(t,n))}function Ic(t,n){return Math.ceil(ip(t,n))}var sw=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,uw=/^([a-z]*)$|^hsla?\(.*\)$/i;function lw(t){return"string"==typeof t?t:hw(t)}var n,e,_j=(n={},e=0,function(r){var i;if(n.hasOwnProperty(r))i=n[r];else{if(e>=1024){var a=0;for(var o in n)0==(3&a++)&&(delete n[o],--e)}i=function mj(t){var n,e,r,i,a;if(uw.exec(t)&&(t=function cw(t){var n=document.createElement("div");if(n.style.color=t,""!==n.style.color){document.body.appendChild(n);var e=getComputedStyle(n).color;return document.body.removeChild(n),e}return""}(t)),sw.exec(t)){var s,o=t.length-1;s=o<=4?1:2;var u=4===o||8===o;n=parseInt(t.substr(1+0*s,s),16),e=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(n=(n<<4)+n,e=(e<<4)+e,r=(r<<4)+r,u&&(i=(i<<4)+i)),a=[n,e,r,i/255]}else 0==t.indexOf("rgba(")?fw(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),fw(a)):Ie(!1,14);return a}(r),n[r]=i,++e}return i});function Rc(t){return Array.isArray(t)?t:_j(t)}function fw(t){return t[0]=vt(t[0]+.5|0,0,255),t[1]=vt(t[1]+.5|0,0,255),t[2]=vt(t[2]+.5|0,0,255),t[3]=vt(t[3],0,1),t}function hw(t){var n=t[0];n!=(0|n)&&(n=n+.5|0);var e=t[1];e!=(0|e)&&(e=e+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+n+","+e+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}var Ej=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var n=0;for(var e in this.cache_)0==(3&n++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(n,e,r){var i=dw(n,e,r);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(n,e,r,i){var a=dw(n,e,r);this.cache_[a]=i,++this.cacheSize_},t.prototype.setSize=function(n){this.maxCacheSize_=n,this.expire()},t}();function dw(t,n,e){return n+":"+t+":"+(e?lw(e):"null")}var Mc=new Ej,Cj=function(){function t(n){this.type=n,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Gr=Cj,wt="function"==typeof Object.assign?Object.assign:function(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,i=arguments.length;r<i;++r){var a=arguments[r];if(null!=a)for(var o in a)a.hasOwnProperty(o)&&(e[o]=a[o])}return e};function au(t){for(var n in t)delete t[n]}var vw="function"==typeof Object.values?Object.values:function(t){var n=[];for(var e in t)n.push(t[e]);return n};function ou(t){var n;for(n in t)return!1;return!n}var Dj=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wj=function(t){function n(e){var r=t.call(this)||this;return r.eventTarget_=e,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return Dj(n,t),n.prototype.addEventListener=function(e,r){if(e&&r){var i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);-1===a.indexOf(r)&&a.push(r)}},n.prototype.dispatchEvent=function(e){var r="string"==typeof e,i=r?e:e.type,a=this.listeners_&&this.listeners_[i];if(a){var o=r?new Gr(e):e;o.target||(o.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,u[i]=0),++s[i];for(var l,c=0,f=a.length;c<f;++c)if(!1===(l="handleEvent"in a[c]?a[c].handleEvent(o):a[c].call(this,o))||o.propagationStopped){l=!1;break}if(0==--s[i]){var h=u[i];for(delete u[i];h--;)this.removeEventListener(i,ra);delete s[i]}return l}},n.prototype.disposeInternal=function(){this.listeners_&&au(this.listeners_)},n.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},n.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},n.prototype.removeEventListener=function(e,r){var i=this.listeners_&&this.listeners_[e];if(i){var a=i.indexOf(r);-1!==a&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=ra,++this.pendingRemovals_[e]):(i.splice(a,1),0===i.length&&delete this.listeners_[e]))}},n}(Xv),Io=wj;function Me(t,n,e,r,i){if(r&&r!==t&&(e=e.bind(r)),i){var a=e;e=function(){t.removeEventListener(n,e),a.apply(this,arguments)}}var o={target:t,type:n,listener:e};return t.addEventListener(n,e),o}function Oc(t,n,e,r){return Me(t,n,e,r,!0)}function qe(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),au(t))}var Tj=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ac=function(t){function n(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return Tj(n,t),n.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},n.prototype.getRevision=function(){return this.revision_},n.prototype.onInternal=function(e,r){if(Array.isArray(e)){for(var i=e.length,a=new Array(i),o=0;o<i;++o)a[o]=Me(this,e[o],r);return a}return Me(this,e,r)},n.prototype.onceInternal=function(e,r){var i;if(Array.isArray(e)){var a=e.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=Oc(this,e[o],r)}else i=Oc(this,e,r);return r.ol_key=i,i},n.prototype.unInternal=function(e,r){var i=r.ol_key;if(i)!function Sj(t){if(Array.isArray(t))for(var n=0,e=t.length;n<e;++n)qe(t[n]);else qe(t)}(i);else if(Array.isArray(e))for(var a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],r);else this.removeEventListener(e,r)},n}(Io),pw=Ac,gw=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yw=function(t){function n(e,r,i){var a=t.call(this,e)||this;return a.key=r,a.oldValue=i,a}return gw(n,t),n}(Gr),Ij=function(t){function n(e){var r=t.call(this)||this;return Pe(r),r.values_=null,void 0!==e&&r.setProperties(e),r}return gw(n,t),n.prototype.get=function(e){var r;return this.values_&&this.values_.hasOwnProperty(e)&&(r=this.values_[e]),r},n.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},n.prototype.getProperties=function(){return this.values_&&wt({},this.values_)||{}},n.prototype.hasProperties=function(){return!!this.values_},n.prototype.notify=function(e,r){var i;i="change:".concat(e),this.hasListener(i)&&this.dispatchEvent(new yw(i,e,r)),this.hasListener(i="propertychange")&&this.dispatchEvent(new yw(i,e,r))},n.prototype.addChangeListener=function(e,r){this.addEventListener("change:".concat(e),r)},n.prototype.removeChangeListener=function(e,r){this.removeEventListener("change:".concat(e),r)},n.prototype.set=function(e,r,i){var a=this.values_||(this.values_={});if(i)a[e]=r;else{var o=a[e];a[e]=r,o!==r&&this.notify(e,o)}},n.prototype.setProperties=function(e,r){for(var i in e)this.set(i,e[i],r)},n.prototype.applyProperties=function(e){!e.values_||wt(this.values_||(this.values_={}),e.values_)},n.prototype.unset=function(e,r){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],ou(this.values_)&&(this.values_=null),r||this.notify(e,i)}},n}(pw),Qn=Ij,Rj=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mj=function(t){function n(e){var r=t.call(this)||this;r.background_=e.background;var i=wt({},e);return"object"==typeof e.properties&&(delete i.properties,wt(i,e.properties)),i.opacity=void 0!==e.opacity?e.opacity:1,Ie("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,r.className_=void 0!==i.className?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return Rj(n,t),n.prototype.getBackground=function(){return this.background_},n.prototype.getClassName=function(){return this.className_},n.prototype.getLayerState=function(e){var r=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return r.opacity=vt(Math.round(100*this.getOpacity())/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=void 0!==i||r.managed?i:1/0,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},n.prototype.getLayersArray=function(e){return Se()},n.prototype.getLayerStatesArray=function(e){return Se()},n.prototype.getExtent=function(){return this.get("extent")},n.prototype.getMaxResolution=function(){return this.get("maxResolution")},n.prototype.getMinResolution=function(){return this.get("minResolution")},n.prototype.getMinZoom=function(){return this.get("minZoom")},n.prototype.getMaxZoom=function(){return this.get("maxZoom")},n.prototype.getOpacity=function(){return this.get("opacity")},n.prototype.getSourceState=function(){return Se()},n.prototype.getVisible=function(){return this.get("visible")},n.prototype.getZIndex=function(){return this.get("zIndex")},n.prototype.setBackground=function(e){this.background_=e,this.changed()},n.prototype.setExtent=function(e){this.set("extent",e)},n.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},n.prototype.setMinResolution=function(e){this.set("minResolution",e)},n.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},n.prototype.setMinZoom=function(e){this.set("minZoom",e)},n.prototype.setOpacity=function(e){Ie("number"==typeof e,64),this.set("opacity",e)},n.prototype.setVisible=function(e){this.set("visible",e)},n.prototype.setZIndex=function(e){this.set("zIndex",e)},n.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},n}(Qn),_w=Mj,Oj=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Aj=function(t){function n(e){var r=this,i=wt({},e);return delete i.source,(r=t.call(this,i)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,e.render&&(r.render=e.render),e.map&&r.setMap(e.map),r.addChangeListener("source",r.handleSourcePropertyChange_),r.setSource(e.source?e.source:null),r}return Oj(n,t),n.prototype.getLayersArray=function(e){var r=e||[];return r.push(this),r},n.prototype.getLayerStatesArray=function(e){var r=e||[];return r.push(this.getLayerState()),r},n.prototype.getSource=function(){return this.get("source")||null},n.prototype.getRenderSource=function(){return this.getSource()},n.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},n.prototype.handleSourceChange_=function(){this.changed()},n.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(qe(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Me(e,"change",this.handleSourceChange_,this)),this.changed()},n.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(r){return r([])})},n.prototype.getData=function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null},n.prototype.render=function(e,r){var i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,r)},n.prototype.unrender=function(){this.rendered=!1},n.prototype.setMapInternal=function(e){e||this.unrender(),this.set("map",e)},n.prototype.getMapInternal=function(){return this.get("map")},n.prototype.setMap=function(e){this.mapPrecomposeKey_&&(qe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(qe(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Me(e,"precompose",function(r){var a=r.frameState.layerStatesArray,o=this.getLayerState(!1);Ie(!a.some(function(s){return s.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=Me(this,"change",e.render,e),this.changed())},n.prototype.setSource=function(e){this.set("source",e)},n.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},n.prototype.hasRenderer=function(){return!!this.renderer_},n.prototype.createRenderer=function(){return null},n.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},n}(_w);function bc(t,n){if(!t.visible)return!1;var e=n.resolution;if(e<t.minResolution||e>=t.maxResolution)return!1;var r=n.zoom;return r>t.minZoom&&r<=t.maxZoom}var Pc=Aj;function xc(t,n){for(var e=!0,r=t.length-1;r>=0;--r)if(t[r]!=n[r]){e=!1;break}return e}function ap(t,n){var e=Math.cos(n),r=Math.sin(n),a=t[1]*e+t[0]*r;return t[0]=t[0]*e-t[1]*r,t[1]=a,t}function Cw(t,n){if(n.canWrapX()){var e=et(n.getExtent()),r=function Fj(t,n,e){var r=n.getExtent(),i=0;if(n.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var a=e||et(r);i=Math.floor((t[0]-r[0])/a)}return i}(t,n,e);r&&(t[0]-=r*e)}return t}var Nj=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jj=function(t){function n(e){var r=t.call(this)||this;return r.map_=e,r}return Nj(n,t),n.prototype.dispatchRenderEvent=function(e,r){Se()},n.prototype.calculateMatrices2D=function(e){var r=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;mr(i,e.size[0]/2,e.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),mc(a,i)},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,a,o,s,u,l){var c,f=r.viewState;function h(M,F,U,W){return o.call(s,F,M?U:null,W)}var d=f.projection,v=Cw(e.slice(),d),p=[[0,0]];if(d.canWrapX()&&a){var m=et(d.getExtent());p.push([-m,0],[m,0])}for(var g=r.layerStatesArray,E=g.length,T=[],R=[],x=0;x<p.length;x++)for(var P=E-1;P>=0;--P){var k=g[P],B=k.layer;if(B.hasRenderer()&&bc(k,f)&&u.call(l,B)){var C=B.getRenderer(),y=B.getSource();if(C&&y){var S=y.getWrapX()?v:e,I=h.bind(null,k.managed);R[0]=S[0]+p[x][0],R[1]=S[1]+p[x][1],c=C.forEachFeatureAtCoordinate(R,r,i,I,T)}if(c)return c}}if(0!==T.length){var O=1/T.length;return T.forEach(function(M,F){return M.distanceSq+=F*O}),T.sort(function(M,F){return M.distanceSq-F.distanceSq}),T.some(function(M){return c=M.callback(M.feature,M.layer,M.geometry)}),c}},n.prototype.forEachLayerAtPixel=function(e,r,i,a,o){return Se()},n.prototype.hasFeatureAtCoordinate=function(e,r,i,a,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,r,i,a,_o,this,o,s)},n.prototype.getMap=function(){return this.map_},n.prototype.renderFrame=function(e){Se()},n.prototype.scheduleExpireIconCache=function(e){Mc.canExpireCache()&&e.postRenderFunctions.push(Bj)},n}(Xv);function Bj(t,n){Mc.expire()}var Uj=jj,Hj=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gj=function(t){function n(e,r,i,a){var o=t.call(this,e)||this;return o.inversePixelTransform=r,o.frameState=i,o.context=a,o}return Hj(n,t),n}(Gr),Dw=Gj,kc="ol-hidden",Lc="ol-unselectable",op="ol-control",ww="ol-collapsed",zj=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Tw=["style","variant","weight","size","lineHeight","family"],Sw=function(n){var e=n.match(zj);if(!e)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,a=Tw.length;i<a;++i){var o=e[i+1];void 0!==o&&(r[Tw[i]]=o)}return r.families=r.family.split(/,\s?/),r};function Iw(t){return 1===t?"":String(Math.round(100*t)/100)}function bn(t,n,e,r){var i;return i=e&&e.length?e.shift():_c?new OffscreenCanvas(t||300,n||300):document.createElement("canvas"),t&&(i.width=t),n&&(i.height=n),i.getContext("2d",r)}function Wj(t){var n=t.offsetWidth,e=getComputedStyle(t);return n+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10))}function Yj(t){var n=t.offsetHeight,e=getComputedStyle(t);return n+(parseInt(e.marginTop,10)+parseInt(e.marginBottom,10))}function Rw(t,n){var e=n.parentNode;e&&e.replaceChild(t,n)}function Fc(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Mw(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Ow="10px sans-serif",Vr="#000",Nc="round",su=[],Ro="round",cu="#000",fu="center",jc="middle",ua=[0,0,0,0],zr=new Qn;(new Io).setSize=function(){console.warn("labelCache is deprecated.")};var sp,Mo=null,up={},Zj=function(){var a,o,n="32px ",e=["monospace","serif"],r=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function s(l,c,f){for(var h=!0,d=0;d<r;++d){var v=e[d];if(o=Bc(l+" "+c+" "+n+v,i),f!=v){var p=Bc(l+" "+c+" "+n+f+","+v,i);h=h&&p!=o}}return!!h}function u(){for(var l=!0,c=zr.getKeys(),f=0,h=c.length;f<h;++f){var d=c[f];zr.get(d)<100&&(s.apply(this,d.split("\n"))?(au(up),Mo=null,sp=void 0,zr.set(d,100)):(zr.set(d,zr.get(d)+1,!0),l=!1))}l&&(clearInterval(a),a=void 0)}return function(l){var c=Sw(l);if(c)for(var f=c.families,h=0,d=f.length;h<d;++h){var v=f[h],p=c.style+"\n"+c.weight+"\n"+v;void 0===zr.get(p)&&(zr.set(p,100,!0),s(c.style,c.weight,v)||(zr.set(p,0,!0),void 0===a&&(a=setInterval(u,32))))}}}(),Kj=function(){var t;return function(n){var e=up[n];if(null==e){if(_c){var r=Sw(n),i=Aw(n,"\u017dg");e=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=n,document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t);up[n]=e}return e}}();function Aw(t,n){return Mo||(Mo=bn(1,1)),t!=sp&&(Mo.font=t,sp=Mo.font),Mo.measureText(n)}function Bc(t,n){return Aw(t,n).width}function bw(t,n,e){if(n in e)return e[n];var r=Bc(t,n);return e[n]=r,r}var eB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tB=function(t){function n(e){var r=t.call(this,e)||this;r.fontChangeListenerKey_=Me(zr,"propertychange",e.redrawText.bind(e)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=Lc+" ol-layers";var a=e.getViewport();return a.insertBefore(r.element_,a.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return eB(n,t),n.prototype.dispatchRenderEvent=function(e,r){var i=this.getMap();if(i.hasListener(e)){var a=new Dw(e,void 0,r);i.dispatchEvent(a)}},n.prototype.disposeInternal=function(){qe(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},n.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var r=e.layerStatesArray.sort(function(d,v){return d.zIndex-v.zIndex}),i=e.viewState;this.children_.length=0;for(var a=[],o=null,s=0,u=r.length;s<u;++s){var l=r[s];e.layerIndex=s;var c=l.layer,f=c.getSourceState();if(!bc(l,i)||"ready"!=f&&"undefined"!=f)c.unrender();else{var h=c.render(e,o);!h||(h!==o&&(this.children_.push(h),o=h),"getDeclutter"in c&&a.push(c))}}for(s=a.length-1;s>=0;--s)a[s].renderDeclutter(e);(function Xj(t,n){for(var e=t.childNodes,r=0;;++r){var i=e[r],a=n[r];if(!i&&!a)break;if(i!==a){if(!i){t.appendChild(a);continue}if(!a){t.removeChild(i),--r;continue}t.insertBefore(a,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},n.prototype.forEachLayerAtPixel=function(e,r,i,a,o){for(var s=r.viewState,u=r.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],h=f.layer;if(h.hasRenderer()&&bc(f,s)&&o(h)){var v=h.getRenderer().getDataAtPixel(e,r,i);if(v){var p=a(h,v);if(p)return p}}}},n}(Uj),nB=tB,Pw=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uc=function(t){function n(e,r,i){var a=t.call(this,e)||this;return a.element=r,a.index=i,a}return Pw(n,t),n}(Gr),rB=function(t){function n(e,r){var i=t.call(this)||this;if(i.unique_=!!(r||{}).unique,i.array_=e||[],i.unique_)for(var o=0,s=i.array_.length;o<s;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return Pw(n,t),n.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},n.prototype.extend=function(e){for(var r=0,i=e.length;r<i;++r)this.push(e[r]);return this},n.prototype.forEach=function(e){for(var r=this.array_,i=0,a=r.length;i<a;++i)e(r[i],i,r)},n.prototype.getArray=function(){return this.array_},n.prototype.item=function(e){return this.array_[e]},n.prototype.getLength=function(){return this.get("length")},n.prototype.insertAt=function(e,r){this.unique_&&this.assertUnique_(r),this.array_.splice(e,0,r),this.updateLength_(),this.dispatchEvent(new Uc("add",r,e))},n.prototype.pop=function(){return this.removeAt(this.getLength()-1)},n.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var r=this.getLength();return this.insertAt(r,e),this.getLength()},n.prototype.remove=function(e){for(var r=this.array_,i=0,a=r.length;i<a;++i)if(r[i]===e)return this.removeAt(i)},n.prototype.removeAt=function(e){var r=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Uc("remove",r,e)),r},n.prototype.setAt=function(e,r){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(r,e);var a=this.array_[e];this.array_[e]=r,this.dispatchEvent(new Uc("remove",a,e)),this.dispatchEvent(new Uc("add",r,e))}else{for(var o=i;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,r)}},n.prototype.updateLength_=function(){this.set("length",this.array_.length)},n.prototype.assertUnique_=function(e,r){for(var i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==r)throw new $D(58)},n}(Qn),Pn=rB,kw=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yi=function(t){function n(e,r){var i=t.call(this,e)||this;return i.layer=r,i}return kw(n,t),n}(Gr),iB=function(t){function n(e){var r=this,i=e||{},a=wt({},i);delete a.layers;var o=i.layers;return(r=t.call(this,a)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener("layers",r.handleLayersChanged_),o?Array.isArray(o)?o=new Pn(o.slice(),{unique:!0}):Ie("function"==typeof o.getArray,43):o=new Pn(void 0,{unique:!0}),r.setLayers(o),r}return kw(n,t),n.prototype.handleLayerChange_=function(){this.changed()},n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(qe),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var r in this.layersListenerKeys_.push(Me(e,"add",this.handleLayersAdd_,this),Me(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[r].forEach(qe);au(this.listenerKeys_);for(var i=e.getArray(),a=0,o=i.length;a<o;a++){var s=i[a];this.registerLayerListeners_(s),this.dispatchEvent(new yi("addlayer",s))}this.changed()},n.prototype.registerLayerListeners_=function(e){var r=[Me(e,"propertychange",this.handleLayerChange_,this),Me(e,"change",this.handleLayerChange_,this)];e instanceof n&&r.push(Me(e,"addlayer",this.handleLayerGroupAdd_,this),Me(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Pe(e)]=r},n.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new yi("addlayer",e.layer))},n.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new yi("removelayer",e.layer))},n.prototype.handleLayersAdd_=function(e){var r=e.element;this.registerLayerListeners_(r),this.dispatchEvent(new yi("addlayer",r)),this.changed()},n.prototype.handleLayersRemove_=function(e){var r=e.element,i=Pe(r);this.listenerKeys_[i].forEach(qe),delete this.listenerKeys_[i],this.dispatchEvent(new yi("removelayer",r)),this.changed()},n.prototype.getLayers=function(){return this.get("layers")},n.prototype.setLayers=function(e){var r=this.getLayers();if(r)for(var i=r.getArray(),a=0,o=i.length;a<o;++a)this.dispatchEvent(new yi("removelayer",i[a]));this.set("layers",e)},n.prototype.getLayersArray=function(e){var r=void 0!==e?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},n.prototype.getLayerStatesArray=function(e){var r=void 0!==e?e:[],i=r.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(r)});var a=this.getLayerState(),o=a.zIndex;!e&&void 0===a.zIndex&&(o=0);for(var s=i,u=r.length;s<u;s++){var l=r[s];l.opacity*=a.opacity,l.visible=l.visible&&a.visible,l.maxResolution=Math.min(l.maxResolution,a.maxResolution),l.minResolution=Math.max(l.minResolution,a.minResolution),l.minZoom=Math.max(l.minZoom,a.minZoom),l.maxZoom=Math.min(l.maxZoom,a.maxZoom),void 0!==a.extent&&(l.extent=void 0!==l.extent?Do(l.extent,a.extent):a.extent),void 0===l.zIndex&&(l.zIndex=o)}return r},n.prototype.getSourceState=function(){return"ready"},n}(_w),Hc=iB,aB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oB=function(t){function n(e,r,i){var a=t.call(this,e)||this;return a.map=r,a.frameState=void 0!==i?i:null,a}return aB(n,t),n}(Gr),Oo=oB,sB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uB=function(t){function n(e,r,i,a,o){var s=t.call(this,e,r,o)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==a&&a,s}return sB(n,t),Object.defineProperty(n.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(r){this.pixel_=r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(r){this.coordinate_=r},enumerable:!1,configurable:!0}),n.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},n.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},n}(Oo),_i=uB,Ze={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},lB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cB=function(t){function n(e,r){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===r?1:r,i.down_=null;var a=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=a,i.pointerdownListenerKey_=Me(a,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=Me(a,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!QD&&{passive:!1}),i}return lB(n,t),n.prototype.emulateClick_=function(e){var r=new _i(Ze.CLICK,this.map_,e);this.dispatchEvent(r),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new _i(Ze.DBLCLICK,this.map_,e),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new _i(Ze.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},n.prototype.updateActivePointers_=function(e){var r=e;r.type==Ze.POINTERUP||r.type==Ze.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==Ze.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},n.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var r=new _i(Ze.POINTERUP,this.map_,e);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(qe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},n.prototype.isMouseActionButton_=function(e){return 0===e.button},n.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var r=new _i(Ze.POINTERDOWN,this.map_,e);for(var i in this.dispatchEvent(r),this.down_={},e){var a=e[i];this.down_[i]="function"==typeof a?ra:a}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Me(o,Ze.POINTERMOVE,this.handlePointerMove_,this),Me(o,Ze.POINTERUP,this.handlePointerUp_,this),Me(this.element_,Ze.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(Me(this.element_.getRootNode(),Ze.POINTERUP,this.handlePointerUp_,this))}},n.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var r=new _i(Ze.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(r)}},n.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var r=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new _i(e.type,this.map_,e,r))},n.prototype.handleTouchMove_=function(e){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()},n.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},n.prototype.disposeInternal=function(){this.relayedListenerKey_&&(qe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(qe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(qe),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},n}(Io),fB=cB,Gc=1/0,hB=function(){function t(n,e){this.priorityFunction_=n,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,au(this.queuedElements_)},t.prototype.dequeue=function(){var n=this.elements_,e=this.priorities_,r=n[0];1==n.length?(n.length=0,e.length=0):(n[0]=n.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},t.prototype.enqueue=function(n){Ie(!(this.keyFunction_(n)in this.queuedElements_),31);var e=this.priorityFunction_(n);return e!=Gc&&(this.elements_.push(n),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(n)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(n){return 2*n+1},t.prototype.getRightChildIndex_=function(n){return 2*n+2},t.prototype.getParentIndex_=function(n){return n-1>>1},t.prototype.heapify_=function(){var n;for(n=(this.elements_.length>>1)-1;n>=0;n--)this.siftUp_(n)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(n){return n in this.queuedElements_},t.prototype.isQueued=function(n){return this.isKeyQueued(this.keyFunction_(n))},t.prototype.siftUp_=function(n){for(var e=this.elements_,r=this.priorities_,i=e.length,a=e[n],o=r[n],s=n;n<i>>1;){var u=this.getLeftChildIndex_(n),l=this.getRightChildIndex_(n),c=l<i&&r[l]<r[u]?l:u;e[n]=e[c],r[n]=r[c],n=c}e[n]=a,r[n]=o,this.siftDown_(s,n)},t.prototype.siftDown_=function(n,e){for(var r=this.elements_,i=this.priorities_,a=r[e],o=i[e];e>n;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;r[e]=r[s],i[e]=i[s],e=s}r[e]=a,i[e]=o},t.prototype.reprioritize=function(){var o,s,u,n=this.priorityFunction_,e=this.elements_,r=this.priorities_,i=0,a=e.length;for(s=0;s<a;++s)(u=n(o=e[s]))==Gc?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=u,e[i++]=o);e.length=i,r.length=i,this.heapify_()},t}(),dB=hB,vB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pB=function(t){function n(e,r){var i=t.call(this,function(a){return e.apply(null,a)},function(a){return a[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return vB(n,t),n.prototype.enqueue=function(e){var r=t.prototype.enqueue.call(this,e);return r&&e[0].addEventListener("change",this.boundHandleTileChange_),r},n.prototype.getTilesLoading=function(){return this.tilesLoading_},n.prototype.handleTileChange=function(e){var r=e.target,i=r.getState();if(2===i||3===i||4===i){r.removeEventListener("change",this.boundHandleTileChange_);var a=r.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},n.prototype.loadMoreTiles=function(e,r){for(var o,s,i=0;this.tilesLoading_<e&&i<r&&this.getCount()>0;)s=(o=this.dequeue()[0]).getKey(),0===o.getState()&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())},n}(dB),gB=pB,$n={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},xn={};xn[$n.RADIANS]=6370997/(2*Math.PI),xn[$n.DEGREES]=2*Math.PI*6370997/360,xn[$n.FEET]=.3048,xn[$n.METERS]=1,xn[$n.USFEET]=1200/3937;var mi=$n,er={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},EB=function(){function t(n){this.code_=n.code,this.units_=n.units,this.extent_=void 0!==n.extent?n.extent:null,this.worldExtent_=void 0!==n.worldExtent?n.worldExtent:null,this.axisOrientation_=void 0!==n.axisOrientation?n.axisOrientation:"enu",this.global_=void 0!==n.global&&n.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=n.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=n.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||xn[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(n){this.global_=n,this.canWrapX_=!(!n||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n},t.prototype.setExtent=function(n){this.extent_=n,this.canWrapX_=!(!this.global_||!n)},t.prototype.setWorldExtent=function(n){this.worldExtent_=n},t.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Lw=EB,CB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),du=6378137,Ao=Math.PI*du,DB=[-Ao,-Ao,Ao,Ao],wB=[-180,-85,180,85],Vc=du*Math.log(Math.tan(Math.PI/2)),bo=function(t){function n(e){return t.call(this,{code:e,units:mi.METERS,extent:DB,global:!0,worldExtent:wB,getPointResolution:function(i,a){return i/vj(a[1]/du)}})||this}return CB(n,t),n}(Lw),Fw=[new bo("EPSG:3857"),new bo("EPSG:102100"),new bo("EPSG:102113"),new bo("EPSG:900913"),new bo("http://www.opengis.net/def/crs/EPSG/0/3857"),new bo("http://www.opengis.net/gml/srs/epsg.xml#3857")];function TB(t,n,e){var r=t.length,i=e>1?e:2,a=n;void 0===a&&(a=i>2?t.slice():new Array(r));for(var o=0;o<r;o+=i){a[o]=Ao*t[o]/180;var s=du*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));s>Vc?s=Vc:s<-Vc&&(s=-Vc),a[o+1]=s}return a}function SB(t,n,e){var r=t.length,i=e>1?e:2,a=n;void 0===a&&(a=i>2?t.slice():new Array(r));for(var o=0;o<r;o+=i)a[o]=180*t[o]/Ao,a[o+1]=360*Math.atan(Math.exp(t[o+1]/du))/Math.PI-90;return a}var IB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nw=[-180,-90,180,90],MB=6378137*Math.PI/180,la=function(t){function n(e,r){return t.call(this,{code:e,units:mi.DEGREES,extent:Nw,axisOrientation:r,global:!0,metersPerUnit:MB,worldExtent:Nw})||this}return IB(n,t),n}(Lw),jw=[new la("CRS:84"),new la("EPSG:4326","neu"),new la("urn:ogc:def:crs:OGC:1.3:CRS84"),new la("urn:ogc:def:crs:OGC:2:84"),new la("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new la("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new la("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],zc={},tr={};function Wc(t,n,e){var r=t.getCode(),i=n.getCode();r in tr||(tr[r]={}),tr[r][i]=e}function hp(t,n,e){var r=e||6371008.8,i=Tc(t[1]),a=Tc(n[1]),o=(a-i)/2,s=Tc(n[0]-t[0])/2,u=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(a);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var vp=!0;function Bw(t){vp=!(void 0===t||t)}function pp(t,n,e){var r;if(void 0!==n){for(var i=0,a=t.length;i<a;++i)n[i]=t[i];r=n}else r=t.slice();return r}function Uw(t,n,e){if(void 0!==n&&t!==n){for(var r=0,i=t.length;r<i;++r)n[r]=t[r];t=n}return t}function kB(t){(function AB(t,n){zc[t]=n})(t.getCode(),t),Wc(t,t,pp)}function Nt(t){return"string"==typeof t?function OB(t){return zc[t]||zc[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function Hw(t,n,e,r){var i,a=(t=Nt(t)).getPointResolutionFunc();if(a)i=a(n,e),r&&r!==t.getUnits()&&(o=t.getMetersPerUnit())&&(i=i*o/xn[r]);else{var s=t.getUnits();if(s==mi.DEGREES&&!r||r==mi.DEGREES)i=n;else{var o,u=vu(t,Nt("EPSG:4326"));if(u===Uw&&s!==mi.DEGREES)i=n*t.getMetersPerUnit();else{var l=[e[0]-n/2,e[1],e[0]+n/2,e[1],e[0],e[1]-n/2,e[0],e[1]+n/2];i=(hp((l=u(l,l,2)).slice(0,2),l.slice(2,4))+hp(l.slice(4,6),l.slice(6,8)))/2}void 0!==(o=r?xn[r]:t.getMetersPerUnit())&&(i/=o)}}return i}function Gw(t){(function LB(t){t.forEach(kB)})(t),t.forEach(function(n){t.forEach(function(e){n!==e&&Wc(n,e,pp)})})}function gp(t,n){return t?"string"==typeof t?Nt(t):t:Nt(n)}function NB(t,n){return Bw(),xo(t,"EPSG:4326",void 0!==n?n:"EPSG:3857")}function Po(t,n){if(t===n)return!0;var e=t.getUnits()===n.getUnits();return(t.getCode()===n.getCode()||vu(t,n)===pp)&&e}function vu(t,n){var i=function bB(t,n){var e;return t in tr&&n in tr[t]&&(e=tr[t][n]),e}(t.getCode(),n.getCode());return i||(i=Uw),i}function pu(t,n){return vu(Nt(t),Nt(n))}function xo(t,n,e){return pu(n,e)(t,void 0,t.length)}var Xt=null;function Ww(){return Xt}function yp(t,n){return t}function Yr(t,n){return vp&&!xc(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(vp=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function _p(t,n){return t}function ca(t,n){return t}function BB(t,n){return t}function Yw(t,n,e){return function(r,i,a,o,s){if(r){if(!i&&!n)return r;var u=n?0:a[0]*i,l=n?0:a[1]*i,c=s?s[0]:0,f=s?s[1]:0,h=t[0]+u/2+c,d=t[2]-u/2+c,v=t[1]+l/2+f,p=t[3]-l/2+f;h>d&&(d=h=(d+h)/2),v>p&&(p=v=(p+v)/2);var _=vt(r[0],h,d),m=vt(r[1],v,p);if(o&&e&&i){var g=30*i;_+=-g*Math.log(1+Math.max(0,h-r[0])/g)+g*Math.log(1+Math.max(0,r[0]-d)/g),m+=-g*Math.log(1+Math.max(0,v-r[1])/g)+g*Math.log(1+Math.max(0,r[1]-p)/g)}return[_,m]}}}function HB(t){return t}function mp(t,n,e,r){var i=et(n)/e[0],a=An(n)/e[1];return r?Math.min(t,Math.max(i,a)):Math.min(t,Math.min(i,a))}function Ep(t,n,e){var r=Math.min(t,n);return r*=Math.log(1+50*Math.max(0,t/n-1))/50+1,e&&(r=Math.max(r,e),r/=Math.log(1+50*Math.max(0,e/t-1))/50+1),vt(r,e/2,2*n)}function Xw(t,n,e,r,i){return function(a,o,s,u){if(void 0!==a){var l=r?mp(t,r,s,i):t;return(void 0===e||e)&&u?Ep(a,l,n):vt(a,n,l)}}}function Cp(t){if(void 0!==t)return 0}function qw(t){if(void 0!==t)return t}function Zw(t){return Math.pow(t,3)}function ko(t){return 1-Zw(1-t)}function Dp(t){return 3*t*t-2*t*t*t}function YB(t){return t}!function UB(){Gw(Fw),Gw(jw),function FB(t,n,e,r){t.forEach(function(i){n.forEach(function(a){Wc(i,a,e),Wc(a,i,r)})})}(jw,Fw,TB,SB)}();function fa(t,n,e,r,i,a){for(var o=a||[],s=0,u=n;u<e;u+=r){var l=t[u],c=t[u+1];o[s++]=i[0]*l+i[2]*c+i[4],o[s++]=i[1]*l+i[3]*c+i[5]}return a&&o.length!=s&&(o.length=s),o}function wp(t,n,e,r,i,a,o){for(var s=o||[],u=Math.cos(i),l=Math.sin(i),c=a[0],f=a[1],h=0,d=n;d<e;d+=r){var v=t[d]-c,p=t[d+1]-f;s[h++]=c+v*u-p*l,s[h++]=f+v*l+p*u;for(var _=d+2;_<d+r;++_)s[h++]=t[_]}return o&&s.length!=h&&(s.length=h),s}function Kw(t,n,e,r,i,a,o){for(var s=o||[],u=0,l=n;l<e;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+a;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}return o&&s.length!=u&&(s.length=u),s}var qB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jw=[1,0,0,1,0,0],ZB=function(t){function n(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function W2(t){var e,r,i,n=!1;return function(){var a=Array.prototype.slice.call(arguments);return(!n||this!==i||!na(a,r))&&(n=!0,i=this,r=a,e=t.apply(this,arguments)),e}}(function(r,i,a){if(!a)return this.getSimplifiedGeometry(i);var o=this.clone();return o.applyTransform(a),o.getSimplifiedGeometry(i)}),e}return qB(n,t),n.prototype.simplifyTransformed=function(e,r){return this.simplifyTransformedInternal(this.getRevision(),e,r)},n.prototype.clone=function(){return Se()},n.prototype.closestPointXY=function(e,r,i,a){return Se()},n.prototype.containsXY=function(e,r){var i=this.getClosestPoint([e,r]);return i[0]===e&&i[1]===r},n.prototype.getClosestPoint=function(e,r){var i=r||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},n.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},n.prototype.computeExtent=function(e){return Se()},n.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&mo(r),this.extentRevision_=this.getRevision()}return function cj(t,n){return n?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n):t}(this.extent_,e)},n.prototype.rotate=function(e,r){Se()},n.prototype.scale=function(e,r,i){Se()},n.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},n.prototype.getSimplifiedGeometry=function(e){return Se()},n.prototype.getType=function(){return Se()},n.prototype.applyTransform=function(e){Se()},n.prototype.intersectsExtent=function(e){return Se()},n.prototype.translate=function(e,r){Se()},n.prototype.transform=function(e,r){var i=Nt(e),a=i.getUnits()==mi.TILE_PIXELS?function(o,s,u){var l=i.getExtent(),c=i.getWorldExtent(),f=An(c)/An(l);return mr(Jw,c[0],c[3],f,-f,0,0,0),fa(o,0,o.length,u,Jw,s),pu(i,r)(o,s,u)}:pu(i,r);return this.applyTransform(a),this},n}(Qn),KB=ZB,JB=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QB=function(t){function n(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return JB(n,t),n.prototype.computeExtent=function(e){return function aj(t,n,e,r,i){return ow(mo(i),t,n,e,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},n.prototype.getCoordinates=function(){return Se()},n.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},n.prototype.getFlatCoordinates=function(){return this.flatCoordinates},n.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},n.prototype.getLayout=function(){return this.layout},n.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(e);return r.getFlatCoordinates().length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},n.prototype.getSimplifiedGeometryInternal=function(e){return this},n.prototype.getStride=function(){return this.stride},n.prototype.setFlatCoordinates=function(e,r){this.stride=Qw(e),this.layout=e,this.flatCoordinates=r},n.prototype.setCoordinates=function(e,r){Se()},n.prototype.setLayout=function(e,r,i){var a;if(e)a=Qw(e);else{for(var o=0;o<i;++o){if(0===r.length)return this.layout="XY",void(this.stride=2);r=r[0]}e=function $B(t){var n;return 2==t?n="XY":3==t?n="XYZ":4==t&&(n="XYZM"),n}(a=r.length)}this.layout=e,this.stride=a},n.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},n.prototype.rotate=function(e,r){var i=this.getFlatCoordinates();if(i){var a=this.getStride();wp(i,0,i.length,a,e,r,i),this.changed()}},n.prototype.scale=function(e,r,i){var a=r;void 0===a&&(a=e);var o=i;o||(o=Co(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();(function XB(t,n,e,r,i,a,o,s){for(var u=s||[],l=o[0],c=o[1],f=0,h=n;h<e;h+=r){var v=t[h+1]-c;u[f++]=l+i*(t[h]-l),u[f++]=c+a*v;for(var p=h+2;p<h+r;++p)u[f++]=t[p]}s&&u.length!=f&&(u.length=f)})(s,0,s.length,u,e,a,o,s),this.changed()}},n.prototype.translate=function(e,r){var i=this.getFlatCoordinates();if(i){var a=this.getStride();Kw(i,0,i.length,a,e,r,i),this.changed()}},n}(KB);function Qw(t){var n;return"XY"==t?n=2:"XYZ"==t||"XYM"==t?n=3:"XYZM"==t&&(n=4),n}var qc=QB;function $w(t,n,e,r,i,a,o){var f,s=t[n],u=t[n+1],l=t[e]-s,c=t[e+1]-u;if(0===l&&0===c)f=n;else{var h=((i-s)*l+(a-u)*c)/(l*l+c*c);if(h>1)f=e;else{if(h>0){for(var d=0;d<r;++d)o[d]=oa(t[n+d],t[e+d],h);return void(o.length=r)}f=n}}for(d=0;d<r;++d)o[d]=t[f+d];o.length=r}function eT(t,n,e,r,i){var a=t[n],o=t[n+1];for(n+=r;n<e;n+=r){var s=t[n],u=t[n+1],l=wo(a,o,s,u);l>i&&(i=l),a=s,o=u}return i}function nT(t,n,e,r,i,a,o,s,u,l,c){if(n==e)return l;var f,h;if(0===i){if((h=wo(o,s,t[n],t[n+1]))<l){for(f=0;f<r;++f)u[f]=t[n+f];return u.length=r,h}return l}for(var d=c||[NaN,NaN],v=n+r;v<e;)if($w(t,v-r,v,r,o,s,d),(h=wo(o,s,d[0],d[1]))<l){for(l=h,f=0;f<r;++f)u[f]=d[f];u.length=r,v+=r}else v+=r*Math.max((Math.sqrt(h)-Math.sqrt(l))/i|0,1);if(a&&($w(t,e-r,n,r,o,s,d),(h=wo(o,s,d[0],d[1]))<l)){for(l=h,f=0;f<r;++f)u[f]=d[f];u.length=r}return l}function iT(t,n,e,r){for(var i=0,a=e.length;i<a;++i)t[n++]=e[i];return n}function aT(t,n,e,r){for(var i=0,a=e.length;i<a;++i)for(var o=e[i],s=0;s<r;++s)t[n++]=o[s];return n}function ha(t,n){return n*Math.round(t/n)}function rU(t,n,e,r,i,a,o){if(n==e)return o;var l,c,s=ha(t[n],i),u=ha(t[n+1],i);n+=r,a[o++]=s,a[o++]=u;do{if(l=ha(t[n],i),c=ha(t[n+1],i),(n+=r)==e)return a[o++]=l,a[o++]=c,o}while(l==s&&c==u);for(;n<e;){var f=ha(t[n],i),h=ha(t[n+1],i);if(n+=r,f!=l||h!=c){var d=l-s,v=c-u,p=f-s,_=h-u;if(d*_==v*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(v<0&&_<v||v==_||v>0&&_>v)){l=f,c=h;continue}a[o++]=l,a[o++]=c,s=l,u=c,l=f,c=h}}return a[o++]=l,a[o++]=c,o}function Lo(t,n,e,r,i){for(var a=void 0!==i?i:[],o=0,s=n;s<e;s+=r)a[o++]=t.slice(s,s+r);return a.length=o,a}function Zc(t,n,e,r,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=Lo(t,n,l,r,a[o]),n=l}return a.length=o,a}function uT(t,n,e,r,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=Zc(t,n,l,r,a[o]),n=l[l.length-1]}return a.length=o,a}function lT(t,n,e,r){for(var i=0,a=t[e-r],o=t[e-r+1];n<e;n+=r){var s=t[n],u=t[n+1];i+=o*s-a*u,a=s,o=u}return i/2}var iU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aU=function(t){function n(e,r){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?i.setCoordinates(e,r):i.setFlatCoordinates(r,e),i}return iU(n,t),n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(e,r,i,a){return a<rw(this.getExtent(),e,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,r,i,a))},n.prototype.getArea=function(){return lT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinates=function(){return Lo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=function Tp(t,n,e,r,i,a,o){var s=(e-n)/r;if(s<3){for(;n<e;n+=r)a[o++]=t[n],a[o++]=t[n+1];return o}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[n,e-r],c=0;l.length>0;){for(var f=l.pop(),h=l.pop(),d=0,v=t[h],p=t[h+1],_=t[f],m=t[f+1],g=h+r;g<f;g+=r){var R=gj(t[g],t[g+1],v,p,_,m);R>d&&(c=g,d=R)}d>i&&(u[(c-n)/r]=1,h+r<c&&l.push(h,c),c+r<f&&l.push(c,f))}for(g=0;g<s;++g)u[g]&&(a[o++]=t[n+g*r],a[o++]=t[n+g*r+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new n(r,"XY")},n.prototype.getType=function(){return"LinearRing"},n.prototype.intersectsExtent=function(e){return!1},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=aT(this.flatCoordinates,0,e,this.stride),this.changed()},n}(qc),fT=aU,oU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sU=function(t){function n(e,r){var i=t.call(this)||this;return i.setCoordinates(e,r),i}return oU(n,t),n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,a){var o=this.flatCoordinates,s=wo(e,r,o[0],o[1]);if(s<a){for(var u=this.stride,l=0;l<u;++l)i[l]=o[l];return i.length=u,s}return a},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(e){return function ij(t,n){var e=t[0],r=t[1];return Jn(e,r,e,r,n)}(this.flatCoordinates,e)},n.prototype.getType=function(){return"Point"},n.prototype.intersectsExtent=function(e){return iw(e,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=iT(this.flatCoordinates,0,e),this.changed()},n}(qc),uU=sU;function lU(t,n,e,r,i){return!tp(i,function(o){return!da(t,n,e,r,o[0],o[1])})}function da(t,n,e,r,i,a){for(var o=0,s=t[e-r],u=t[e-r+1];n<e;n+=r){var l=t[n],c=t[n+1];u<=a?c>a&&(l-s)*(a-u)-(i-s)*(c-u)>0&&o++:c<=a&&(l-s)*(a-u)-(i-s)*(c-u)<0&&o--,s=l,u=c}return 0!==o}function Sp(t,n,e,r,i,a){if(0===e.length||!da(t,n,e[0],r,i,a))return!1;for(var o=1,s=e.length;o<s;++o)if(da(t,e[o-1],e[o],r,i,a))return!1;return!0}function Ip(t,n,e,r,i){var a=ow([1/0,1/0,-1/0,-1/0],t,n,e,r);return!!Yt(i,a)&&(!!(ia(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3])||function cU(t,n,e,r,i){var a;for(n+=r;n<e;n+=r)if(a=i(t.slice(n-r,n),t.slice(n,n+r)))return a;return!1}(t,n,e,r,function(o,s){return function fj(t,n,e){var r=!1,i=ep(t,n),a=ep(t,e);if(1===i||1===a)r=!0;else{var o=t[0],s=t[1],u=t[2],l=t[3],h=e[0],d=e[1],v=(d-n[1])/(h-n[0]),p=void 0,_=void 0;!!(2&a)&&!(2&i)&&(r=(p=h-(d-l)/v)>=o&&p<=u),r||!(4&a)||4&i||(r=(_=d-(h-u)*v)>=s&&_<=l),r||!(8&a)||8&i||(r=(p=h-(d-s)/v)>=o&&p<=u),!r&&16&a&&!(16&i)&&(r=(_=d-(h-o)*v)>=s&&_<=l)}return r}(i,o,s)}))}function hU(t,n,e,r){for(;n<e-r;){for(var i=0;i<r;++i){var a=t[n+i];t[n+i]=t[e-r+i],t[e-r+i]=a}n+=r,e-=r}}function Rp(t,n,e,r){for(var i=0,a=t[e-r],o=t[e-r+1];n<e;n+=r){var s=t[n],u=t[n+1];i+=(s-a)*(u+o),a=s,o=u}return 0===i?void 0:i>0}function Mp(t,n,e,r,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=Rp(t,n,u,r);(0===o?a&&l||!a&&!l:a&&!l||!a&&l)&&hU(t,n,u,r),n=u}return n}var dU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kc=function(t){function n(e,r,i){var a=t.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==r&&i?(a.setFlatCoordinates(r,e),a.ends_=i):a.setCoordinates(e,r),a}return dU(n,t),n.prototype.appendLinearRing=function(e){this.flatCoordinates?KD(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,a){return a<rw(this.getExtent(),e,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function tT(t,n,e,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a];i=eT(t,n,s,r,i),n=s}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function rT(t,n,e,r,i,a,o,s,u,l,c){for(var f=c||[NaN,NaN],h=0,d=e.length;h<d;++h){var v=e[h];l=nT(t,n,v,r,i,a,o,s,u,l,f),n=v}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,r,i,a))},n.prototype.containsXY=function(e,r){return Sp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,r)},n.prototype.getArea=function(){return function cT(t,n,e,r){for(var i=0,a=0,o=e.length;a<o;++a){var s=e[a];i+=lT(t,n,s,r),n=s}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},n.prototype.getCoordinates=function(e){var r;return void 0!==e?Mp(r=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):r=this.flatCoordinates,Zc(r,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Co(this.getExtent());this.flatInteriorPoint_=function hT(t,n,e,r,i,a,o){for(var s,u,l,c,f,h,d,v=i[a+1],p=[],_=0,m=e.length;_<m;++_){var g=e[_];for(c=t[g-r],h=t[g-r+1],s=n;s<g;s+=r)f=t[s],d=t[s+1],(v<=h&&d<=v||h<=v&&v<=d)&&p.push(l=(v-h)/(d-h)*(f-c)+c),c=f,h=d}var E=NaN,T=-1/0;for(p.sort(ta),c=p[0],s=1,u=p.length;s<u;++s){f=p[s];var R=Math.abs(f-c);R>T&&Sp(t,n,e,r,l=(c+f)/2,v)&&(E=l,T=R),c=f}return isNaN(E)&&(E=i[a]),o?(o.push(E,v,T),o):[E,v,T]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},n.prototype.getInteriorPoint=function(){return new uU(this.getFlatInteriorPoint(),"XYM")},n.prototype.getLinearRingCount=function(){return this.ends_.length},n.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new fT(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},n.prototype.getLinearRings=function(){for(var e=this.layout,r=this.flatCoordinates,i=this.ends_,a=[],o=0,s=0,u=i.length;s<u;++s){var l=i[s],c=new fT(r.slice(o,l),e);a.push(c),o=l}return a},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function vT(t,n,e,r,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=Rp(t,n,u,r);if(0===o){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;n=u}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Mp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[],i=[];return r.length=function sT(t,n,e,r,i,a,o,s){for(var u=0,l=e.length;u<l;++u){var c=e[u];o=rU(t,n,c,r,i,a,o),s.push(o),n=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,i),new n(r,"XY",i)},n.prototype.getType=function(){return"Polygon"},n.prototype.intersectsExtent=function(e){return function dT(t,n,e,r,i){if(!function fU(t,n,e,r,i){return!!(Ip(t,n,e,r,i)||da(t,n,e,r,i[0],i[1])||da(t,n,e,r,i[0],i[3])||da(t,n,e,r,i[2],i[1])||da(t,n,e,r,i[2],i[3]))}(t,n,e[0],r,i))return!1;if(1===e.length)return!0;for(var a=1,o=e.length;a<o;++a)if(lU(t,e[a-1],e[a],r,i)&&!Ip(t,e[a-1],e[a],r,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function oT(t,n,e,r,i){for(var a=i||[],o=0,s=0,u=e.length;s<u;++s){var l=aT(t,n,e[s],r);a[o++]=l,n=l}return a.length=o,a}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},n}(qc),vU=Kc;function pT(t){var n=t[0],e=t[1],r=t[2],i=t[3],a=[n,e,n,i,r,i,r,e,n,e];return new Kc(a,"XY",[a.length])}var gU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yU=function(t){function n(e){var r=t.call(this)||this,i=wt({},e);return r.hints_=[0,0],r.animations_=[],r.projection_=gp(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.nextCenter_=null,r.cancelAnchor_=void 0,i.projection&&Bw(),i.center&&(i.center=Yr(i.center)),i.extent&&(i.extent=ca(i.extent)),r.applyOptions_(i),r}return gU(n,t),n.prototype.applyOptions_=function(e){var r=wt({},e);for(var i in er)delete r[i];this.setProperties(r,!0);var a=function mU(t){var n,e,r,o=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,h=gp(t.projection,"EPSG:3857"),d=h.getExtent(),v=t.constrainOnlyCenter,p=t.extent;if(!l&&!p&&h.isGlobal()&&(v=!1,p=d),void 0!==t.resolutions){var _=t.resolutions;e=_[o],r=void 0!==_[s]?_[s]:_[_.length-1],n=t.constrainResolution?function GB(t,n,e,r){return function(i,a,o,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=e?mp(u,e,o,r):u;if(s)return void 0===n||n?Ep(i,c,l):vt(i,l,c);var h=Math.min(c,i),d=Math.floor(qv(t,h,a));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(_,c,!v&&p,f):Xw(e,r,c,!v&&p,f)}else{var g=(d?Math.max(et(d),An(d)):360*xn[mi.DEGREES]/h.getMetersPerUnit())/256/Math.pow(2,0),E=g/Math.pow(2,28);void 0!==(e=t.maxResolution)?o=0:e=g/Math.pow(u,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(u,s):g/Math.pow(u,s):E),s=o+Math.floor(Math.log(e/r)/Math.log(u)),r=e/Math.pow(u,s-o),n=t.constrainResolution?function VB(t,n,e,r,i,a){return function(o,s,u,l){if(void 0!==o){var c=i?mp(n,i,u,a):n,f=void 0!==e?e:0;if(l)return void 0===r||r?Ep(o,c,f):vt(o,f,c);var v=Math.ceil(Math.log(n/c)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,_=Math.min(c,o),m=Math.floor(Math.log(n/_)/Math.log(t)+p),g=Math.max(v,m);return vt(n/Math.pow(t,g),f,c)}}}(u,e,r,c,!v&&p,f):Xw(e,r,c,!v&&p,f)}return{constraint:n,maxResolution:e,minResolution:r,minZoom:o,zoomFactor:u}}(e);this.maxResolution_=a.maxResolution,this.minResolution_=a.minResolution,this.zoomFactor_=a.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=a.minZoom;var o=function _U(t){if(void 0!==t.extent)return Yw(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=gp(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var r=e.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Yw(r,!1,!1)}return HB}(e),s=a.constraint,u=function EU(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function WB(t){var n=t||Tc(5);return function(e,r){return r?e:void 0!==e?Math.abs(e)<=n?0:e:void 0}}():!1===e?qw:"number"==typeof e?function zB(t){var n=2*Math.PI/t;return function(e,r){return r?e:void 0!==e?e=Math.floor(e/n+.5)*n:void 0}}(e):qw}return Cp}(e);this.constraints_={center:o,resolution:s,rotation:u},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)},Object.defineProperty(n.prototype,"padding",{get:function(){return this.padding_},set:function(r){var i=this.padding_;this.padding_=r;var a=this.getCenter();if(a){var o=r||[0,0,0,0];i=i||[0,0,0,0];var s=this.getResolution();this.setCenterInternal([a[0]+s/2*(o[3]-i[3]+i[1]-o[1]),a[1]-s/2*(o[0]-i[0]+i[2]-o[2])])}},enumerable:!1,configurable:!0}),n.prototype.getUpdatedOptions_=function(e){var r=this.getProperties();return void 0!==r.resolution?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),wt({},r,e)},n.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var a=arguments[i];a.center&&((a=wt({},a)).center=Yr(a.center,this.getProjection())),a.anchor&&((a=wt({},a)).anchor=Yr(a.anchor,this.getProjection())),r[i]=a}this.animateInternal.apply(this,r)},n.prototype.animateInternal=function(e){var i,r=arguments.length;r>1&&"function"==typeof arguments[r-1]&&(i=arguments[r-1],--r);for(var a=0;a<r&&!this.isDef();++a){var o=arguments[a];o.center&&this.setCenterInternal(o.center),void 0!==o.zoom?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),void 0!==o.rotation&&this.setRotation(o.rotation)}if(a!==r){for(var s=Date.now(),u=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_,f=[];a<r;++a){var h=arguments[a],d={start:s,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||Dp,callback:i};if(h.center&&(d.sourceCenter=u,d.targetCenter=h.center.slice(),u=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=l,d.targetResolution=this.getResolutionForZoom(h.zoom),l=d.targetResolution):h.resolution&&(d.sourceResolution=l,d.targetResolution=h.resolution,l=d.targetResolution),void 0!==h.rotation){d.sourceRotation=c;var v=To(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=c+v,c=d.targetRotation}CU(d)?d.complete=!0:s+=d.duration,f.push(d)}this.animations_.push(f),this.setHint(0,1),this.updateAnimations_()}else i&&Jc(i,!0)},n.prototype.getAnimating=function(){return this.hints_[0]>0},n.prototype.getInteracting=function(){return this.hints_[1]>0},n.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,r=0,i=this.animations_.length;r<i;++r){var a=this.animations_[r];if(a[0].callback&&Jc(a[0].callback,!1),!e)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},n.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var a=this.animations_[i],o=!0,s=0,u=a.length;s<u;++s){var l=a[s];if(!l.complete){var f=l.duration>0?(e-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):o=!1;var h=l.easing(f);if(l.sourceCenter){var d=l.sourceCenter[0],v=l.sourceCenter[1],p=l.targetCenter[0],_=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[d+h*(p-d),v+h*(_-v)]}if(l.sourceResolution&&l.targetResolution){var E=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var T=this.getViewportSize_(this.getRotation()),R=this.constraints_.resolution(E,0,T,!0);this.targetCenter_=this.calculateCenterZoom(R,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var x=1===h?To(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var P=this.constraints_.rotation(x,!0);this.targetCenter_=this.calculateCenterRotate(P,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=x}if(this.applyTargetState_(!0),r=!0,!l.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var k=a[0].callback;k&&Jc(k,!0)}}this.animations_=this.animations_.filter(Boolean),r&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},n.prototype.calculateCenterRotate=function(e,r){var i,a=this.getCenterInternal();return void 0!==a&&(ap(i=[a[0]-r[0],a[1]-r[1]],e-this.getRotation()),function bj(t,n){t[0]+=+n[0],t[1]+=+n[1]}(i,r)),i},n.prototype.calculateCenterZoom=function(e,r){var i,a=this.getCenterInternal(),o=this.getResolution();return void 0!==a&&void 0!==o&&(i=[r[0]-e*(r[0]-a[0])/o,r[1]-e*(r[1]-a[1])/o]),i},n.prototype.getViewportSize_=function(e){var r=this.viewportSize_;if(e){var i=r[0],a=r[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return r},n.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},n.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&yp(e,this.getProjection())},n.prototype.getCenterInternal=function(){return this.get(er.CENTER)},n.prototype.getConstraints=function(){return this.constraints_},n.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},n.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},n.prototype.calculateExtent=function(e){return _p(this.calculateExtentInternal(e),this.getProjection())},n.prototype.calculateExtentInternal=function(e){var r=e||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();Ie(i,1);var a=this.getResolution();Ie(void 0!==a,2);var o=this.getRotation();return Ie(void 0!==o,3),np(i,a,o,r)},n.prototype.getMaxResolution=function(){return this.maxResolution_},n.prototype.getMinResolution=function(){return this.minResolution_},n.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},n.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},n.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},n.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},n.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},n.prototype.getProjection=function(){return this.projection_},n.prototype.getResolution=function(){return this.get(er.RESOLUTION)},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getResolutionForExtent=function(e,r){return this.getResolutionForExtentInternal(ca(e,this.getProjection()),r)},n.prototype.getResolutionForExtentInternal=function(e,r){var i=r||this.getViewportSizeMinusPadding_(),a=et(e)/i[0],o=An(e)/i[1];return Math.max(a,o)},n.prototype.getResolutionForValueFunction=function(e){var r=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/Math.log(r);return function(s){return i/Math.pow(r,s*o)}},n.prototype.getRotation=function(){return this.get(er.ROTATION)},n.prototype.getValueForResolutionFunction=function(e){var r=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/r;return function(s){return Math.log(i/s)/r/o}},n.prototype.getViewportSizeMinusPadding_=function(e){var r=this.getViewportSize_(e),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},n.prototype.getState=function(){var e=this.getProjection(),r=this.getResolution(),i=this.getRotation(),a=this.getCenterInternal(),o=this.padding_;if(o){var s=this.getViewportSizeMinusPadding_();a=Ap(a,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],r,i)}return{center:a.slice(0),projection:void 0!==e?e:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},n.prototype.getZoom=function(){var e,r=this.getResolution();return void 0!==r&&(e=this.getZoomForResolution(r)),e},n.prototype.getZoomForResolution=function(e){var i,a,r=this.minZoom_||0;if(this.resolutions_){var o=qv(this.resolutions_,e,1);r=o,i=this.resolutions_[o],a=o==this.resolutions_.length-1?2:i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return r+Math.log(i/e)/Math.log(a)},n.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=vt(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[r]/Math.pow(this.resolutions_[r]/this.resolutions_[r+1],vt(e-r,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},n.prototype.fit=function(e,r){var i;if(Ie(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Ie(!rp(e),25),i=pT(a=ca(e,this.getProjection()));else if("Circle"===e.getType()){var a;(i=pT(a=ca(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),Co(a))}else{var o=Ww();i=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(i,r)},n.prototype.rotatedExtentForGeometry=function(e){for(var r=this.getRotation(),i=Math.cos(r),a=Math.sin(-r),o=e.getFlatCoordinates(),s=e.getStride(),u=1/0,l=1/0,c=-1/0,f=-1/0,h=0,d=o.length;h<d;h+=s){var v=o[h]*i-o[h+1]*a,p=o[h]*a+o[h+1]*i;u=Math.min(u,v),l=Math.min(l,p),c=Math.max(c,v),f=Math.max(f,p)}return[u,l,c,f]},n.prototype.fitInternal=function(e,r){var i=r||{},a=i.size;a||(a=this.getViewportSizeMinusPadding_());var u,o=void 0!==i.padding?i.padding:[0,0,0,0],s=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;var l=this.rotatedExtentForGeometry(e),c=this.getResolutionForExtentInternal(l,[a[0]-o[1]-o[3],a[1]-o[0]-o[2]]);c=isNaN(c)?u:Math.max(c,u),c=this.getConstrainedResolution(c,s?0:1);var f=this.getRotation(),h=Math.sin(f),d=Math.cos(f),v=Co(l);v[0]+=(o[1]-o[3])/2*c,v[1]+=(o[0]-o[2])/2*c;var m=this.getConstrainedCenter([v[0]*d-v[1]*h,v[1]*d+v[0]*h],c),g=i.callback?i.callback:ra;void 0!==i.duration?this.animateInternal({resolution:c,center:m,duration:i.duration,easing:i.easing},g):(this.targetResolution_=c,this.targetCenter_=m,this.applyTargetState_(!1,!0),Jc(g,!0))},n.prototype.centerOn=function(e,r,i){this.centerOnInternal(Yr(e,this.getProjection()),r,i)},n.prototype.centerOnInternal=function(e,r,i){this.setCenterInternal(Ap(e,r,i,this.getResolution(),this.getRotation()))},n.prototype.calculateCenterShift=function(e,r,i,a){var o,s=this.padding_;if(s&&e){var u=this.getViewportSizeMinusPadding_(-i),l=Ap(e,a,[u[0]/2+s[3],u[1]/2+s[0]],r,i);o=[e[0]-l[0],e[1]-l[1]]}return o},n.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},n.prototype.adjustCenter=function(e){var r=yp(this.targetCenter_,this.getProjection());this.setCenter([r[0]+e[0],r[1]+e[1]])},n.prototype.adjustCenterInternal=function(e){var r=this.targetCenter_;this.setCenterInternal([r[0]+e[0],r[1]+e[1]])},n.prototype.adjustResolution=function(e,r){var i=r&&Yr(r,this.getProjection());this.adjustResolutionInternal(e,i)},n.prototype.adjustResolutionInternal=function(e,r){var i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);r&&(this.targetCenter_=this.calculateCenterZoom(o,r)),this.targetResolution_*=e,this.applyTargetState_()},n.prototype.adjustZoom=function(e,r){this.adjustResolution(Math.pow(this.zoomFactor_,-e),r)},n.prototype.adjustRotation=function(e,r){r&&(r=Yr(r,this.getProjection())),this.adjustRotationInternal(e,r)},n.prototype.adjustRotationInternal=function(e,r){var i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);r&&(this.targetCenter_=this.calculateCenterRotate(a,r)),this.targetRotation_+=e,this.applyTargetState_()},n.prototype.setCenter=function(e){this.setCenterInternal(e&&Yr(e,this.getProjection()))},n.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},n.prototype.setHint=function(e,r){return this.hints_[e]+=r,this.changed(),this.hints_[e]},n.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},n.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},n.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},n.prototype.applyTargetState_=function(e,r){var i=this.getAnimating()||this.getInteracting()||r,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,0,o,i),u=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,a,o));this.get(er.ROTATION)!==a&&this.set(er.ROTATION,a),this.get(er.RESOLUTION)!==s&&(this.set(er.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(er.CENTER)||!xc(this.get(er.CENTER),u))&&this.set(er.CENTER,u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},n.prototype.resolveConstraints=function(e,r,i){var a=void 0!==e?e:200,o=r||0,s=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,o,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,s,u));if(0===a&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===a?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!xc(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:a,easing:ko,anchor:f}))},n.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},n.prototype.endInteraction=function(e,r,i){var a=i&&Yr(i,this.getProjection());this.endInteractionInternal(e,r,a)},n.prototype.endInteractionInternal=function(e,r,i){this.setHint(1,-1),this.resolveConstraints(e,r,i)},n.prototype.getConstrainedCenter=function(e,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,r||this.getResolution(),i)},n.prototype.getConstrainedZoom=function(e,r){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},n.prototype.getConstrainedResolution=function(e,r){var i=r||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,a)},n}(Qn);function Jc(t,n){setTimeout(function(){t(n)},0)}function CU(t){return!(t.sourceCenter&&t.targetCenter&&!xc(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ap(t,n,e,r,i){var a=Math.cos(-i),o=Math.sin(-i),s=t[0]*a-t[1]*o,u=t[1]*a+t[0]*o;return[(s+=(n[0]/2-e[0])*r)*a-(u+=(e[1]-n[1]/2)*r)*(o=-o),u*a+s*o]}var Ei=yU;function gT(t){return t[0]>0&&t[1]>0}function nr(t,n){return Array.isArray(t)?t:(void 0===n?n=[t,t]:(n[0]=t,n[1]=t),n)}var wU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function yT(t){t instanceof Pc?t.setMapInternal(null):t instanceof Hc&&t.getLayers().forEach(yT)}function _T(t,n){if(t instanceof Pc)t.setMapInternal(n);else if(t instanceof Hc)for(var e=t.getLayers().getArray(),r=0,i=e.length;r<i;++r)_T(e[r],n)}var TU=function(t){function n(e){var r=t.call(this)||this,i=function SU(t){var n=null;void 0!==t.keyboardEventTarget&&(n="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,a,o,e={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Hc({layers:t.layers});return e.layergroup=r,e.target=t.target,e.view=t.view instanceof Ei?t.view:new Ei,void 0!==t.controls&&(Array.isArray(t.controls)?i=new Pn(t.controls.slice()):(Ie("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?a=new Pn(t.interactions.slice()):(Ie("function"==typeof t.interactions.getArray,48),a=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new Pn(t.overlays.slice()):(Ie("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Pn,{controls:i,interactions:a,keyboardEventTarget:n,overlays:o,values:e}}(e);r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,r.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:JD,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=[1,0,0,1,0,0],r.pixelToCoordinateTransform_=[1,0,0,1,0,0],r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=e.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new Pn,r.interactions=i.interactions||new Pn,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new gB(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener("layergroup",r.handleLayerGroupChanged_),r.addChangeListener("view",r.handleViewChanged_),r.addChangeListener("size",r.handleSizeChanged_),r.addChangeListener("target",r.handleTargetChanged_),r.setProperties(i.values);var a=r;return e.view&&!(e.view instanceof Ei)&&e.view.then(function(o){a.setView(new Ei(o))}),r.controls.addEventListener("add",function(o){o.element.setMap(this)}.bind(r)),r.controls.addEventListener("remove",function(o){o.element.setMap(null)}.bind(r)),r.interactions.addEventListener("add",function(o){o.element.setMap(this)}.bind(r)),r.interactions.addEventListener("remove",function(o){o.element.setMap(null)}.bind(r)),r.overlays_.addEventListener("add",function(o){this.addOverlayInternal_(o.element)}.bind(r)),r.overlays_.addEventListener("remove",function(o){var u=o.element.getId();void 0!==u&&delete this.overlayIdIndex_[u.toString()],o.element.setMap(null)}.bind(r)),r.controls.forEach(function(o){o.setMap(this)}.bind(r)),r.interactions.forEach(function(o){o.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return wU(n,t),n.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},n.prototype.addControl=function(e){this.getControls().push(e)},n.prototype.addInteraction=function(e){this.getInteractions().push(e)},n.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},n.prototype.handleLayerAdd_=function(e){_T(e.layer,this)},n.prototype.addOverlay=function(e){this.getOverlays().push(e)},n.prototype.addOverlayInternal_=function(e){var r=e.getId();void 0!==r&&(this.overlayIdIndex_[r.toString()]=e),e.setMap(this)},n.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},n.prototype.forEachFeatureAtPixel=function(e,r,i){if(this.frameState_&&this.renderer_){var a=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,r,null,void 0!==i.layerFilter?i.layerFilter:_o,null)}},n.prototype.getFeaturesAtPixel=function(e,r){var i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},r),i},n.prototype.getAllLayers=function(){var e=[];return function r(i){i.forEach(function(a){a instanceof Hc?r(a.getLayers()):e.push(a)})}(this.getLayers()),e},n.prototype.forEachLayerAtPixel=function(e,r,i){if(this.frameState_&&this.renderer_){var a=i||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==a.hitTolerance?a.hitTolerance:0,r,a.layerFilter||_o)}},n.prototype.hasFeatureAtPixel=function(e,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,void 0!==r.layerFilter?r.layerFilter:_o,null)},n.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},n.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},n.prototype.getEventPixel=function(e){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-r.left,i.clientY-r.top]},n.prototype.getTarget=function(){return this.get("target")},n.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},n.prototype.getCoordinateFromPixel=function(e){return yp(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},n.prototype.getCoordinateFromPixelInternal=function(e){var r=this.frameState_;return r?dt(r.pixelToCoordinateTransform,e.slice()):null},n.prototype.getControls=function(){return this.controls},n.prototype.getOverlays=function(){return this.overlays_},n.prototype.getOverlayById=function(e){var r=this.overlayIdIndex_[e.toString()];return void 0!==r?r:null},n.prototype.getInteractions=function(){return this.interactions},n.prototype.getLayerGroup=function(){return this.get("layergroup")},n.prototype.setLayers=function(e){var r=this.getLayerGroup();if(e instanceof Pn)r.setLayers(e);else{var i=r.getLayers();i.clear(),i.extend(e)}},n.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},n.prototype.getLoadingOrNotReady=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),r=0,i=e.length;r<i;++r){var a=e[r];if(a.visible){var o=a.layer.getRenderer();if(o&&!o.ready)return!0;var s=a.layer.getSource();if(s&&s.loading)return!0}}return!1},n.prototype.getPixelFromCoordinate=function(e){var r=Yr(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},n.prototype.getPixelFromCoordinateInternal=function(e){var r=this.frameState_;return r?dt(r.coordinateToPixelTransform,e.slice(0,2)):null},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.getSize=function(){return this.get("size")},n.prototype.getView=function(){return this.get("view")},n.prototype.getViewport=function(){return this.viewport_},n.prototype.getOverlayContainer=function(){return this.overlayContainer_},n.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},n.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},n.prototype.getTilePriority=function(e,r,i,a){return function yB(t,n,e,r,i){if(!t||!(e in t.wantedTiles)||!t.wantedTiles[e][n.getKey()])return Gc;var a=t.viewState.center,o=r[0]-a[0],s=r[1]-a[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i}(this.frameState_,e,r,i,a)},n.prototype.handleBrowserEvent=function(e,r){var a=new _i(r||e.type,this,e);this.handleMapBrowserEvent(a)},n.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var r=e.originalEvent,i=r.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,s=r.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===a?a.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(e)||e.propagationStopped))break}}},n.prototype.handlePostRender=function(){var e=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,a=i;if(e){var o=e.viewHints;if(o[0]||o[1]){var s=Date.now()-e.time>8;i=s?0:8,a=s?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,a))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Oo("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Oo("loadstart",this,e))));for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,e);u.length=0},n.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},n.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,r=this.targetChangeHandlerKeys_.length;e<r;++e)qe(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Fc(this.viewport_)}var i=this.getTargetElement();if(i){for(var a in i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new fB(this,this.moveTolerance_),Ze)this.mapBrowserEventHandler_.addEventListener(Ze[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!QD&&{passive:!1});var o=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Me(s,"keydown",this.handleBrowserEvent,this),Me(s,"keypress",this.handleBrowserEvent,this),Me(o,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},n.prototype.handleTileChange_=function(){this.render()},n.prototype.handleViewPropertyChanged_=function(){this.render()},n.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(qe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(qe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Me(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Me(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},n.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(qe),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new yi("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Me(e,"propertychange",this.render,this),Me(e,"change",this.render,this),Me(e,"addlayer",this.handleLayerAdd_,this),Me(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},n.prototype.isRendered=function(){return!!this.frameState_},n.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},n.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),r=0,i=e.length;r<i;++r){var a=e[r].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},n.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},n.prototype.removeControl=function(e){return this.getControls().remove(e)},n.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},n.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},n.prototype.handleLayerRemove_=function(e){yT(e.layer)},n.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},n.prototype.renderFrame_=function(e){var r=this,i=this.getSize(),a=this.getView(),o=this.frameState_,s=null;if(void 0!==i&&gT(i)&&a&&a.isDef()){var u=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=a.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:np(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{},mapId:Pe(this),renderTargets:{}},l.nextCenter&&l.nextResolution){var c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=np(l.nextCenter,l.nextResolution,c,i)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o&&(!this.previousExtent_||!rp(this.previousExtent_)&&!iu(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Oo("movestart",this,o)),this.previousExtent_=mo(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!iu(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Oo("moveend",this,s)),nw(s.extent,this.previousExtent_))),this.dispatchEvent(new Oo("postrender",this,s)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},n.prototype.setLayerGroup=function(e){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new yi("removelayer",r)),this.set("layergroup",e)},n.prototype.setSize=function(e){this.set("size",e)},n.prototype.setTarget=function(e){this.set("target",e)},n.prototype.setView=function(e){if(!e||e instanceof Ei)this.set("view",e);else{this.set("view",new Ei);var r=this;e.then(function(i){r.setView(new Ei(i))})}},n.prototype.updateSize=function(){var e=this.getTargetElement(),r=void 0;if(e){var i=getComputedStyle(e),a=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(a)&&!isNaN(o)&&!gT(r=[a,o])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(r),this.updateViewportSize_()},n.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(r)}},n}(Qn),IU=TU,RU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MU=function(t){function n(e){var r=t.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],e.render&&(r.render=e.render),e.target&&r.setTarget(e.target),r}return RU(n,t),n.prototype.disposeInternal=function(){Fc(this.element),t.prototype.disposeInternal.call(this)},n.prototype.getMap=function(){return this.map_},n.prototype.setMap=function(e){this.map_&&Fc(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)qe(this.listenerKeys[r]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ra&&this.listenerKeys.push(Me(e,"postrender",this.render,this)),e.render())},n.prototype.render=function(e){},n.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},n}(Qn),bp=MU,OU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AU=function(t){function n(e){var r=this,i=e||{};(r=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===i.collapsed||i.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==i.collapsible,r.collapsible_=void 0===i.collapsible||i.collapsible,r.collapsible_||(r.collapsed_=!1);var a=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:a+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\u203a",l=void 0!==i.collapseClassName?i.collapseClassName:a+"-collapse";"string"==typeof u?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=l):r.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(r.label_=document.createElement("span"),r.label_.textContent=c,r.label_.className=s):r.label_=c;var f=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=o,r.toggleButton_.appendChild(f),r.toggleButton_.addEventListener("click",r.handleClick_.bind(r),!1);var d=r.element;return d.className=a+" "+Lc+" "+op+(r.collapsed_&&r.collapsible_?" "+ww:"")+(r.collapsible_?"":" ol-uncollapsible"),d.appendChild(r.toggleButton_),d.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return OU(n,t),n.prototype.collectSourceAttributions_=function(e){for(var r={},i=[],a=!0,o=e.layerStatesArray,s=0,u=o.length;s<u;++s){var l=o[s];if(bc(l,e.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var h=f(e);if(h)if(a=a&&!1!==c.getAttributionsCollapsible(),Array.isArray(h))for(var d=0,v=h.length;d<v;++d)h[d]in r||(i.push(h[d]),r[h[d]]=!0);else h in r||(i.push(h),r[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),i},n.prototype.updateElement_=function(e){if(e){var r=this.collectSourceAttributions_(e),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!na(r,this.renderedAttributions_)){Mw(this.ulElement_);for(var a=0,o=r.length;a<o;++a){var s=document.createElement("li");s.innerHTML=r[a],this.ulElement_.appendChild(s)}this.renderedAttributions_=r}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},n.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},n.prototype.handleToggle_=function(){this.element.classList.toggle(ww),this.collapsed_?Rw(this.collapseLabel_,this.label_):Rw(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},n.prototype.getCollapsible=function(){return this.collapsible_},n.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},n.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},n.prototype.getCollapsed=function(){return this.collapsed_},n.prototype.render=function(e){this.updateElement_(e.frameState)},n}(bp),bU=AU,PU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xU=function(t){function n(e){var r=this,i=e||{};r=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";r.label_=null,"string"==typeof o?(r.label_=document.createElement("span"),r.label_.className=s,r.label_.textContent=o):(r.label_=o,r.label_.classList.add(s));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=a+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(r.label_),l.addEventListener("click",r.handleClick_.bind(r),!1);var f=r.element;return f.className=a+" "+Lc+" "+op,f.appendChild(l),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=void 0!==i.duration?i.duration:250,r.autoHide_=void 0===i.autoHide||i.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(kc),r}return PU(n,t),n.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},n.prototype.resetNorth_=function(){var r=this.getMap().getView();if(r){var i=r.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?r.animate({rotation:0,duration:this.duration_,easing:ko}):r.setRotation(0))}},n.prototype.render=function(e){var r=e.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var a="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(kc);o||0!==i?o&&0!==i&&this.element.classList.remove(kc):this.element.classList.add(kc)}this.label_.style.transform=a}this.rotation_=i}},n}(bp),kU=xU,LU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FU=function(t){function n(e){var r=this,i=e||{};r=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:a+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:a+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2013",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=f,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener("click",r.handleClick_.bind(r,o),!1);var v=document.createElement("button");v.className=u,v.setAttribute("type","button"),v.title=h,v.appendChild("string"==typeof c?document.createTextNode(c):c),v.addEventListener("click",r.handleClick_.bind(r,-o),!1);var _=r.element;return _.className=a+" "+Lc+" "+op,_.appendChild(d),_.appendChild(v),r.duration_=void 0!==i.duration?i.duration:250,r}return LU(n,t),n.prototype.handleClick_=function(e,r){r.preventDefault(),this.zoomByDelta_(e)},n.prototype.zoomByDelta_=function(e){var i=this.getMap().getView();if(i){var a=i.getZoom();if(void 0!==a){var o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:ko})):i.setZoom(o)}}},n}(bp),NU=FU,BU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),UU=function(t){function n(e){var r=t.call(this)||this;return e&&e.handleEvent&&(r.handleEvent=e.handleEvent),r.map_=null,r.setActive(!0),r}return BU(n,t),n.prototype.getActive=function(){return this.get("active")},n.prototype.getMap=function(){return this.map_},n.prototype.handleEvent=function(e){return!0},n.prototype.setActive=function(e){this.set("active",e)},n.prototype.setMap=function(e){this.map_=e},n}(Qn);function Pp(t,n,e,r){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+n),o=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:e,duration:void 0!==r?r:250,easing:ko})}}var gu=UU,GU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),VU=function(t){function n(e){var r=t.call(this)||this,i=e||{};return r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:250,r}return GU(n,t),n.prototype.handleEvent=function(e){var r=!1;if(e.type==Ze.DBLCLICK){var i=e.originalEvent,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_;Pp(e.map.getView(),s,o,this.duration_),i.preventDefault(),r=!0}return!r},n}(gu),zU=VU,WU=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),YU=function(t){function n(e){var r=this,i=e||{};return r=t.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return WU(n,t),n.prototype.getPointerCount=function(){return this.targetPointers.length},n.prototype.handleDownEvent=function(e){return!1},n.prototype.handleDragEvent=function(e){},n.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ze.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ze.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ze.POINTERDOWN){var a=this.handleDownEvent(e);this.handlingDownUpSequence=a,r=this.stopDown(a)}else e.type==Ze.POINTERMOVE&&this.handleMoveEvent(e);return!r},n.prototype.handleMoveEvent=function(e){},n.prototype.handleUpEvent=function(e){return!1},n.prototype.stopDown=function(e){return e},n.prototype.updateTrackedPointers_=function(e){if(function XU(t){var n=t.type;return n===Ze.POINTERDOWN||n===Ze.POINTERDRAG||n===Ze.POINTERUP}(e)){var r=e.originalEvent,i=r.pointerId.toString();e.type==Ze.POINTERUP?delete this.trackedPointers_[i]:(e.type==Ze.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=r),this.targetPointers=vw(this.trackedPointers_)}},n}(gu);function xp(t){for(var n=t.length,e=0,r=0,i=0;i<n;i++)e+=t[i].clientX,r+=t[i].clientY;return[e/n,r/n]}var yu=YU;function kp(t){var n=arguments;return function(e){for(var r=!0,i=0,a=n.length;i<a&&(r=r&&n[i](e));++i);return r}}var qU=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ET=function(n){return!n.map.getTargetElement().hasAttribute("tabindex")||function(n){var e=n.map.getTargetElement(),r=n.map.getOwnerDocument().activeElement;return e.contains(r)}(n)},KU=_o,CT=function(n){var e=n.originalEvent;return 0==e.button&&!(Z2&&K2&&e.ctrlKey)},DT=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},JU=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},wT=function(n){var r=n.originalEvent.target.tagName;return"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r},Lp=function(n){var e=n.originalEvent;return Ie(void 0!==e,56),"mouse"==e.pointerType},QU=function(n){var e=n.originalEvent;return Ie(void 0!==e,56),e.isPrimary&&0===e.button},$U=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eH=function(t){function n(e){var r=t.call(this,{stopDown:yc})||this,i=e||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.panning_=!1;var a=i.condition?i.condition:kp(DT,QU);return r.condition_=i.onFocusOnly?kp(ET,a):a,r.noKinetic_=!1,r}return $U(n,t),n.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=xp(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map.getView();(function kj(t,n){t[0]*=n,t[1]*=n})(a,s.getResolution()),ap(a,s.getRotation()),s.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()},n.prototype.handleUpEvent=function(e){var r=e.map,i=r.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),u=r.getPixelFromCoordinateInternal(s),l=r.getCoordinateFromPixelInternal([u[0]-a*Math.cos(o),u[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:ko})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},n.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},n}(yu),tH=eH,nH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rH=function(t){function n(e){var r=this,i=e||{};return(r=t.call(this,{stopDown:yc})||this).condition_=i.condition?i.condition:qU,r.lastAngle_=void 0,r.duration_=void 0!==i.duration?i.duration:250,r}return nH(n,t),n.prototype.handleDragEvent=function(e){if(Lp(e)){var r=e.map,i=r.getView();if(i.getConstraints().rotation!==Cp){var a=r.getSize(),o=e.pixel,s=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}}},n.prototype.handleUpEvent=function(e){return!Lp(e)||(e.map.getView().endInteraction(this.duration_),!1)},n.prototype.handleDownEvent=function(e){return!(!Lp(e)||!CT(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},n}(yu),iH=rH,aH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oH=function(t){function n(e){var r=t.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+e,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return aH(n,t),n.prototype.disposeInternal=function(){this.setMap(null)},n.prototype.render_=function(){var e=this.startPixel_,r=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],r[0])+i,a.top=Math.min(e[1],r[1])+i,a.width=Math.abs(r[0]-e[0])+i,a.height=Math.abs(r[1]-e[1])+i},n.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},n.prototype.setPixels=function(e,r){this.startPixel_=e,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},n.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,r=this.endPixel_,a=[e,[e[0],r[1]],r,[r[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new vU([a])},n.prototype.getGeometry=function(){return this.geometry_},n}(Xv),sH=oH,TT=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fp=function(t){function n(e,r,i){var a=t.call(this,e)||this;return a.coordinate=r,a.mapBrowserEvent=i,a}return TT(n,t),n}(Gr),uH=function(t){function n(e){var r=t.call(this)||this,i=e||{};return r.box_=new sH(i.className||"ol-dragbox"),r.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:CT,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return TT(n,t),n.prototype.defaultBoxEndCondition=function(e,r,i){var a=i[0]-r[0],o=i[1]-r[1];return a*a+o*o>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Fp("boxdrag",e.coordinate,e))},n.prototype.handleUpEvent=function(e){this.box_.setMap(null);var r=this.boxEndCondition_(e,this.startPixel_,e.pixel);return r&&this.onBoxEnd(e),this.dispatchEvent(new Fp(r?"boxend":"boxcancel",e.coordinate,e)),!1},n.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Fp("boxstart",e.coordinate,e)),!0)},n.prototype.onBoxEnd=function(e){},n}(yu),lH=uH,cH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fH=function(t){function n(e){var r=this,i=e||{};return(r=t.call(this,{condition:i.condition?i.condition:JU,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,r.out_=void 0!==i.out&&i.out,r}return cH(n,t),n.prototype.onBoxEnd=function(e){var i=this.getMap().getView(),a=this.getGeometry();if(this.out_){var o=i.rotatedExtentForGeometry(a),s=i.getResolutionForExtentInternal(o),u=i.getResolution()/s;(a=a.clone()).scale(u*u)}i.fitInternal(a,{duration:this.duration_,easing:ko})},n}(lH),hH=fH,dH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vH=function(t){function n(e){var r=t.call(this)||this,i=e||{};return r.defaultCondition_=function(a){return DT(a)&&wT(a)},r.condition_=void 0!==i.condition?i.condition:r.defaultCondition_,r.duration_=void 0!==i.duration?i.duration:100,r.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,r}return dH(n,t),n.prototype.handleEvent=function(e){var r=!1;if("keydown"==e.type){var i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(40==a||37==a||39==a||38==a)){var s=e.map.getView(),u=s.getResolution()*this.pixelDelta_,l=0,c=0;40==a?c=-u:37==a?l=-u:39==a?l=u:c=u;var f=[l,c];ap(f,s.getRotation()),function HU(t,n,e){var r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==e?e:250,easing:YB,center:t.getConstrainedCenter([r[0]+n[0],r[1]+n[1]])})}(s,f,this.duration_),i.preventDefault(),r=!0}}return!r},n}(gu),pH=vH,gH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yH=function(t){function n(e){var r=t.call(this)||this,i=e||{};return r.condition_=i.condition?i.condition:wT,r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:100,r}return gH(n,t),n.prototype.handleEvent=function(e){var r=!1;if("keydown"==e.type||"keypress"==e.type){var i=e.originalEvent,a=i.charCode;if(this.condition_(e)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var o=e.map,s=a=="+".charCodeAt(0)?this.delta_:-this.delta_;Pp(o.getView(),s,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},n}(gu),_H=yH,mH=function(){function t(n,e,r){this.decay_=n,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(n,e){this.points_.push(n,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var n=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<n)return!1;for(var r=e-3;r>0&&this.points_[r+2]>n;)r-=3;var i=this.points_[e+2]-this.points_[r+2];if(i<1e3/60)return!1;var a=this.points_[e]-this.points_[r],o=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(o,a),this.initialVelocity_=Math.sqrt(a*a+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),EH=mH,CH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),DH=function(t){function n(e){var r=this,i=e||{};(r=t.call(this,i)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,r.duration_=void 0!==i.duration?i.duration:250,r.timeout_=void 0!==i.timeout?i.timeout:80,r.useAnchor_=void 0===i.useAnchor||i.useAnchor,r.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var a=i.condition?i.condition:KU;return r.condition_=i.onFocusOnly?kp(ET,a):a,r.lastAnchor_=null,r.startTime_=void 0,r.mode_=void 0,r.trackpadEventGap_=400,r.deltaPerZoom_=300,r}return CH(n,t),n.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},n.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var o,i=e.map,a=e.originalEvent;if(a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=a.deltaY,X2&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=JD),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;var s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;var l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},n.prototype.handleWheelZoom_=function(e){var r=e.getView();r.getAnimating()&&r.cancelAnimations();var i=-vt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Pp(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},n.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},n}(gu),wH=DH,TH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),SH=function(t){function n(e){var r=this,i=e||{},a=i;return a.stopDown||(a.stopDown=yc),(r=t.call(this,a)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==i.threshold?i.threshold:.3,r.duration_=void 0!==i.duration?i.duration:250,r}return TH(n,t),n.prototype.handleDragEvent=function(e){var r=0,i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=s}this.lastAngle_=o;var u=e.map,l=u.getView();if(l.getConstraints().rotation!==Cp){var c=u.getViewport().getBoundingClientRect(),f=xp(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(r,this.anchor_))}},n.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},n.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}return!1},n}(yu),IH=SH,RH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MH=function(t){function n(e){var r=this,i=e||{},a=i;return a.stopDown||(a.stopDown=yc),(r=t.call(this,a)||this).anchor_=null,r.duration_=void 0!==i.duration?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return RH(n,t),n.prototype.handleDragEvent=function(e){var r=1,i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,s=i.clientY-a.clientY,u=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(r=this.lastDistance_/u),this.lastDistance_=u;var l=e.map,c=l.getView();1!=r&&(this.lastScaleDelta_=r);var f=l.getViewport().getBoundingClientRect(),h=xp(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),c.adjustResolutionInternal(r,this.anchor_)},n.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},n.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}return!1},n}(yu),OH=MH,bH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),PH=function(t){function n(e){return(e=wt({},e)).controls||(e.controls=function jU(t){var n=t||{},e=new Pn;return(void 0===n.zoom||n.zoom)&&e.push(new NU(n.zoomOptions)),(void 0===n.rotate||n.rotate)&&e.push(new kU(n.rotateOptions)),(void 0===n.attribution||n.attribution)&&e.push(new bU(n.attributionOptions)),e}()),e.interactions||(e.interactions=function AH(t){var n=t||{},e=new Pn,r=new EH(-.005,.05,100);return(void 0===n.altShiftDragRotate||n.altShiftDragRotate)&&e.push(new iH),(void 0===n.doubleClickZoom||n.doubleClickZoom)&&e.push(new zU({delta:n.zoomDelta,duration:n.zoomDuration})),(void 0===n.dragPan||n.dragPan)&&e.push(new tH({onFocusOnly:n.onFocusOnly,kinetic:r})),(void 0===n.pinchRotate||n.pinchRotate)&&e.push(new IH),(void 0===n.pinchZoom||n.pinchZoom)&&e.push(new OH({duration:n.zoomDuration})),(void 0===n.keyboard||n.keyboard)&&(e.push(new pH),e.push(new _H({delta:n.zoomDelta,duration:n.zoomDuration}))),(void 0===n.mouseWheelZoom||n.mouseWheelZoom)&&e.push(new wH({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(void 0===n.shiftDragZoom||n.shiftDragZoom)&&e.push(new hH({duration:n.zoomDuration})),e}({onFocusOnly:!0})),t.call(this,e)||this}return bH(n,t),n.prototype.createRenderer=function(){return new nB(this)},n}(IU),xH=PH,ST=ir(402),kH=function(){function t(n){this.opacity_=n.opacity,this.rotateWithView_=n.rotateWithView,this.rotation_=n.rotation,this.scale_=n.scale,this.scaleArray_=nr(n.scale),this.displacement_=n.displacement}return t.prototype.clone=function(){var n=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Se()},t.prototype.getImage=function(n){return Se()},t.prototype.getHitDetectionImage=function(){return Se()},t.prototype.getPixelRatio=function(n){return 1},t.prototype.getImageState=function(){return Se()},t.prototype.getImageSize=function(){return Se()},t.prototype.getOrigin=function(){return Se()},t.prototype.getSize=function(){return Se()},t.prototype.setDisplacement=function(n){this.displacement_=n},t.prototype.setOpacity=function(n){this.opacity_=n},t.prototype.setRotateWithView=function(n){this.rotateWithView_=n},t.prototype.setRotation=function(n){this.rotation_=n},t.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=nr(n)},t.prototype.listenImageChange=function(n){Se()},t.prototype.load=function(){Se()},t.prototype.unlistenImageChange=function(n){Se()},t}(),IT=kH;function Er(t){return Array.isArray(t)?hw(t):t}var LH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FH=function(t){function n(e){var r=this;return(r=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=void 0!==e.fill?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=void 0!==e.radius?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=void 0!==e.angle?e.angle:0,r.stroke_=void 0!==e.stroke?e.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return LH(n,t),n.prototype.clone=function(){var e=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},n.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var r=this.getDisplacement();return[e[0]/2-r[0],e[1]/2+r[1]]},n.prototype.getAngle=function(){return this.angle_},n.prototype.getFill=function(){return this.fill_},n.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},n.prototype.getImage=function(e){var r=this.canvas_[e];if(!r){var i=this.renderOptions_,a=bn(i.size*e,i.size*e);this.draw_(i,a,e),this.canvas_[e]=r=a.canvas}return r},n.prototype.getPixelRatio=function(e){return e},n.prototype.getImageSize=function(){return this.size_},n.prototype.getImageState=function(){return 2},n.prototype.getOrigin=function(){return this.origin_},n.prototype.getPoints=function(){return this.points_},n.prototype.getRadius=function(){return this.radius_},n.prototype.getRadius2=function(){return this.radius2_},n.prototype.getSize=function(){return this.size_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.listenImageChange=function(e){},n.prototype.load=function(){},n.prototype.unlistenImageChange=function(e){},n.prototype.calculateLineJoinSize_=function(e,r,i){if(0===r||this.points_===1/0||"bevel"!==e&&"miter"!==e)return r;var a=this.radius_,o=void 0===this.radius2_?a:this.radius2_;if(a<o){var s=a;a=o,o=s}var l=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),c=o*Math.sin(l),h=a-Math.sqrt(o*o-c*c),d=Math.sqrt(c*c+h*h),v=d/c;if("miter"===e&&v<=i)return v*r;var p=r/2/v,_=r/2*(h/d),g=Math.sqrt((a+p)*(a+p)+_*_)-a;if(void 0===this.radius2_||"bevel"===e)return 2*g;var E=a*Math.sin(l),R=o-Math.sqrt(a*a-E*E),P=Math.sqrt(E*E+R*R)/E;return P<=i?2*Math.max(g,P*r/2-o-a):2*g},n.prototype.createRenderOptions=function(){var o,e=Ro,r=0,i=null,a=0,s=0;this.stroke_&&(null===(o=this.stroke_.getColor())&&(o=cu),o=Er(o),void 0===(s=this.stroke_.getWidth())&&(s=1),i=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=Ro),void 0===(r=this.stroke_.getMiterLimit())&&(r=10));var u=this.calculateLineJoinSize_(e,s,r),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:o,strokeWidth:s,size:Math.ceil(2*l+u),lineDash:i,lineDashOffset:a,lineJoin:e,miterLimit:r}},n.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},n.prototype.draw_=function(e,r,i){if(r.scale(i,i),r.translate(e.size/2,e.size/2),this.createPath_(r),this.fill_){var a=this.fill_.getColor();null===a&&(a=Vr),r.fillStyle=Er(a),r.fill()}this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,r.setLineDash&&e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},n.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var r=this.fill_.getColor(),i=0;if("string"==typeof r&&(r=Rc(r)),null===r?i=1:Array.isArray(r)&&(i=4===r.length?r[3]:1),0===i){var a=bn(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},n.prototype.createPath_=function(e){var r=this.points_,i=this.radius_;if(r===1/0)e.arc(0,0,i,0,2*Math.PI);else{var a=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(r*=2);for(var o=this.angle_-Math.PI/2,s=2*Math.PI/r,u=0;u<r;u++){var l=o+u*s,c=u%2==0?i:a;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}},n.prototype.drawHitDetectionCanvas_=function(e,r){r.translate(e.size/2,e.size/2),this.createPath_(r),r.fillStyle=Vr,r.fill(),this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},n}(IT),NH=FH,jH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),BH=function(t){function n(e){var r=e||{};return t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:void 0!==r.scale?r.scale:1,rotation:void 0!==r.rotation?r.rotation:0,rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this}return jH(n,t),n.prototype.clone=function(){var e=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},n.prototype.setRadius=function(e){this.radius_=e,this.render()},n}(NH),UH=BH,HH=function(){function t(n){var e=n||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var n=this.getColor();return new t({color:Array.isArray(n)?n.slice():n||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(n){this.color_=n},t}(),RT=HH,GH=function(){function t(n){var e=n||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var n=this.getColor();return new t({color:Array.isArray(n)?n.slice():n||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(n){this.color_=n},t.prototype.setLineCap=function(n){this.lineCap_=n},t.prototype.setLineDash=function(n){this.lineDash_=n},t.prototype.setLineDashOffset=function(n){this.lineDashOffset_=n},t.prototype.setLineJoin=function(n){this.lineJoin_=n},t.prototype.setMiterLimit=function(n){this.miterLimit_=n},t.prototype.setWidth=function(n){this.width_=n},t}(),MT=GH,Fo=function(){function t(n){var e=n||{};this.geometry_=null,this.geometryFunction_=OT,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var n=this.getGeometry();return n&&"object"==typeof n&&(n=n.clone()),new t({geometry:n,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(n){this.renderer_=n},t.prototype.setHitDetectionRenderer=function(n){this.hitDetectionRenderer_=n},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(n){this.fill_=n},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(n){this.image_=n},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(n){this.stroke_=n},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(n){this.text_=n},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(n){"function"==typeof n?this.geometryFunction_=n:"string"==typeof n?this.geometryFunction_=function(e){return e.get(n)}:n?void 0!==n&&(this.geometryFunction_=function(){return n}):this.geometryFunction_=OT,this.geometry_=n},t.prototype.setZIndex=function(n){this.zIndex_=n},t}(),jp=null;function zH(t,n){if(!jp){var e=new RT({color:"rgba(255,255,255,0.4)"}),r=new MT({color:"#3399CC",width:1.25});jp=[new Fo({image:new UH({fill:e,stroke:r,radius:5}),fill:e,stroke:r})]}return jp}function OT(t){return t.getGeometry()}var WH=Fo,YH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),XH=function(t){function n(e){var r=this,i=e||{},a=wt({},i);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(r=t.call(this,a)||this).declutter_=void 0!==i.declutter&&i.declutter,r.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,r.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,r}return YH(n,t),n.prototype.getDeclutter=function(){return this.declutter_},n.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},n.prototype.getRenderBuffer=function(){return this.renderBuffer_},n.prototype.getRenderOrder=function(){return this.get("renderOrder")},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},n.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},n.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new ST(9)),this.getRenderer().renderDeclutter(e)},n.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},n.prototype.setStyle=function(e){this.style_=void 0!==e?e:zH,this.styleFunction_=null===e?void 0:function VH(t){var n,e;"function"==typeof t?n=t:(Array.isArray(t)?e=t:(Ie("function"==typeof t.getZIndex,41),e=[t]),n=function(){return e});return n}(this.style_),this.changed()},n}(Pc),qH=XH,_u={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},$c=[_u.FILL],Ci=[_u.STROKE],pa=[_u.BEGIN_PATH],bT=[_u.CLOSE_PATH],oe=_u,ZH=function(){function t(){}return t.prototype.drawCustom=function(n,e,r,i){},t.prototype.drawGeometry=function(n){},t.prototype.setStyle=function(n){},t.prototype.drawCircle=function(n,e){},t.prototype.drawFeature=function(n,e){},t.prototype.drawGeometryCollection=function(n,e){},t.prototype.drawLineString=function(n,e){},t.prototype.drawMultiLineString=function(n,e){},t.prototype.drawMultiPoint=function(n,e){},t.prototype.drawMultiPolygon=function(n,e){},t.prototype.drawPoint=function(n,e){},t.prototype.drawPolygon=function(n,e){},t.prototype.drawText=function(n,e){},t.prototype.setFillStrokeStyle=function(n,e){},t.prototype.setImageStyle=function(n,e){},t.prototype.setTextStyle=function(n,e){},t}(),PT=ZH,KH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),JH=function(t){function n(e,r,i,a){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=r,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return KH(n,t),n.prototype.applyPixelRatio=function(e){var r=this.pixelRatio;return 1==r?e:e.map(function(i){return i*r})},n.prototype.appendFlatPointCoordinates=function(e,r){for(var i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates,s=o.length,u=0,l=e.length;u<l;u+=r)a[0]=e[u],a[1]=e[u+1],ru(i,a)&&(o[s++]=a[0],o[s++]=a[1]);return s},n.prototype.appendFlatLineCoordinates=function(e,r,i,a,o,s){var u=this.coordinates,l=u.length,c=this.getBufferedMaxExtent();s&&(r+=a);var p,_,m,f=e[r],h=e[r+1],d=this.tmpCoordinate_,v=!0;for(p=r+a;p<i;p+=a)d[0]=e[p],d[1]=e[p+1],(m=ep(c,d))!==_?(v&&(u[l++]=f,u[l++]=h,v=!1),u[l++]=d[0],u[l++]=d[1]):1===m?(u[l++]=d[0],u[l++]=d[1],v=!1):v=!0,f=d[0],h=d[1],_=m;return(o&&v||p===r+a)&&(u[l++]=f,u[l++]=h),l},n.prototype.drawCustomCoordinates_=function(e,r,i,a,o){for(var s=0,u=i.length;s<u;++s){var l=i[s],c=this.appendFlatLineCoordinates(e,r,l,a,!1,!1);o.push(c),r=l}return r},n.prototype.drawCustom=function(e,r,i,a){this.beginGeometry(e,r);var l,c,f,h,d,o=e.getType(),s=e.getStride(),u=this.coordinates.length;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),h=[];var v=e.getEndss();d=0;for(var p=0,_=v.length;p<_;++p){var m=[];d=this.drawCustomCoordinates_(l,d,v[p],s,m),h.push(m)}this.instructions.push([oe.CUSTOM,u,h,e,i,uT]),this.hitDetectionInstructions.push([oe.CUSTOM,u,h,e,a||i,uT]);break;case"Polygon":case"MultiLineString":f=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,f),this.instructions.push([oe.CUSTOM,u,f,e,i,Zc]),this.hitDetectionInstructions.push([oe.CUSTOM,u,f,e,a||i,Zc]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([oe.CUSTOM,u,c,e,i,Lo]),this.hitDetectionInstructions.push([oe.CUSTOM,u,c,e,a||i,Lo]);break;case"MultiPoint":l=e.getFlatCoordinates(),(c=this.appendFlatPointCoordinates(l,s))>u&&(this.instructions.push([oe.CUSTOM,u,c,e,i,Lo]),this.hitDetectionInstructions.push([oe.CUSTOM,u,c,e,a||i,Lo]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),this.instructions.push([oe.CUSTOM,u,c=this.coordinates.length,e,i]),this.hitDetectionInstructions.push([oe.CUSTOM,u,c,e,a||i])}this.endGeometry(r)},n.prototype.beginGeometry=function(e,r){this.beginGeometryInstruction1_=[oe.BEGIN_GEOMETRY,r,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[oe.BEGIN_GEOMETRY,r,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},n.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},n.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var r,a,o,i=e.length,s=-1;for(r=0;r<i;++r)(o=(a=e[r])[0])==oe.END_GEOMETRY?s=r:o==oe.BEGIN_GEOMETRY&&(a[2]=r,V2(this.hitDetectionInstructions,s,r),s=-1)},n.prototype.setFillStrokeStyle=function(e,r){var i=this.state;if(e){var a=e.getColor();i.fillStyle=Er(a||Vr)}else i.fillStyle=void 0;if(r){var o=r.getColor();i.strokeStyle=Er(o||cu);var s=r.getLineCap();i.lineCap=void 0!==s?s:Nc;var u=r.getLineDash();i.lineDash=u?u.slice():su;var l=r.getLineDashOffset();i.lineDashOffset=l||0;var c=r.getLineJoin();i.lineJoin=void 0!==c?c:Ro;var f=r.getWidth();i.lineWidth=void 0!==f?f:1;var h=r.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},n.prototype.createFill=function(e){var r=e.fillStyle,i=[oe.SET_FILL_STYLE,r];return"string"!=typeof r&&i.push(!0),i},n.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},n.prototype.createStroke=function(e){return[oe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},n.prototype.updateFillStyle=function(e,r){var i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(r.call(this,e)),e.currentFillStyle=i)},n.prototype.updateStrokeStyle=function(e,r){var i=e.strokeStyle,a=e.lineCap,o=e.lineDash,s=e.lineDashOffset,u=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!na(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=u||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==i&&r.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=u,e.currentLineWidth=l,e.currentMiterLimit=c)},n.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[oe.END_GEOMETRY,e];this.instructions.push(r),this.hitDetectionInstructions.push(r)},n.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=nw(this.maxExtent),this.maxLineWidth>0)&&$v(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},n}(PT),mu=JH,QH=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$H=function(t){function n(e,r,i,a){var o=t.call(this,e,r,i,a)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return QH(n,t),n.prototype.drawPoint=function(e,r){if(this.image_){this.beginGeometry(e,r);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([oe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([oe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.drawMultiPoint=function(e,r){if(this.image_){this.beginGeometry(e,r);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([oe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([oe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},n.prototype.setImageStyle=function(e,r){var i=e.getAnchor(),a=e.getSize(),o=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),u=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=s,this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=u[0]*this.imagePixelRatio_,this.originY_=u[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=r},n}(mu),eG=$H,tG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nG=function(t){function n(e,r,i,a){return t.call(this,e,r,i,a)||this}return tG(n,t),n.prototype.drawFlatCoordinates_=function(e,r,i,a){var o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,r,i,a,!1,!1),u=[oe.MOVE_TO_LINE_TO,o,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i},n.prototype.drawLineString=function(e,r){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,r),this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,su,0],pa);var s=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(Ci),this.endGeometry(r)}},n.prototype.drawMultiLineString=function(e,r){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,r),this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],pa);for(var s=e.getEnds(),u=e.getFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinates_(u,c,s[f],l);this.hitDetectionInstructions.push(Ci),this.endGeometry(r)}},n.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Ci),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},n.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ci),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(pa)},n}(mu),rG=nG,iG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aG=function(t){function n(e,r,i,a){return t.call(this,e,r,i,a)||this}return iG(n,t),n.prototype.drawFlatCoordinatess_=function(e,r,i,a){var o=this.state,s=void 0!==o.fillStyle,u=void 0!==o.strokeStyle,l=i.length;this.instructions.push(pa),this.hitDetectionInstructions.push(pa);for(var c=0;c<l;++c){var f=i[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,r,f,a,!0,!u),v=[oe.MOVE_TO_LINE_TO,h,d];this.instructions.push(v),this.hitDetectionInstructions.push(v),u&&(this.instructions.push(bT),this.hitDetectionInstructions.push(bT)),r=f}return s&&(this.instructions.push($c),this.hitDetectionInstructions.push($c)),u&&(this.instructions.push(Ci),this.hitDetectionInstructions.push(Ci)),r},n.prototype.drawCircle=function(e,r){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,r),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([oe.SET_FILL_STYLE,Vr]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getFlatCoordinates(),u=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,u,!1,!1);var c=[oe.CIRCLE,l];this.instructions.push(pa,c),this.hitDetectionInstructions.push(pa,c),void 0!==i.fillStyle&&(this.instructions.push($c),this.hitDetectionInstructions.push($c)),void 0!==i.strokeStyle&&(this.instructions.push(Ci),this.hitDetectionInstructions.push(Ci)),this.endGeometry(r)}},n.prototype.drawPolygon=function(e,r){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,r),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([oe.SET_FILL_STYLE,Vr]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getEnds(),u=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(r)}},n.prototype.drawMultiPolygon=function(e,r){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,r),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([oe.SET_FILL_STYLE,Vr]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=e.getEndss(),u=e.getOrientedFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinatess_(u,c,s[f],l);this.endGeometry(r)}},n.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var r=this.coordinates,i=0,a=r.length;i<a;++i)r[i]=ha(r[i],e);return t.prototype.finish.call(this)},n.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},n}(mu),xT=aG;function sG(t,n,e,r,i){var f,h,d,v,p,_,m,g,E,a=e,o=e,s=0,u=0,l=e;for(f=e;f<r;f+=i){var T=n[f],R=n[f+1];void 0!==v&&(g=T-v,E=R-p,d=Math.sqrt(g*g+E*E),void 0!==_&&(u+=h,Math.acos((_*g+m*E)/(h*d))>t&&(u>s&&(s=u,a=l,o=f),u=0,l=f-i)),h=d,_=g,m=E),v=T,p=R}return(u+=d)>s?[l,f]:[a,o]}var uG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ef={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},lG=function(t){function n(e,r,i,a){var o=t.call(this,e,r,i,a)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return uG(n,t),n.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},n.prototype.drawText=function(e,r){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var s=this.coordinates,u=s.length,l=e.getType(),c=null,f=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){var P=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),f=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||P.push(c[2]/this.resolution),f=3;break;case"MultiPolygon":var k=e.getFlatInteriorPoints();for(c=[],v=0,p=k.length;v<p;v+=3)o.overflow||P.push(k[v+2]/this.resolution),c.push(k[v],k[v+1]);if(0===c.length)return;f=2}if((x=this.appendFlatPointCoordinates(c,f))===u)return;if(P&&(x-u)/2!=c.length/f){var B=u/2;P=P.filter(function(W,L){var H=s[2*(B+L)]===c[L*f]&&s[2*(B+L)+1]===c[L*f+1];return H||--B,H})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,r);var C=o.padding;if(C!=ua&&(o.scale[0]<0||o.scale[1]<0)){var y=o.padding[0],S=o.padding[1],I=o.padding[2],O=o.padding[3];o.scale[0]<0&&(S=-S,O=-O),o.scale[1]<0&&(y=-y,I=-I),C=[y,S,I,O]}var M=this.pixelRatio;this.instructions.push([oe.DRAW_IMAGE,u,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,C==ua?ua:C.map(function(W){return W*M}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]);var F=1/M;this.hitDetectionInstructions.push([oe.DRAW_IMAGE,u,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[F,F],NaN,this.declutterImageWithText_,C,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]),this.endGeometry(r)}else{if(!Yt(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(c=e.getFlatCoordinates(),"LineString"==l)h=[c.length];else if("MultiLineString"==l)h=e.getEnds();else if("Polygon"==l)h=e.getEnds().slice(0,1);else if("MultiPolygon"==l){var d=e.getEndss();h=[];for(var v=0,p=d.length;v<p;++v)h.push(d[v][0])}this.beginGeometry(e,r);for(var _=o.textAlign,m=0,g=void 0,E=0,T=h.length;E<T;++E){if(null==_){var R=sG(o.maxAngle,c,m,h[E],f);m=R[0],g=R[1]}else g=h[E];for(v=m;v<g;v+=f)s.push(c[v],c[v+1]);var x;m=h[E],this.drawChars_(u,x=s.length),u=x}this.endGeometry(r)}}},n.prototype.saveTextStates_=function(){var e=this.textStrokeState_,r=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:r.font,textAlign:r.textAlign||fu,textBaseline:r.textBaseline||jc,scale:r.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},n.prototype.drawChars_=function(e,r){var i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,s=this.textKey_,u=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=ef[a.textBaseline],f=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([oe.DRAW_CHARS,e,r,c,a.overflow,u,a.maxAngle,l,f,o,d*l,h,s,1]),this.hitDetectionInstructions.push([oe.DRAW_CHARS,e,r,c,a.overflow,u,a.maxAngle,1,f,o,d,h,s,1/l])},n.prototype.setTextStyle=function(e,r){var i,a,o;if(e){var s=e.getFill();s?((a=this.textFillState_)||(this.textFillState_=a={}),a.fillStyle=Er(s.getColor()||Vr)):this.textFillState_=a=null;var u=e.getStroke();if(u){(o=this.textStrokeState_)||(this.textStrokeState_=o={});var l=u.getLineDash(),c=u.getLineDashOffset(),f=u.getWidth(),h=u.getMiterLimit();o.lineCap=u.getLineCap()||Nc,o.lineDash=l?l.slice():su,o.lineDashOffset=void 0===c?0:c,o.lineJoin=u.getLineJoin()||Ro,o.lineWidth=void 0===f?1:f,o.miterLimit=void 0===h?10:h,o.strokeStyle=Er(u.getColor()||cu)}else this.textStrokeState_=o=null;i=this.textState_;var d=e.getFont()||Ow;Zj(d);var v=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.textBaseline=e.getTextBaseline()||jc,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||ua,i.scale=void 0===v?[1,1]:v;var p=e.getOffsetX(),_=e.getOffsetY(),m=e.getRotateWithView(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===g?0:g,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Pe(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+Pe(a.fillStyle):""}else this.text_="";this.declutterImageWithText_=r},n}(mu),fG={Circle:xT,Default:mu,Image:eG,LineString:rG,Polygon:xT,Text:lG},hG=function(){function t(n,e,r,i){this.tolerance_=n,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return t.prototype.finish=function(){var n={};for(var e in this.buildersByZIndex_){n[e]=n[e]||{};var r=this.buildersByZIndex_[e];for(var i in r){var a=r[i].finish();n[e][i]=a}}return n},t.prototype.getBuilder=function(n,e){var r=void 0!==n?n.toString():"0",i=this.buildersByZIndex_[r];void 0===i&&(this.buildersByZIndex_[r]=i={});var a=i[e];return void 0===a&&(a=new(0,fG[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=a),a},t}(),kT=hG,dG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vG=function(t){function n(e){var r=t.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=e,r.declutterExecutorGroup=null,r}return dG(n,t),n.prototype.getFeatures=function(e){return Se()},n.prototype.getData=function(e){return null},n.prototype.prepareFrame=function(e){return Se()},n.prototype.renderFrame=function(e,r){return Se()},n.prototype.loadedTileCallback=function(e,r,i){e[r]||(e[r]={}),e[r][i.tileCoord.toString()]=i},n.prototype.createLoadedTileFinder=function(e,r,i){return function(a,o){var s=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(r,a,o,s)}.bind(this)},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,a,o){},n.prototype.getDataAtPixel=function(e,r,i){return null},n.prototype.getLayer=function(){return this.layer_},n.prototype.handleFontsChanged=function(){},n.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},n.prototype.loadImage=function(e){var r=e.getState();return 2!=r&&3!=r&&e.addEventListener("change",this.boundHandleImageChange_),0==r&&(e.load(),r=e.getState()),2==r},n.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&"ready"==e.getSourceState()&&e.changed()},n.prototype.disposeInternal=function(){delete this.layer_,t.prototype.disposeInternal.call(this)},n}(pw),pG=vG,gG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eu=null,_G=function(t){function n(e){var r=t.call(this,e)||this;return r.container=null,r.tempTransform=[1,0,0,1,0,0],r.pixelTransform=[1,0,0,1,0,0],r.inversePixelTransform=[1,0,0,1,0,0],r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return gG(n,t),n.prototype.getImageData=function(e,r,i){var a;Eu||function yG(){var t=document.createElement("canvas");t.width=1,t.height=1,Eu=t.getContext("2d")}(),Eu.clearRect(0,0,1,1);try{Eu.drawImage(e,r,i,1,1,0,0,1,1),a=Eu.getImageData(0,0,1,1).data}catch(o){return null}return a},n.prototype.getBackground=function(e){var i=this.getLayer().getBackground();return"function"==typeof i&&(i=i(e.viewState.resolution)),i||void 0},n.prototype.useContainer=function(e,r,i,a){var s,u,o=this.getLayer().getClassName();if(e&&e.className===o&&""===e.style.opacity&&1===i&&(!a||e.style.backgroundColor&&na(Rc(e.style.backgroundColor),Rc(a)))&&(l=e.firstElementChild)instanceof HTMLCanvasElement&&(u=l.getContext("2d")),u&&u.canvas.style.transform===r?(this.container=e,this.context=u,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(s=document.createElement("div")).className=o;var l,c=s.style;c.position="absolute",c.width="100%",c.height="100%",a&&(c.backgroundColor=a),u=bn(),s.appendChild(l=u.canvas),(c=l.style).position="absolute",c.left="0",c.transformOrigin="top left",this.container=s,this.context=u}},n.prototype.clipUnrotated=function(e,r,i){var a=aa(i),o=wc(i),s=Dc(i),u=Cc(i);dt(r.coordinateToPixelTransform,a),dt(r.coordinateToPixelTransform,o),dt(r.coordinateToPixelTransform,s),dt(r.coordinateToPixelTransform,u);var l=this.inversePixelTransform;dt(l,a),dt(l,o),dt(l,s),dt(l,u),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()},n.prototype.dispatchRenderEvent_=function(e,r,i){var a=this.getLayer();if(a.hasListener(e)){var o=new Dw(e,this.inversePixelTransform,i,r);a.dispatchEvent(o)}},n.prototype.preRender=function(e,r){this.frameState=r,this.dispatchRenderEvent_("prerender",e,r)},n.prototype.postRender=function(e,r){this.dispatchRenderEvent_("postrender",e,r)},n.prototype.getRenderTransform=function(e,r,i,a,o,s,u){var f=a/r;return mr(this.tempTransform,o/2,s/2,f,-f,-i,-e[0]+u,-e[1])},n.prototype.getDataAtPixel=function(e,r,i){var a=dt(this.inversePixelTransform,e.slice()),o=this.context,u=this.getLayer().getExtent();if(u&&!ru(u,dt(r.pixelToCoordinateTransform,e.slice())))return null;var v,c=Math.round(a[0]),f=Math.round(a[1]),h=this.pixelContext_;if(!h){var d=document.createElement("canvas");d.width=1,d.height=1,h=d.getContext("2d"),this.pixelContext_=h}h.clearRect(0,0,1,1);try{h.drawImage(o.canvas,c,f,1,1,0,0,1,1),v=h.getImageData(0,0,1,1).data}catch(p){return"SecurityError"===p.name?(this.pixelContext_=null,new Uint8Array):v}return 0===v[3]?null:v},n.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},n}(pG),LT=_G;function mG(t,n,e,r,i,a,o,s,u,l,c,f){var h=t[n],d=t[n+1],v=0,p=0,_=0,m=0;function g(){v=h,p=d,h=t[n+=r],d=t[n+1],m+=_,_=Math.sqrt((h-v)*(h-v)+(d-p)*(d-p))}do{g()}while(n<e-r&&m+_<a);for(var E=0===_?0:(a-m)/_,T=oa(v,h,E),R=oa(p,d,E),x=n-r,P=m,k=a+s*u(l,i,c);n<e-r&&m+_<k;)g();var y,B=oa(v,h,E=0===_?0:(k-m)/_),C=oa(p,d,E);if(f){var S=[T,R,B,C];wp(S,0,4,2,f,S,S),y=S[0]>S[2]}else y=T>B;var F,I=Math.PI,O=[],M=x+r===n;if(_=0,m=P,h=t[n=x],d=t[n+1],M)return g(),F=Math.atan2(d-p,h-v),y&&(F+=F>0?-I:I),O[0]=[U=(B+T)/2,W=(C+R)/2,(k-a)/2,F,i],O;for(var L=0,H=i.length;L<H;){g();var $=Math.atan2(d-p,h-v);if(y&&($+=$>0?-I:I),void 0!==F){var j=$-F;if(j+=j>I?-2*I:j<-I?2*I:0,Math.abs(j)>o)return null}F=$;for(var xe=L,ee=0;L<H;++L){var qt=s*u(l,i[y?H-L-1:L],c);if(n+r<e&&m+_<a+ee+qt/2)break;ee+=qt}if(L!==xe){var _n=y?i.substring(H-xe,H-L):i.substring(xe,L),U=oa(v,h,E=0===_?0:(a+ee/2-m)/_),W=oa(p,d,E);O.push([U,W,ee/2,$,_n]),a+=ee}}return O}function FT(t,n,e,r){for(var i=t[n],a=t[n+1],o=0,s=n+r;s<e;s+=r){var u=t[s],l=t[s+1];o+=Math.sqrt((u-i)*(u-i)+(l-a)*(l-a)),i=u,a=l}return o}var No=[1/0,1/0,-1/0,-1/0],Di=[],Xr=[],qr=[],wi=[];function NT(t){return t[3].declutterBox}var EG=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function jT(t,n){return("start"===n||"end"===n)&&!EG.test(t)&&(n="start"===n?"left":"right"),ef[n]}function CG(t,n,e){return e>0&&t.push("\n",""),t.push(n,""),t}var DG=function(){function t(n,e,r,i){this.overlaps=r,this.pixelRatio=e,this.resolution=n,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(n,e,r,i){var a=n+e+r+i;if(this.labels_[a])return this.labels_[a];var o=i?this.strokeStates[i]:null,s=r?this.fillStates[r]:null,u=this.textStates[e],l=this.pixelRatio,c=[u.scale[0]*l,u.scale[1]*l],f=Array.isArray(n),h=jT(f?n[0]:n,u.textAlign||fu),d=i&&o.lineWidth?o.lineWidth:0,v=f?n:n.split("\n").reduce(CG,[]),p=function Jj(t,n){for(var e=[],r=[],i=[],a=0,o=0,s=0,u=0,l=0,c=n.length;l<=c;l+=2){var f=n[l];if("\n"!==f&&l!==c){var h=n[l+1]||t.font,d=Bc(h,f);e.push(d),o+=d;var v=Kj(h);r.push(v),u=Math.max(u,v)}else a=Math.max(a,o),i.push(o),o=0,s+=u}return{width:a,height:s,widths:e,heights:r,lineWidths:i}}(u,v),g=p.widths,E=p.heights,T=p.lineWidths,R=p.width+d,x=[],P=(R+2)*c[0],k=(p.height+d)*c[1],B={width:P<0?Math.floor(P):Math.ceil(P),height:k<0?Math.floor(k):Math.ceil(k),contextInstructions:x};(1!=c[0]||1!=c[1])&&x.push("scale",c),i&&(x.push("strokeStyle",o.strokeStyle),x.push("lineWidth",d),x.push("lineCap",o.lineCap),x.push("lineJoin",o.lineJoin),x.push("miterLimit",o.miterLimit),(_c?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(x.push("setLineDash",[o.lineDash]),x.push("lineDashOffset",o.lineDashOffset))),r&&x.push("fillStyle",s.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");for(var L,y=.5-h,S=h*R+y*d,I=[],O=[],M=0,F=0,U=0,W=0,H=0,$=v.length;H<$;H+=2){var j=v[H];if("\n"!==j){var xe=v[H+1]||u.font;xe!==L&&(i&&I.push("font",xe),r&&O.push("font",xe),L=xe),M=Math.max(M,E[U]);var ee=[j,S+y*g[U]+h*(g[U]-T[W]),.5*(d+M)+F];S+=g[U],i&&I.push("strokeText",ee),r&&O.push("fillText",ee),++U}else F+=M,M=0,S=h*R+y*d,++W}return Array.prototype.push.apply(x,I),Array.prototype.push.apply(x,O),this.labels_[a]=B,B},t.prototype.replayTextBackground_=function(n,e,r,i,a,o,s){n.beginPath(),n.moveTo.apply(n,e),n.lineTo.apply(n,r),n.lineTo.apply(n,i),n.lineTo.apply(n,a),n.lineTo.apply(n,e),o&&(this.alignFill_=o[2],this.fill_(n)),s&&(this.setStrokeStyle_(n,s),n.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(n,e,r,i,a,o,s,u,l,c,f,h,d,v,p,_){var B,m=r-(s*=h[0]),g=i-(u*=h[1]),E=a+l>n?n-l:a,T=o+c>e?e-c:o,R=v[3]+E*h[0]+v[1],x=v[0]+T*h[1]+v[2],P=m-v[3],k=g-v[0];return(p||0!==f)&&(Di[0]=P,wi[0]=P,Di[1]=k,Xr[1]=k,Xr[0]=P+R,qr[0]=Xr[0],qr[1]=k+x,wi[1]=qr[1]),0!==f?(dt(B=mr([1,0,0,1,0,0],r,i,1,1,f,-r,-i),Di),dt(B,Xr),dt(B,qr),dt(B,wi),Jn(Math.min(Di[0],Xr[0],qr[0],wi[0]),Math.min(Di[1],Xr[1],qr[1],wi[1]),Math.max(Di[0],Xr[0],qr[0],wi[0]),Math.max(Di[1],Xr[1],qr[1],wi[1]),No)):Jn(Math.min(P,P+R),Math.min(k,k+x),Math.max(P,P+R),Math.max(k,k+x),No),d&&(m=Math.round(m),g=Math.round(g)),{drawImageX:m,drawImageY:g,drawImageW:E,drawImageH:T,originX:l,originY:c,declutterBox:{minX:No[0],minY:No[1],maxX:No[2],maxY:No[3],value:_},canvasTransform:B,scale:h}},t.prototype.replayImageOrLabel_=function(n,e,r,i,a,o,s){var l=i.declutterBox,c=n.canvas,f=s?s[2]*i.scale[0]/2:0;return l.minX-f<=c.width/e&&l.maxX+f>=0&&l.minY-f<=c.height/e&&l.maxY+f>=0&&(!(!o&&!s)&&this.replayTextBackground_(n,Di,Xr,qr,wi,o,s),function Qj(t,n,e,r,i,a,o,s,u,l,c){t.save(),1!==e&&(t.globalAlpha*=e),n&&t.setTransform.apply(t,n),r.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function $j(t,n){for(var e=t.contextInstructions,r=0,i=e.length;r<i;r+=2)Array.isArray(e[r+1])?n[e[r]].apply(n,e[r+1]):n[e[r]]=e[r+1]}(r,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(r,i,a,o,s,0,0,o,s)):t.drawImage(r,i,a,o,s,u,l,o*c[0],s*c[1]),t.restore()}(n,i.canvasTransform,a,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(n){if(this.alignFill_){var e=dt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;n.save(),n.translate(e[0]%r,e[1]%r),n.rotate(this.viewRotation_)}n.fill(),this.alignFill_&&n.restore()},t.prototype.setStrokeStyle_=function(n,e){n.strokeStyle=e[1],n.lineWidth=e[2],n.lineCap=e[3],n.lineJoin=e[4],n.miterLimit=e[5],n.setLineDash&&(n.lineDashOffset=e[7],n.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(n,e,r,i){var a=this.textStates[e],o=this.createLabel(n,e,i,r),s=this.strokeStates[r],u=this.pixelRatio,l=jT(Array.isArray(n)?n[0]:n,a.textAlign||fu),c=ef[a.textBaseline||jc],f=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/u-2*a.scale[0])+2*(.5-l)*f,anchorY:c*o.height/u+2*(.5-c)*f}},t.prototype.execute_=function(n,e,r,i,a,o,s,u){var l;this.pixelCoordinates_&&na(r,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=fa(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),function ej(t,n){t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5]}(this.renderedTransform_,r));for(var d,v,p,_,m,g,E,T,R,x,P,k,W,L,H,$,c=0,f=i.length,h=0,B=0,C=0,y=null,S=null,I=this.coordinateCache_,O=this.viewRotation_,M=Math.round(1e12*Math.atan2(-r[1],r[0]))/1e12,F={context:n,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},U=this.instructions!=i||this.overlaps?0:200;c<f;){var j=i[c];switch(j[0]){case oe.BEGIN_GEOMETRY:$=j[3],(W=j[1]).getGeometry()?void 0===s||Yt(s,$.getExtent())?++c:c=j[2]+1:c=j[2];break;case oe.BEGIN_PATH:B>U&&(this.fill_(n),B=0),C>U&&(n.stroke(),C=0),!B&&!C&&(n.beginPath(),_=NaN,m=NaN),++c;break;case oe.CIRCLE:var ee=l[h=j[1]],_e=l[h+1],nn=l[h+2]-ee,mn=l[h+3]-_e,Ho=Math.sqrt(nn*nn+mn*mn);n.moveTo(ee+Ho,_e),n.arc(ee,_e,Ho,0,2*Math.PI,!0),++c;break;case oe.CLOSE_PATH:n.closePath(),++c;break;case oe.CUSTOM:h=j[1],d=j[2];var nf=j[4],rf=6==j.length?j[5]:void 0;F.geometry=j[3],F.feature=W,c in I||(I[c]=[]);var Ri=I[c];rf?rf(l,h,d,2,Ri):(Ri[0]=l[h],Ri[1]=l[h+1],Ri.length=2),nf(Ri,F),++c;break;case oe.DRAW_IMAGE:h=j[1],d=j[2],v=j[4],p=j[5];var Go=j[6],af=j[7],Tu=j[8],of=j[9],ga=j[10],Su=j[11],sf=j[12],Vo=j[13],Mi=j[14];if(!(T=j[3])&&j.length>=19){var zo=this.drawLabelWithPointPlacement_(R=j[18],x=j[19],P=j[20],k=j[21]);j[3]=T=zo.label,j[4]=v=(zo.anchorX-j[22])*this.pixelRatio,j[5]=p=(zo.anchorY-j[23])*this.pixelRatio,j[6]=Go=T.height,j[13]=Vo=T.width}var Iu=void 0;j.length>24&&(Iu=j[24]);var Kr=void 0,wr=void 0,ya=void 0;j.length>16?(Kr=j[15],wr=j[16],ya=j[17]):(Kr=ua,wr=!1,ya=!1),ga&&M?Su+=O:!ga&&!M&&(Su-=O);for(var Ru=0;h<d;h+=2)if(!(Iu&&Iu[Ru++]<Vo/this.pixelRatio)){var lf=[n,e,T,rn=this.calculateImageOrLabelDimensions_(T.width,T.height,l[h],l[h+1],Vo,Go,v,p,Tu,of,Su,sf,a,Kr,wr||ya,W),af,wr?y:null,ya?S:null],Ot=void 0,Wo=void 0;if(u&&Mi){var _a=d-h;if(!Mi[_a]){Mi[_a]=lf;continue}if(Ot=Mi[_a],delete Mi[_a],Wo=NT(Ot),u.collides(Wo))continue}u&&u.collides(rn.declutterBox)||(Ot&&(u&&u.insert(Wo),this.replayImageOrLabel_.apply(this,Ot)),u&&u.insert(rn.declutterBox),this.replayImageOrLabel_.apply(this,lf))}++c;break;case oe.DRAW_CHARS:var IS=j[1],RS=j[2],ng=j[3],Y3=j[4];k=j[5];var X3=j[6],MS=j[7],OS=j[8];P=j[9];var rg=j[10];R=j[11];var AS=[j[13],j[13]],ig=this.textStates[x=j[12]],Mu=ig.font,Ou=[ig.scale[0]*MS,ig.scale[1]*MS],Au=void 0;Mu in this.widths_?Au=this.widths_[Mu]:this.widths_[Mu]=Au={};var bS=FT(l,IS,RS,2),PS=Math.abs(Ou[0])*bw(Mu,R,Au);if(Y3||PS<=bS){var bu=mG(l,IS,RS,2,R,(bS-PS)*ef[this.textStates[x].textAlign],X3,Math.abs(Ou[0]),bw,Mu,Au,M?0:this.viewRotation_);e:if(bu){var Pu=[],Oi=void 0,cf=void 0,an=void 0,Ln=void 0;if(P)for(Oi=0,cf=bu.length;Oi<cf;++Oi){an=this.createLabel((Ln=bu[Oi])[4],x,"",P);var rn=this.calculateImageOrLabelDimensions_(an.width,an.height,Ln[0],Ln[1],an.width,an.height,v=Ln[2]+(Ou[0]<0?-rg:rg),p=ng*an.height+2*(.5-ng)*rg*Ou[1]/Ou[0]-OS,0,0,Ln[3],AS,!1,ua,!1,W);if(u&&u.collides(rn.declutterBox))break e;Pu.push([n,e,an,rn,1,null,null])}if(k)for(Oi=0,cf=bu.length;Oi<cf;++Oi){if(an=this.createLabel((Ln=bu[Oi])[4],x,k,""),rn=this.calculateImageOrLabelDimensions_(an.width,an.height,Ln[0],Ln[1],an.width,an.height,v=Ln[2],p=ng*an.height-OS,0,0,Ln[3],AS,!1,ua,!1,W),u&&u.collides(rn.declutterBox))break e;Pu.push([n,e,an,rn,1,null,null])}u&&u.load(Pu.map(NT));for(var ag=0,K3=Pu.length;ag<K3;++ag)this.replayImageOrLabel_.apply(this,Pu[ag])}}++c;break;case oe.END_GEOMETRY:if(void 0!==o){var xS=o(W=j[1],$);if(xS)return xS}++c;break;case oe.FILL:U?B++:this.fill_(n),++c;break;case oe.MOVE_TO_LINE_TO:for(d=j[2],E=(H=l[(h=j[1])+1])+.5|0,((g=(L=l[h])+.5|0)!==_||E!==m)&&(n.moveTo(L,H),_=g,m=E),h+=2;h<d;h+=2)g=(L=l[h])+.5|0,E=(H=l[h+1])+.5|0,(h==d-2||g!==_||E!==m)&&(n.lineTo(L,H),_=g,m=E);++c;break;case oe.SET_FILL_STYLE:y=j,this.alignFill_=j[2],B&&(this.fill_(n),B=0,C&&(n.stroke(),C=0)),n.fillStyle=j[1],++c;break;case oe.SET_STROKE_STYLE:S=j,C&&(n.stroke(),C=0),this.setStrokeStyle_(n,j),++c;break;case oe.STROKE:U?C++:n.stroke(),++c;break;default:++c}}B&&this.fill_(n),C&&n.stroke()},t.prototype.execute=function(n,e,r,i,a,o){this.viewRotation_=i,this.execute_(n,e,r,this.instructions,a,void 0,void 0,o)},t.prototype.executeHitDetection=function(n,e,r,i,a){return this.viewRotation_=r,this.execute_(n,1,e,this.hitDetectionInstructions,!0,i,a)},t}(),wG=DG,Bp=["Polygon","Circle","LineString","Image","Text","Default"],TG=function(){function t(n,e,r,i,a,o){this.maxExtent_=n,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(a)}return t.prototype.clip=function(n,e){var r=this.getClipCoords(e);n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[2],r[3]),n.lineTo(r[4],r[5]),n.lineTo(r[6],r[7]),n.clip()},t.prototype.createExecutors_=function(n){for(var e in n){var r=this.executorsByZIndex_[e];void 0===r&&(this.executorsByZIndex_[e]=r={});var i=n[e];for(var a in i)r[a]=new wG(this.resolution_,this.pixelRatio_,this.overlaps_,i[a])}},t.prototype.hasExecutors=function(n){for(var e in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[e],i=0,a=n.length;i<a;++i)if(n[i]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(n,e,r,i,a,o){var s=2*(i=Math.round(i))+1,u=mr(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-r,-n[0],-n[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=bn(s,s));var f,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(Eo(f=[1/0,1/0,-1/0,-1/0],n),$v(f,e*(this.renderBuffer_+i),f));var d,h=function SG(t){if(void 0!==Up[t])return Up[t];for(var n=2*t+1,e=t*t,r=new Array(e+1),i=0;i<=t;++i)for(var a=0;a<=t;++a){var o=i*i+a*a;if(o>e)break;var s=r[o];s||(r[o]=s=[]),s.push(4*((t+i)*n+(t+a))+3),i>0&&s.push(4*((t-i)*n+(t+a))+3),a>0&&(s.push(4*((t+i)*n+(t-a))+3),i>0&&s.push(4*((t-i)*n+(t-a))+3))}for(var u=[],l=(i=0,r.length);i<l;++i)r[i]&&u.push.apply(u,r[i]);return Up[t]=u,u}(i);function v(x,P){for(var k=c.getImageData(0,0,s,s).data,B=0,C=h.length;B<C;B++)if(k[h[B]]>0){if(!o||"Image"!==d&&"Text"!==d||-1!==o.indexOf(x)){var y=(h[B]-3)/4,S=i-y%s,I=i-(y/s|0),O=a(x,P,S*S+I*I);if(O)return O}c.clearRect(0,0,s,s);break}}var _,m,g,E,T,p=Object.keys(this.executorsByZIndex_).map(Number);for(p.sort(ta),_=p.length-1;_>=0;--_){var R=p[_].toString();for(g=this.executorsByZIndex_[R],m=Bp.length-1;m>=0;--m)if(void 0!==(E=g[d=Bp[m]])&&(T=E.executeHitDetection(c,u,r,v,f)))return T}},t.prototype.getClipCoords=function(n){var e=this.maxExtent_;if(!e)return null;var r=e[0],i=e[1],a=e[2],o=e[3],s=[r,i,r,o,a,o,a,i];return fa(s,0,8,2,n,s),s},t.prototype.isEmpty=function(){return ou(this.executorsByZIndex_)},t.prototype.execute=function(n,e,r,i,a,o,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(ta),this.maxExtent_&&(n.save(),this.clip(n,r));var c,f,h,d,v,p,l=o||Bp;for(s&&u.reverse(),c=0,f=u.length;c<f;++c){var _=u[c].toString();for(v=this.executorsByZIndex_[_],h=0,d=l.length;h<d;++h)void 0!==(p=v[l[h]])&&p.execute(n,e,r,i,a,s)}this.maxExtent_&&n.restore()},t}(),Up={},BT=TG,IG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),RG=function(t){function n(e,r,i,a,o,s,u){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=r,l.extent_=i,l.transform_=a,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=u,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return IG(n,t),n.prototype.drawImages_=function(e,r,i,a){if(this.image_){var o=fa(e,r,i,a,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var f=0,h=o.length;f<h;f+=2){var d=o[f]-this.imageAnchorX_,v=o[f+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=d+this.imageAnchorX_,_=v+this.imageAnchorY_;mr(u,p,_,1,1,c,-p,-_),s.setTransform.apply(s,u),s.translate(p,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,v,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},n.prototype.drawText_=function(e,r,i,a){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=fa(e,r,i,a,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);r<i;r+=a){var l=o[r]+this.textOffsetX_,c=o[r+1]+this.textOffsetY_;if(0!==u||1!=this.textScale_[0]||1!=this.textScale_[1]){var f=mr(this.tmpLocalTransform_,l,c,1,1,u,-l,-c);s.setTransform.apply(s,f),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},n.prototype.moveToLineTo_=function(e,r,i,a,o){var s=this.context_,u=fa(e,r,i,a,this.transform_,this.pixelCoordinates_);s.moveTo(u[0],u[1]);var l=u.length;o&&(l-=2);for(var c=2;c<l;c+=2)s.lineTo(u[c],u[c+1]);return o&&s.closePath(),i},n.prototype.drawRings_=function(e,r,i,a){for(var o=0,s=i.length;o<s;++o)r=this.moveToLineTo_(e,r,i[o],a,!0);return r},n.prototype.drawCircle=function(e){if(Yt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=function eU(t,n,e){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return fa(r,0,r.length,i,n,e)}return null}(e,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],a=r[3]-r[1],o=Math.sqrt(i*i+a*a),s=this.context_;s.beginPath(),s.arc(r[0],r[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},n.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},n.prototype.setTransform=function(e){this.transform_=e},n.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},n.prototype.drawFeature=function(e,r){var i=r.getGeometryFunction()(e);!i||!Yt(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},n.prototype.drawGeometryCollection=function(e){for(var r=e.getGeometriesArray(),i=0,a=r.length;i<a;++i)this.drawGeometry(r[i])},n.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(r,0,r.length,i),""!==this.text_&&this.drawText_(r,0,r.length,i)},n.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(r,0,r.length,i),""!==this.text_&&this.drawText_(r,0,r.length,i)},n.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Yt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),r.stroke()}if(""!==this.text_){var a=e.getFlatMidpoint();this.drawText_(a,0,2,2)}}},n.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getExtent();if(Yt(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,a=e.getFlatCoordinates(),o=0,s=e.getEnds(),u=e.getStride();i.beginPath();for(var l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(a,o,s[l],u,!1);i.stroke()}if(""!==this.text_){var f=e.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},n.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Yt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},n.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Yt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getOrientedFlatCoordinates(),a=0,o=e.getEndss(),s=e.getStride();r.beginPath();for(var u=0,l=o.length;u<l;++u)a=this.drawRings_(i,a,o[u],s);this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var f=e.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},n.prototype.setContextFillState_=function(e){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,r.fillStyle=e.fillStyle):(r.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},n.prototype.setContextStrokeState_=function(e){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,r.lineCap=e.lineCap),r.setLineDash&&(na(i.lineDash,e.lineDash)||r.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,r.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,r.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,r.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,r.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,r.strokeStyle=e.strokeStyle)):(r.lineCap=e.lineCap,r.setLineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.lineWidth=e.lineWidth,r.miterLimit=e.miterLimit,r.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},n.prototype.setContextTextState_=function(e){var r=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:fu;i?(i.font!=e.font&&(i.font=e.font,r.font=e.font),i.textAlign!=a&&(i.textAlign=a,r.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,r.textBaseline=e.textBaseline)):(r.font=e.font,r.textAlign=a,r.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})},n.prototype.setFillStrokeStyle=function(e,r){var i=this;if(e){var a=e.getColor();this.fillState_={fillStyle:Er(a||Vr)}}else this.fillState_=null;if(r){var o=r.getColor(),s=r.getLineCap(),u=r.getLineDash(),l=r.getLineDashOffset(),c=r.getLineJoin(),f=r.getWidth(),h=r.getMiterLimit(),d=u||su;this.strokeState_={lineCap:void 0!==s?s:Nc,lineDash:1===this.pixelRatio_?d:d.map(function(v){return v*i.pixelRatio_}),lineDashOffset:(l||0)*this.pixelRatio_,lineJoin:void 0!==c?c:Ro,lineWidth:(void 0!==f?f:1)*this.pixelRatio_,miterLimit:void 0!==h?h:10,strokeStyle:Er(o||cu)}}else this.strokeState_=null},n.prototype.setImageStyle=function(e){var r;if(e&&(r=e.getSize())){var i=e.getAnchor(),a=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_}else this.image_=null},n.prototype.setTextStyle=function(e){if(e){var r=e.getFill();if(r){var i=r.getColor();this.textFillState_={fillStyle:Er(i||Vr)}}else this.textFillState_=null;var a=e.getStroke();if(a){var o=a.getColor(),s=a.getLineCap(),u=a.getLineDash(),l=a.getLineDashOffset(),c=a.getLineJoin(),f=a.getWidth(),h=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:Nc,lineDash:u||su,lineDashOffset:l||0,lineJoin:void 0!==c?c:Ro,lineWidth:void 0!==f?f:1,miterLimit:void 0!==h?h:10,strokeStyle:Er(o||cu)}}else this.textStrokeState_=null;var d=e.getFont(),v=e.getOffsetX(),p=e.getOffsetY(),_=e.getRotateWithView(),m=e.getRotation(),g=e.getScaleArray(),E=e.getText(),T=e.getTextAlign(),R=e.getTextBaseline();this.textState_={font:void 0!==d?d:Ow,textAlign:void 0!==T?T:fu,textBaseline:void 0!==R?R:jc},this.text_=void 0!==E?Array.isArray(E)?E.reduce(function(x,P,k){return x+(k%2?" ":P)},""):E:"",this.textOffsetX_=void 0!==v?this.pixelRatio_*v:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0!==m?m:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},n}(PT),MG=RG,OG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AG=function(t){function n(e,r,i,a){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=r,o.state=a,o}return OG(n,t),n.prototype.changed=function(){this.dispatchEvent("change")},n.prototype.getExtent=function(){return this.extent},n.prototype.getImage=function(){return Se()},n.prototype.getPixelRatio=function(){return this.pixelRatio_},n.prototype.getResolution=function(){return this.resolution},n.prototype.getState=function(){return this.state},n.prototype.load=function(){Se()},n}(Io),bG=AG,PG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function Hp(t,n,e){var r=t,i=!0,a=!1,o=!1,s=[Oc(r,"load",function(){o=!0,a||n()})];return r.src&&J2?(a=!0,r.decode().then(function(){i&&n()}).catch(function(u){i&&(o?n():e())})):s.push(Oc(r,"error",e)),function(){i=!1,s.forEach(qe)}}!function(t){function n(e,r,i,a,o,s){var u=t.call(this,e,r,i,0)||this;return u.src_=a,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.state=0,u.imageLoadFunction_=s,u}PG(n,t),n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=An(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},n.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Hp(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.setImage=function(e){this.image_=e,this.resolution=An(this.extent)/this.image_.height},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(bG);var xG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cu=null,kG=function(t){function n(e,r,i,a,o,s){var u=t.call(this)||this;return u.hitDetectionImage_=null,u.image_=e||new Image,null!==a&&(u.image_.crossOrigin=a),u.canvas_={},u.color_=s,u.unlisten_=null,u.imageState_=o,u.size_=i,u.src_=r,u}return xG(n,t),n.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){Cu||(Cu=bn(1,1)),Cu.drawImage(this.image_,0,0);try{Cu.getImageData(0,0,1,1),this.tainted_=!1}catch(e){Cu=null,this.tainted_=!0}}return!0===this.tainted_},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},n.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},n.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],i=bn(e,r);i.fillRect(0,0,e,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Hp(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},n.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]&&2===this.imageState_){var r=document.createElement("canvas");this.canvas_[e]=r,r.width=Math.ceil(this.image_.width*e),r.height=Math.ceil(this.image_.height*e);var i=r.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=lw(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var a=i.getImageData(0,0,r.width,r.height),o=a.data,s=this.color_[0]/255,u=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],f=0,h=o.length;f<h;f+=4)o[f]*=s,o[f+1]*=u,o[f+2]*=l,o[f+3]*=c;i.putImageData(a,0,0)}}},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(Io),FG=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),NG=function(t){function n(e){var r=this,i=e||{};(r=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",r.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",r.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",r.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null;r.imgSize_=i.imgSize;var c=i.src;Ie(!(void 0!==c&&l),4),Ie(!l||l&&r.imgSize_,5),(void 0===c||0===c.length)&&l&&(c=l.src||Pe(l)),Ie(void 0!==c&&c.length>0,6);var f=void 0!==i.src?0:2;return r.color_=void 0!==i.color?Rc(i.color):null,r.iconImage_=function LG(t,n,e,r,i,a){var o=Mc.get(n,r,a);return o||(o=new kG(t,n,e,r,i,a),Mc.set(n,r,a,o)),o}(l,c,void 0!==r.imgSize_?r.imgSize_:null,r.crossOrigin_,f,r.color_),r.offset_=void 0!==i.offset?i.offset:[0,0],r.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",r.origin_=null,r.size_=void 0!==i.size?i.size:null,r}return FG(n,t),n.prototype.clone=function(){var e=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},n.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var r=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!r)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=r[0]),"fraction"==this.anchorYUnits_&&(e[1]*=r[1])}if("top-left"!=this.anchorOrigin_){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+r[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}var i=this.getDisplacement();return[e[0]-i[0],e[1]+i[1]]},n.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},n.prototype.getColor=function(){return this.color_},n.prototype.getImage=function(e){return this.iconImage_.getImage(e)},n.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},n.prototype.getImageSize=function(){return this.iconImage_.getSize()},n.prototype.getImageState=function(){return this.iconImage_.getImageState()},n.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},n.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if("top-left"!=this.offsetOrigin_){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=i[0]-r[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=i[1]-r[1]-e[1])}return this.origin_=e,this.origin_},n.prototype.getSrc=function(){return this.iconImage_.getSrc()},n.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},n.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},n.prototype.load=function(){this.iconImage_.load()},n.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},n}(IT),jG=NG,Cr=.5,UT={Point:function KG(t,n,e,r,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawPoint(n,r)}if(o&&o.getText()){var l=t.getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(n,r)}},LineString:function XG(t,n,e,r,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(n,r)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(n,r)}},Polygon:function QG(t,n,e,r,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(n,r)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(n,r)}},MultiPoint:function JG(t,n,e,r,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawMultiPoint(n,r)}if(o&&o.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(n,r)}},MultiLineString:function qG(t,n,e,r,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(n,r)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(n,r)}},MultiPolygon:function ZG(t,n,e,r,i){var a=e.getFill(),o=e.getStroke();if(o||a){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(n,r)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(n,r)}},GeometryCollection:function YG(t,n,e,r,i){var o,s,a=n.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,UT[a[o].getType()])(t,a[o],e,r,i)},Circle:function zG(t,n,e,r,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(n,r)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(n,r)}}};function GG(t,n){return parseInt(Pe(t),10)-parseInt(Pe(n),10)}function Gp(t,n){return.5*t/n}function HT(t,n,e,r,i,a,o){var s=!1,u=e.getImage();if(u){var l=u.getImageState();2==l||3==l?u.unlistenImageChange(i):(0==l&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function WG(t,n,e,r,i,a){var o=e.getGeometryFunction()(n);if(o){var s=o.simplifyTransformed(r,i);e.getRenderer()?GT(t,s,e,n):(0,UT[s.getType()])(t,s,e,n,a)}}(t,n,e,r,a,o),s}function GT(t,n,e,r){if("GeometryCollection"!=n.getType())t.getBuilder(e.getZIndex(),"Default").drawCustom(n,r,e.getRenderer(),e.getHitDetectionRenderer());else for(var i=n.getGeometries(),a=0,o=i.length;a<o;++a)GT(t,i[a],e,r)}var zp,$G=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eV=function(t){function n(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=[1/0,1/0,-1/0,-1/0],r.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return $G(n,t),n.prototype.renderWorlds=function(e,r,i){var a=r.extent,o=r.viewState,s=o.center,u=o.resolution,l=o.projection,c=o.rotation,f=l.getExtent(),h=this.getLayer().getSource(),d=r.pixelRatio,v=r.viewHints,p=!(v[0]||v[1]),_=this.context,m=Math.round(r.size[0]*d),g=Math.round(r.size[1]*d),E=h.getWrapX()&&l.canWrapX(),T=E?et(f):null,R=E?Math.ceil((a[2]-f[2])/T)+1:1,x=E?Math.floor((a[0]-f[0])/T):0;do{var P=this.getRenderTransform(s,u,c,d,m,g,x*T);e.execute(_,1,P,c,p,void 0,i)}while(++x<R)},n.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},n.prototype.renderFrame=function(e,r){var i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];(function tj(t,n,e){(function tu(t,n,e,r,i,a,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t})(t,n,0,0,e,0,0)})(this.pixelTransform,1/i,1/i),mc(this.inversePixelTransform,this.pixelTransform);var o=Qv(this.pixelTransform);this.useContainer(r,o,a.opacity,this.getBackground(e));var s=this.context,u=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return null;var f=Math.round(e.size[0]*i),h=Math.round(e.size[1]*i);u.width!=f||u.height!=h?(u.width=f,u.height=h,u.style.transform!==o&&(u.style.transform=o)):this.containerReused||s.clearRect(0,0,f,h),this.preRender(s,e);var d=e.viewState,p=!1,_=!0;if(a.extent&&this.clipping){var m=ca(a.extent);(p=(_=Yt(m,e.extent))&&!ia(m,e.extent))&&this.clipUnrotated(s,e,m)}_&&this.renderWorlds(l,e),p&&s.restore(),this.postRender(s,e);var g=Iw(a.opacity),E=this.container;return g!==E.style.opacity&&(E.style.opacity=g),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},n.prototype.getFeatures=function(e){return new Promise(function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];dt(this.pixelTransform,i);var a=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),f=[],h=i[0]*Cr,d=i[1]*Cr;f.push(this.getRenderTransform(a,o,s,Cr,h,d,0).slice());var v=c.getSource(),p=u.getExtent();if(v.getWrapX()&&u.canWrapX()&&!ia(p,l)){for(var _=l[0],m=et(p),g=0;_<p[0];)--g,f.push(this.getRenderTransform(a,o,s,Cr,h,d,m*g).slice()),_+=m;for(g=0,_=l[2];_>p[2];)++g,f.push(this.getRenderTransform(a,o,s,Cr,h,d,m*g).slice()),_-=m}this.hitDetectionImageData_=function BG(t,n,e,r,i,a,o){var l=bn(t[0]*Cr,t[1]*Cr);l.imageSmoothingEnabled=!1;for(var c=l.canvas,f=new MG(l,Cr,i,null,o),h=e.length,d=Math.floor(16777215/h),v={},p=1;p<=h;++p){var _=e[p-1],m=_.getStyleFunction()||r;if(r){var g=m(_,a);if(g){Array.isArray(g)||(g=[g]);for(var T="#"+("000000"+(p*d).toString(16)).slice(-6),R=0,x=g.length;R<x;++R){var P=g[R],k=P.getGeometryFunction()(_);if(k&&Yt(i,k.getExtent())){var B=P.clone(),C=B.getFill();C&&C.setColor(T);var y=B.getStroke();y&&(y.setColor(T),y.setLineDash(null)),B.setText(void 0);var S=P.getImage();if(S&&0!==S.getOpacity()){var I=S.getImageSize();if(!I)continue;var O=bn(I[0],I[1],void 0,{alpha:!1}),M=O.canvas;O.fillStyle=T,O.fillRect(0,0,M.width,M.height),B.setImage(new jG({img:M,imgSize:I,anchor:S.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var F=B.getZIndex()||0;(U=v[F])||(v[F]=U={},U.Polygon=[],U.Circle=[],U.LineString=[],U.Point=[]),U[k.getType().replace("Multi","")].push(k,B)}}}}}for(var W=Object.keys(v).map(Number).sort(ta),L=(p=0,W.length);p<L;++p){var U=v[W[p]];for(var H in U){var $=U[H];for(R=0,x=$.length;R<x;R+=2){f.setStyle($[R+1]);for(var j=0,xe=n.length;j<xe;++j)f.setTransform(n[j]),f.drawGeometry($[R])}}}return l.getImageData(0,0,c.width,c.height)}(i,f,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}r(function UG(t,n,e){var r=[];if(e){var i=Math.floor(Math.round(t[0])*Cr),a=Math.floor(Math.round(t[1])*Cr),o=4*(vt(i,0,e.width-1)+vt(a,0,e.height-1)*e.width),c=e.data[o+2]+256*(e.data[o+1]+256*e.data[o]),f=Math.floor(16777215/n.length);c&&c%f==0&&r.push(n[c/f-1])}return r}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,a,o){var s=this;if(this.replayGroup_){var d,u=r.viewState.resolution,l=r.viewState.rotation,c=this.getLayer(),f={},h=function(_,m,g){var E=Pe(_),T=f[E];if(T){if(!0!==T&&g<T.distanceSq){if(0===g)return f[E]=!0,o.splice(o.lastIndexOf(T),1),a(_,c,m);T.geometry=m,T.distanceSq=g}}else{if(0===g)return f[E]=!0,a(_,c,m);o.push(f[E]={feature:_,layer:c,geometry:m,distanceSq:g,callback:a})}},v=[this.replayGroup_];return this.declutterExecutorGroup&&v.push(this.declutterExecutorGroup),v.some(function(p){return d=p.forEachFeatureAtCoordinate(e,u,l,i,h,p===s.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(_){return _.value}):null)}),d}},n.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},n.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},n.prototype.prepareFrame=function(e){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var a=e.viewHints[0],o=e.viewHints[1],s=r.getUpdateWhileAnimating(),u=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!u&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,c=e.viewState,f=c.projection,h=c.resolution,d=e.pixelRatio,v=r.getRevision(),p=r.getRenderBuffer(),_=r.getRenderOrder();void 0===_&&(_=GG);var m=c.center.slice(),g=$v(l,p*h),E=g.slice(),T=[g.slice()],R=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!ia(R,e.extent)){var x=et(R),P=Math.max(et(g)/2,x);g[0]=R[0]-P,g[2]=R[2]+P,Cw(m,f);var k=function dj(t,n){var e=n.getExtent(),r=Co(t);if(n.canWrapX()&&(r[0]<e[0]||r[0]>=e[2])){var i=et(e),o=Math.floor((r[0]-e[0])/i)*i;t[0]-=o,t[2]-=o}return t}(T[0],f);k[0]<R[0]&&k[2]<R[2]?T.push([k[0]+x,k[1],k[2]+x,k[3]]):k[0]>R[0]&&k[2]>R[2]&&T.push([k[0]-x,k[1],k[2]-x,k[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==v&&this.renderedRenderOrder_==_&&ia(this.wrappedRenderedExtent_,g))return na(this.renderedExtent_,E)||(this.hitDetectionImageData_=null,this.renderedExtent_=E),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C,B=new kT(Gp(h,d),g,h,d);this.getLayer().getDeclutter()&&(C=new kT(Gp(h,d),g,h,d));var S,y=Ww();if(y){for(var I=0,O=T.length;I<O;++I){var F=_p(T[I]);i.loadFeatures(F,BB(h),y)}S=vu(y,f)}else for(I=0,O=T.length;I<O;++I)i.loadFeatures(T[I],h,f);var U=function VG(t,n){var e=Gp(t,n);return e*e}(h,d),W=function(xe){var ee,_e=xe.getStyleFunction()||r.getStyleFunction();if(_e&&(ee=_e(xe,h)),ee){var qt=this.renderFeature(xe,U,ee,B,S,C);this.dirty_=this.dirty_||qt}}.bind(this),L=_p(g),H=i.getFeaturesInExtent(L);for(_&&H.sort(_),I=0,O=H.length;I<O;++I)W(H[I]);this.renderedFeatures_=H;var $=B.finish(),j=new BT(g,h,d,i.getOverlaps(),$,r.getRenderBuffer());return C&&(this.declutterExecutorGroup=new BT(g,h,d,i.getOverlaps(),C.finish(),r.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=v,this.renderedRenderOrder_=_,this.renderedExtent_=E,this.wrappedRenderedExtent_=g,this.renderedCenter_=m,this.renderedProjection_=f,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},n.prototype.renderFeature=function(e,r,i,a,o,s){if(!i)return!1;var u=!1;if(Array.isArray(i))for(var l=0,c=i.length;l<c;++l)u=HT(a,e,i[l],r,this.boundHandleStyleImageChange_,o,s)||u;else u=HT(a,e,i,r,this.boundHandleStyleImageChange_,o,s);return u},n}(LT),tV=eV,nV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rV=function(t){function n(e){return t.call(this,e)||this}return nV(n,t),n.prototype.createRenderer=function(){return new tV(this)},n}(qH),iV=rV,aV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oV=function(t){function n(e,r,i){var a=t.call(this)||this,o=i||{};return a.tileCoord=e,a.state=r,a.interimTile=null,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a.interpolate=!!o.interpolate,a}return aV(n,t),n.prototype.changed=function(){this.dispatchEvent("change")},n.prototype.release=function(){},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,r=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?r=e:0==e.getState()?r.interimTile=e.interimTile:r=e,e=r.interimTile}while(e)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},n.prototype.load=function(){Se()},n.prototype.getAlpha=function(e,r){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else this.transitionStarts_[e]=i=r;var a=r-i+1e3/60;return a>=this.transition_?1:Zw(a/this.transition_)},n.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},n.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},n}(Io),VT=oV,sV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uV=function(t){function n(e,r,i,a,o,s){var u=t.call(this,e,r,s)||this;return u.crossOrigin_=a,u.src_=i,u.key=i,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.tileLoadFunction_=o,u}return sV(n,t),n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()},n.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function lV(){var t=bn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},n.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},n.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Hp(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(VT),zT=uV,hV=function(){function t(n,e,r,i,a,o){this.sourceProj_=n,this.targetProj_=e;var s={},u=pu(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var T=E[0]+"/"+E[1];return s[T]||(s[T]=u(E)),s[T]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&et(i)==et(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?et(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?et(this.targetProj_.getExtent()):null;var l=aa(r),c=wc(r),f=Dc(r),h=Cc(r),d=this.transformInv_(l),v=this.transformInv_(c),p=this.transformInv_(f),_=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(pj(Ec(r)/(o*o*256*256)))):0);if(this.addQuad_(l,c,f,h,d,v,p,_,m),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(E,T,R){g=Math.min(g,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-g>this.sourceWorldWidth_/2){var T=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];T[0][0]-g>this.sourceWorldWidth_/2&&(T[0][0]-=this.sourceWorldWidth_),T[1][0]-g>this.sourceWorldWidth_/2&&(T[1][0]-=this.sourceWorldWidth_),T[2][0]-g>this.sourceWorldWidth_/2&&(T[2][0]-=this.sourceWorldWidth_);var R=Math.min(T[0][0],T[1][0],T[2][0]);Math.max(T[0][0],T[1][0],T[2][0])-R<this.sourceWorldWidth_/2&&(E.source=T)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(n,e,r,i,a,o){this.triangles_.push({source:[i,a,o],target:[n,e,r]})},t.prototype.addQuad_=function(n,e,r,i,a,o,s,u,l){var c=tw([a,o,s,u]),f=this.sourceWorldWidth_?et(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,v=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(v=et(tw([n,e,r,i]))/this.targetWorldWidth_>.25||v),!d&&this.sourceProj_.isGlobal()&&f&&(v=f>.25||v)),!(!v&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||Yt(c,this.maxSourceExtent_)){var m=0;if(!(v||isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)v=!0;else if(1!=(m=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=m&&4!=m&&8!=m)return;if(l>0){if(!v){var E=this.transformInv_([(n[0]+r[0])/2,(n[1]+r[1])/2]),T=void 0;T=d?(To(a[0],h)+To(s[0],h))/2-To(E[0],h):(a[0]+s[0])/2-E[0];var x=(a[1]+s[1])/2-E[1];v=T*T+x*x>this.errorThresholdSquared_}if(v){if(Math.abs(n[0]-r[0])<=Math.abs(n[1]-r[1])){var k=[(e[0]+r[0])/2,(e[1]+r[1])/2],B=this.transformInv_(k),C=[(i[0]+n[0])/2,(i[1]+n[1])/2],y=this.transformInv_(C);this.addQuad_(n,e,k,C,a,o,B,y,l-1),this.addQuad_(C,k,r,i,y,B,s,u,l-1)}else{var S=[(n[0]+e[0])/2,(n[1]+e[1])/2],I=this.transformInv_(S),O=[(r[0]+i[0])/2,(r[1]+i[1])/2],M=this.transformInv_(O);this.addQuad_(n,S,O,i,a,I,M,u,l-1),this.addQuad_(S,e,r,O,I,o,s,M,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&m)&&this.addTriangle_(n,r,i,a,s,u),0==(14&m)&&this.addTriangle_(n,r,e,a,s,o),m&&(0==(13&m)&&this.addTriangle_(e,i,n,o,u,a),0==(7&m)&&this.addTriangle_(e,i,r,o,u,s))}},t.prototype.calculateSourceExtent=function(){var n=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,r,i){var a=e.source;Eo(n,a[0]),Eo(n,a[1]),Eo(n,a[2])}),n},t.prototype.getTriangles=function(){return this.triangles_},t}(),dV=hV,Vp={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},vV={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0};function YT(t,n,e,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(n,e),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(n,r)+1,Math.max(e,i)),t.restore()}function Wp(t,n){return Math.abs(t[4*n]-210)>2||Math.abs(t[4*n+3]-191.25)>2}function XT(t,n,e,r){var i=xo(e,n,t),a=Hw(n,r,e),o=n.getMetersPerUnit();void 0!==o&&(a*=o);var s=t.getMetersPerUnit();void 0!==s&&(a/=s);var u=t.getExtent();if(!u||ru(u,i)){var l=Hw(t,a,i)/a;isFinite(l)&&l>0&&(a/=l)}return a}var _V=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mV=function(t){function n(e,r,i,a,o,s,u,l,c,f,h,d){var v=t.call(this,o,0,{interpolate:!!d})||this;v.renderEdges_=void 0!==h&&h,v.pixelRatio_=u,v.gutter_=l,v.canvas_=null,v.sourceTileGrid_=r,v.targetTileGrid_=a,v.wrappedTileCoord_=s||o,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var p=a.getTileCoordExtent(v.wrappedTileCoord_),_=v.targetTileGrid_.getExtent(),m=v.sourceTileGrid_.getExtent(),g=_?Do(p,_):p;if(0===Ec(g))return v.state=4,v;var E=e.getExtent();E&&(m=m?Do(m,E):E);var T=a.getResolution(v.wrappedTileCoord_[0]),R=function gV(t,n,e,r){var i=Co(e),a=XT(t,n,i,r);return(!isFinite(a)||a<=0)&&tp(e,function(o){return a=XT(t,n,o,r),isFinite(a)&&a>0}),a}(e,i,g,T);if(!isFinite(R)||R<=0)return v.state=4,v;if(v.triangulation_=new dV(e,i,g,m,R*(void 0!==f?f:.5),T),0===v.triangulation_.getTriangles().length)return v.state=4,v;v.sourceZ_=r.getZForResolution(R);var P=v.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(P[1]=vt(P[1],m[1],m[3]),P[3]=vt(P[3],m[1],m[3])):P=Do(P,m)),Ec(P)){for(var k=r.getTileRangeForExtentAndZ(P,v.sourceZ_),B=k.minX;B<=k.maxX;B++)for(var C=k.minY;C<=k.maxY;C++){var y=c(v.sourceZ_,B,C,u);y&&v.sourceTiles_.push(y)}0===v.sourceTiles_.length&&(v.state=4)}else v.state=4;return v}return _V(n,t),n.prototype.getImage=function(){return this.canvas_},n.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,f,h){c&&2==c.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),a="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(r),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function yV(t,n,e,r,i,a,o,s,u,l,c,f){var h=bn(Math.round(e*t),Math.round(e*n));if(f||wt(h,Vp),0===u.length)return h.canvas;function d(T){return Math.round(T*e)/e}h.scale(e,e),h.globalCompositeOperation="lighter";var v=[1/0,1/0,-1/0,-1/0];u.forEach(function(T,R,x){!function oj(t,n){n[0]<t[0]&&(t[0]=n[0]),n[2]>t[2]&&(t[2]=n[2]),n[1]<t[1]&&(t[1]=n[1]),n[3]>t[3]&&(t[3]=n[3])}(v,T.extent)});var p=et(v),_=An(v),m=bn(Math.round(e*p/r),Math.round(e*_/r));f||wt(m,Vp);var g=e/r;u.forEach(function(T,R,x){var P=T.extent[0]-v[0],k=-(T.extent[3]-v[3]),B=et(T.extent),C=An(T.extent);T.image.width>0&&T.image.height>0&&m.drawImage(T.image,l,l,T.image.width-2*l,T.image.height-2*l,P*g,k*g,B*g,C*g)});var E=aa(o);return s.getTriangles().forEach(function(T,R,x){var P=T.source,k=T.target,B=P[0][0],C=P[0][1],y=P[1][0],S=P[1][1],I=P[2][0],O=P[2][1],M=d((k[0][0]-E[0])/a),F=d(-(k[0][1]-E[1])/a),U=d((k[1][0]-E[0])/a),W=d(-(k[1][1]-E[1])/a),L=d((k[2][0]-E[0])/a),H=d(-(k[2][1]-E[1])/a),$=B,j=C;B=0,C=0;var ee=function yj(t){for(var n=t.length,e=0;e<n;e++){for(var r=e,i=Math.abs(t[e][e]),a=e+1;a<n;a++){var o=Math.abs(t[a][e]);o>i&&(i=o,r=a)}if(0===i)return null;var s=t[r];t[r]=t[e],t[e]=s;for(var u=e+1;u<n;u++)for(var l=-t[u][e]/t[e][e],c=e;c<n+1;c++)e==c?t[u][c]=0:t[u][c]+=l*t[e][c]}for(var f=new Array(n),h=n-1;h>=0;h--){f[h]=t[h][n]/t[h][h];for(var d=h-1;d>=0;d--)t[d][n]-=t[d][h]*f[h]}return f}([[y-=$,S-=j,0,0,U-M],[I-=$,O-=j,0,0,L-M],[0,0,y,S,W-F],[0,0,I,O,H-F]]);if(ee){if(h.save(),h.beginPath(),function pV(){if(void 0===zp){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",YT(t,4,5,4,0),YT(t,4,5,0,5);var n=t.getImageData(0,0,3,3).data;zp=Wp(n,0)||Wp(n,4)||Wp(n,8)}return zp}()||!f){h.moveTo(U,W);for(var qt=M-U,_n=F-W,nn=0;nn<4;nn++)h.lineTo(U+d((nn+1)*qt/4),W+d(nn*_n/3)),3!=nn&&h.lineTo(U+d((nn+1)*qt/4),W+d((nn+1)*_n/3));h.lineTo(L,H)}else h.moveTo(U,W),h.lineTo(M,F),h.lineTo(L,H);h.clip(),h.transform(ee[0],ee[2],ee[1],ee[3],M,F),h.translate(v[0]-$,v[3]-j),h.scale(r/e,-r/e),h.drawImage(m.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(T,R,x){var P=T.target,k=(P[0][0]-E[0])/a,B=-(P[0][1]-E[1])/a,C=(P[1][0]-E[0])/a,y=-(P[1][1]-E[1])/a,S=(P[2][0]-E[0])/a,I=-(P[2][1]-E[1])/a;h.beginPath(),h.moveTo(C,y),h.lineTo(k,B),h.lineTo(S,I),h.closePath(),h.stroke()}),h.restore()),h.canvas}(a,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()},n.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,i,a){var o=r.getState();if(0==o||1==o){e++;var s=Me(r,"change",function(u){var l=r.getState();(2==l||3==l||4==l)&&(qe(s),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,a){0==r.getState()&&r.load()})}},n.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(qe),this.sourcesListenerKeys_=null},n}(VT),qT=mV,EV=function(){function t(n){this.highWaterMark=void 0!==n?n:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(n){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)},t.prototype.forEach=function(n){for(var e=this.oldest_;e;)n(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(n,e){var r=this.entries_[n];return Ie(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},t.prototype.remove=function(n){var e=this.entries_[n];return Ie(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[n],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var r,n=new Array(this.count_),e=0;for(r=this.newest_;r;r=r.older)n[e++]=r.key_;return n},t.prototype.getValues=function(){var r,n=new Array(this.count_),e=0;for(r=this.newest_;r;r=r.older)n[e++]=r.value_;return n},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var n=this.oldest_;return delete this.entries_[n.key_],n.newer&&(n.newer.older=null),this.oldest_=n.newer,this.oldest_||(this.newest_=null),--this.count_,n.value_},t.prototype.replace=function(n,e){this.get(n),this.entries_[n].value_=e},t.prototype.set=function(n,e){Ie(!(n in this.entries_),16);var r={key_:n,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[n]=r,++this.count_},t.prototype.setSize=function(n){this.highWaterMark=n},t}(),CV=EV;function ZT(t,n,e,r){return void 0!==r?(r[0]=t,r[1]=n,r[2]=e,r):[t,n,e]}function Du(t,n,e){return t+"/"+n+"/"+e}function KT(t){return Du(t[0],t[1],t[2])}var SV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),IV=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return SV(n,t),n.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},n.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var r=function DV(t){return t.split("/").map(Number)}(this.peekFirstKey()),i=r[0];this.forEach(function(a){a.tileCoord[0]!==i&&(this.remove(KT(a.tileCoord)),a.release())}.bind(this))}},n}(CV),JT=IV,RV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MV=function(t){function n(e){var r=t.call(this)||this;r.projection=Nt(e.projection),r.attributions_=QT(e.attributions),r.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,r.loading=!1,r.state_=void 0!==e.state?e.state:"ready",r.wrapX_=void 0!==e.wrapX&&e.wrapX,r.interpolate_=!!e.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(a,o){i.viewResolver=a,i.viewRejector=o}),r}return RV(n,t),n.prototype.getAttributions=function(){return this.attributions_},n.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},n.prototype.getProjection=function(){return this.projection},n.prototype.getResolutions=function(){return Se()},n.prototype.getView=function(){return this.viewPromise_},n.prototype.getState=function(){return this.state_},n.prototype.getWrapX=function(){return this.wrapX_},n.prototype.getInterpolate=function(){return this.interpolate_},n.prototype.refresh=function(){this.changed()},n.prototype.setAttributions=function(e){this.attributions_=QT(e),this.changed()},n.prototype.setState=function(e){this.state_=e,this.changed()},n}(Qn);function QT(t){return t?Array.isArray(t)?function(n){return t}:"function"==typeof t?t:function(n){return[t]}:null}var $T=MV,eS=function(){function t(n,e,r,i){this.minX=n,this.maxX=e,this.minY=r,this.maxY=i}return t.prototype.contains=function(n){return this.containsXY(n[1],n[2])},t.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY},t.prototype.containsXY=function(n,e){return this.minX<=n&&n<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY},t.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX),n.maxX>this.maxX&&(this.maxX=n.maxX),n.minY<this.minY&&(this.minY=n.minY),n.maxY>this.maxY&&(this.maxY=n.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY},t}();function jo(t,n,e,r,i){return void 0!==i?(i.minX=t,i.maxX=n,i.minY=e,i.maxY=r,i):new eS(t,n,e,r)}var tS=eS,OV=[0,0,0],AV=function(){function t(n){var e;if(this.minZoom=void 0!==n.minZoom?n.minZoom:0,this.resolutions_=n.resolutions,Ie(function z2(t,n,e){var r=n||ta;return t.every(function(i,a){if(0===a)return!0;var o=r(t[a-1],i);return!(o>0||e&&0===o)})}(this.resolutions_,function(o,s){return s-o},!0),17),!n.origins)for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(e){if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}else e=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==n.origin?n.origin:null,this.origins_=null,void 0!==n.origins&&(this.origins_=n.origins,Ie(this.origins_.length==this.resolutions_.length,20));var a=n.extent;void 0!==a&&!this.origin_&&!this.origins_&&(this.origin_=aa(a)),Ie(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==n.tileSizes&&(this.tileSizes_=n.tileSizes,Ie(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==n.tileSize?n.tileSize:this.tileSizes_?null:256,Ie(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==n.sizes?this.fullTileRanges_=n.sizes.map(function(o,s){var u=new tS(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(a){var l=this.getTileRangeForExtentAndZ(a,s);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(n,e,r){for(var i=this.getTileRangeForExtentAndZ(n,e),a=i.minX,o=i.maxX;a<=o;++a)for(var s=i.minY,u=i.maxY;s<=u;++s)r([e,a,s])},t.prototype.forEachTileCoordParentTileRange=function(n,e,r,i){var o,s,u=null,l=n[0]-1;for(2===this.zoomFactor_?(o=n[1],s=n[2]):u=this.getTileCoordExtent(n,i);l>=this.minZoom;){if(e(l,2===this.zoomFactor_?jo(o=Math.floor(o/2),o,s=Math.floor(s/2),s,r):this.getTileRangeForExtentAndZ(u,l,r)))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(n){return this.origin_?this.origin_:this.origins_[n]},t.prototype.getResolution=function(n){return this.resolutions_[n]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(n,e,r){if(n[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*n[1],a=2*n[2];return jo(i,i+1,a,a+1,e)}var o=this.getTileCoordExtent(n,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(n,e,r){if(e>this.maxZoom||e<this.minZoom)return null;var i=n[0],a=n[1],o=n[2];if(e===i)return jo(a,o,a,o,r);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,e-i),u=Math.floor(a*s),l=Math.floor(o*s);return e<i?jo(u,u,l,l,r):jo(u,Math.floor(s*(a+1))-1,l,Math.floor(s*(o+1))-1,r)}var h=this.getTileCoordExtent(n,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,r)},t.prototype.getTileRangeExtent=function(n,e,r){var i=this.getOrigin(n),a=this.getResolution(n),o=nr(this.getTileSize(n),this.tmpSize_);return Jn(i[0]+e.minX*o[0]*a,i[1]+e.minY*o[1]*a,i[0]+(e.maxX+1)*o[0]*a,i[1]+(e.maxY+1)*o[1]*a,r)},t.prototype.getTileRangeForExtentAndZ=function(n,e,r){var i=OV;this.getTileCoordForXYAndZ_(n[0],n[3],e,!1,i);var a=i[1],o=i[2];return this.getTileCoordForXYAndZ_(n[2],n[1],e,!0,i),jo(a,i[1],o,i[2],r)},t.prototype.getTileCoordCenter=function(n){var e=this.getOrigin(n[0]),r=this.getResolution(n[0]),i=nr(this.getTileSize(n[0]),this.tmpSize_);return[e[0]+(n[1]+.5)*i[0]*r,e[1]-(n[2]+.5)*i[1]*r]},t.prototype.getTileCoordExtent=function(n,e){var r=this.getOrigin(n[0]),i=this.getResolution(n[0]),a=nr(this.getTileSize(n[0]),this.tmpSize_),o=r[0]+n[1]*a[0]*i,s=r[1]-(n[2]+1)*a[1]*i;return Jn(o,s,o+a[0]*i,s+a[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(n,e,r){return this.getTileCoordForXYAndResolution_(n[0],n[1],e,!1,r)},t.prototype.getTileCoordForXYAndResolution_=function(n,e,r,i,a){var o=this.getZForResolution(r),s=r/this.getResolution(o),u=this.getOrigin(o),l=nr(this.getTileSize(o),this.tmpSize_),c=s*(n-u[0])/r/l[0],f=s*(u[1]-e)/r/l[1];return i?(c=Ic(c,5)-1,f=Ic(f,5)-1):(c=Sc(c,5),f=Sc(f,5)),ZT(o,c,f,a)},t.prototype.getTileCoordForXYAndZ_=function(n,e,r,i,a){var o=this.getOrigin(r),s=this.getResolution(r),u=nr(this.getTileSize(r),this.tmpSize_),l=(n-o[0])/s/u[0],c=(o[1]-e)/s/u[1];return i?(l=Ic(l,5)-1,c=Ic(c,5)-1):(l=Sc(l,5),c=Sc(c,5)),ZT(r,l,c,a)},t.prototype.getTileCoordForCoordAndZ=function(n,e,r){return this.getTileCoordForXYAndZ_(n[0],n[1],e,!1,r)},t.prototype.getTileCoordResolution=function(n){return this.resolutions_[n[0]]},t.prototype.getTileSize=function(n){return this.tileSize_?this.tileSize_:this.tileSizes_[n]},t.prototype.getFullTileRange=function(n){return this.fullTileRanges_?this.fullTileRanges_[n]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,n):null},t.prototype.getZForResolution=function(n,e){return vt(qv(this.resolutions_,n,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(n){for(var e=this.resolutions_.length,r=new Array(e),i=this.minZoom;i<e;++i)r[i]=this.getTileRangeForExtentAndZ(n,i);this.fullTileRanges_=r},t}(),nS=AV;function rS(t){var n=t.getDefaultTileGrid();return n||(n=function kV(t,n,e,r){return function PV(t,n,e,r){var i=void 0!==r?r:"top-left",a=iS(t,n,e);return new nS({extent:t,origin:lj(t,i),resolutions:a,tileSize:e})}(Xp(t),n,e,r)}(t),t.setDefaultTileGrid(n)),n}function iS(t,n,e,r){for(var i=void 0!==n?n:42,a=An(t),o=et(t),s=nr(void 0!==e?e:256),u=r>0?r:Math.max(o/s[0],a/s[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function Xp(t){var n=(t=Nt(t)).getExtent();if(!n){var e=180*xn[mi.DEGREES]/t.getMetersPerUnit();n=Jn(-e,-e,e,e)}return n}var aS=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LV=function(t){function n(e){var r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;return r.opaque_=void 0!==e.opaque&&e.opaque,r.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,r.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,r.tileGrid&&nr(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),[256,256]),r.tileCache=new JT(e.cacheSize||0),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition,interpolate:e.interpolate},r.zDirection=e.zDirection?e.zDirection:0,r}return aS(n,t),n.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},n.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e);i&&i.expireCache(r)},n.prototype.forEachLoadedTile=function(e,r,i,a){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var u,l,c,s=!0,f=i.minX;f<=i.maxX;++f)for(var h=i.minY;h<=i.maxY;++h)l=Du(r,f,h),c=!1,o.containsKey(l)&&(c=2===(u=o.get(l)).getState())&&(c=!1!==a(u)),c||(s=!1);return s},n.prototype.getGutterForProjection=function(e){return 0},n.prototype.getKey=function(){return this.key_},n.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},n.prototype.getOpaque=function(e){return this.opaque_},n.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},n.prototype.getTile=function(e,r,i,a,o){return Se()},n.prototype.getTileGrid=function(){return this.tileGrid},n.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:rS(e)},n.prototype.getTileCacheForProjection=function(e){return Ie(Po(this.getProjection(),e),68),this.tileCache},n.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},n.prototype.getTilePixelSize=function(e,r,i){var a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(r),s=nr(a.getTileSize(e),this.tmpSize);return 1==o?s:function DU(t,n,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*n+.5|0,e[1]=t[1]*n+.5|0,e}(s,o,this.tmpSize)},n.prototype.getTileCoordForTileUrlFunction=function(e,r){var i=void 0!==r?r:this.getProjection(),a=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=function bV(t,n,e){var r=n[0],i=t.getTileCoordCenter(n),a=Xp(e);if(ru(a,i))return n;var o=et(a),s=Math.ceil((a[0]-i[0])/o);return i[0]+=o*s,t.getTileCoordForCoordAndZ(i,r)}(a,e,i)),function TV(t,n){var e=t[0],r=t[1],i=t[2];if(n.getMinZoom()>e||e>n.getMaxZoom())return!1;var a=n.getFullTileRange(e);return!a||a.containsXY(r,i)}(e,a)?e:null},n.prototype.clear=function(){this.tileCache.clear()},n.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},n.prototype.updateCacheSize=function(e,r){var i=this.getTileCacheForProjection(r);e>i.highWaterMark&&(i.highWaterMark=e)},n.prototype.useTile=function(e,r,i,a){},n}($T),FV=function(t){function n(e,r){var i=t.call(this,e)||this;return i.tile=r,i}return aS(n,t),n}(Gr),NV=LV;function jV(t,n){var e=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(o,s,u){if(o)return t.replace(e,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(a,function(){var c=n.getFullTileRange(o[0]);return Ie(c,55),(c.getHeight()-o[2]-1).toString()})}}var GV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),VV=function(t){function n(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===n.prototype.tileUrlFunction,r.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(r.tileUrlFunction=e.tileUrlFunction),r.urls=null,e.urls?r.setUrls(e.urls):e.url&&r.setUrl(e.url),r.tileLoadingKeys_={},r}return GV(n,t),n.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},n.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},n.prototype.getUrls=function(){return this.urls},n.prototype.handleTileChange=function(e){var o,r=e.target,i=Pe(r),a=r.getState();1==a?(this.tileLoadingKeys_[i]=!0,o="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=3==a?"tileloaderror":2==a?"tileloadend":void 0),null!=o&&this.dispatchEvent(new FV(o,r))},n.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},n.prototype.setTileUrlFunction=function(e,r){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==r?this.setKey(r):this.changed()},n.prototype.setUrl=function(e){var r=function HV(t){var n=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var r=e[1].charCodeAt(0),i=e[2].charCodeAt(0),a=void 0;for(a=r;a<=i;++a)n.push(t.replace(e[0],String.fromCharCode(a)));return n}if(e=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(e[2],10),s=parseInt(e[1],10);s<=o;s++)n.push(t.replace(e[0],s.toString()));return n}return n.push(t),n}(e);this.urls=r,this.setUrls(r)},n.prototype.setUrls=function(e){this.urls=e;var r=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function BV(t,n){for(var e=t.length,r=new Array(e),i=0;i<e;++i)r[i]=jV(t[i],n);return function UV(t){return 1===t.length?t[0]:function(n,e,r){if(n){var i=function wV(t){return(t[1]<<t[0])+t[2]}(n),a=To(i,t.length);return t[a](n,e,r)}}}(r)}(e,this.tileGrid),r):this.setKey(r)},n.prototype.tileUrlFunction=function(e,r,i){},n.prototype.useTile=function(e,r,i){var a=Du(e,r,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)},n}(NV),zV=VV,WV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),YV=function(t){function n(e){var r=this,i=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(i=e.interpolate),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:XV,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:i,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,r.tileClass=void 0!==e.tileClass?e.tileClass:zT,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return WV(n,t),n.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},n.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e);for(var a in this.tileCache.expireCache(this.tileCache==i?r:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[a];o.expireCache(o==i?r:{})}},n.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!Po(this.getProjection(),e)?0:this.getGutter()},n.prototype.getGutter=function(){return 0},n.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},n.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Po(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},n.prototype.getTileGridForProjection=function(e){var r=this.getProjection();if(this.tileGrid&&(!r||Po(r,e)))return this.tileGrid;var i=Pe(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=rS(e)),this.tileGridForProjection[i]},n.prototype.getTileCacheForProjection=function(e){var r=this.getProjection();if(!r||Po(r,e))return this.tileCache;var i=Pe(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new JT(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},n.prototype.createTile_=function(e,r,i,a,o,s){var u=[e,r,i],l=this.getTileCoordForTileUrlFunction(u,o),c=l?this.tileUrlFunction(l,a,o):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener("change",this.handleTileChange.bind(this)),f},n.prototype.getTile=function(e,r,i,a,o){var s=this.getProjection();if(!s||!o||Po(s,o))return this.getTileInternal(e,r,i,a,s||o);var u=this.getTileCacheForProjection(o),l=[e,r,i],c=void 0,f=KT(l);u.containsKey(f)&&(c=u.get(f));var h=this.getKey();if(c&&c.key==h)return c;var d=this.getTileGridForProjection(s),v=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(l,o),_=new qT(s,d,o,v,l,p,this.getTilePixelRatio(a),this.getGutter(),function(m,g,E,T){return this.getTileInternal(m,g,E,T,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return _.key=h,c?(_.interimTile=c,_.refreshInterimChain(),u.replace(f,_)):u.set(f,_),_},n.prototype.getTileInternal=function(e,r,i,a,o){var s=null,u=Du(e,r,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((s=this.tileCache.get(u)).key!=l){var c=s;(s=this.createTile_(e,r,i,a,o,l)).interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(u,s)}}else s=this.createTile_(e,r,i,a,o,l),this.tileCache.set(u,s);return s},n.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var r in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},n.prototype.setTileGridForProjection=function(e,r){var i=Nt(e);if(i){var a=Pe(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=r)}},n}(zV);function XV(t,n){t.getImage().src=n}var qV=YV,ZV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KV=function(t){function n(e){var r=e||{},i=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(i=r.interpolate);var a=void 0!==r.projection?r.projection:"EPSG:3857",o=void 0!==r.tileGrid?r.tileGrid:function xV(t){var n=t||{},e=n.extent||Nt("EPSG:3857").getExtent(),r={extent:e,minZoom:n.minZoom,tileSize:n.tileSize,resolutions:iS(e,n.maxZoom,n.tileSize,n.maxResolution)};return new nS(r)}({extent:Xp(a),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:i,opaque:r.opaque,projection:a,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return ZV(n,t),n}(qV),JV=KV,QV=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),e3=function(t){function n(e){var r=e||{},i=void 0===r.imageSmoothing||r.imageSmoothing;return void 0!==r.interpolate&&(i=r.interpolate),t.call(this,{attributions:void 0!==r.attributions?r.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:void 0!==r.crossOrigin?r.crossOrigin:"anonymous",interpolate:i,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:r.wrapX,zDirection:r.zDirection})||this}return QV(n,t),n}(JV),t3=e3,n3=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),r3=function(t){function n(e){var r=this,i=e||{},a=wt({},i);return delete a.preload,delete a.useInterimTilesOnError,(r=t.call(this,a)||this).setPreload(void 0!==i.preload?i.preload:0),r.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),r}return n3(n,t),n.prototype.getPreload=function(){return this.get("preload")},n.prototype.setPreload=function(e){this.set("preload",e)},n.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},n.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},n.prototype.getData=function(e){return t.prototype.getData.call(this,e)},n}(Pc),i3=r3,a3=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o3=function(t){function n(e){var r=t.call(this,e)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedProjection=null,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=[1/0,1/0,-1/0,-1/0],r.tmpTileRange_=new tS(0,0,0,0),r}return a3(n,t),n.prototype.isDrawableTile=function(e){var r=this.getLayer(),i=e.getState(),a=r.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!a},n.prototype.getTile=function(e,r,i,a){var o=a.pixelRatio,s=a.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(e,r,i,o,s);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},n.prototype.getData=function(e){var r=this.frameState;if(!r)return null;var i=this.getLayer(),a=dt(r.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!ru(o,a))return null;for(var s=r.pixelRatio,u=r.viewState.projection,l=r.viewState,c=i.getRenderSource(),f=c.getTileGridForProjection(l.projection),h=c.getTilePixelRatio(r.pixelRatio),d=f.getZForResolution(l.resolution);d>=f.getMinZoom();--d){var v=f.getTileCoordForCoordAndZ(a,d),p=c.getTile(d,v[1],v[2],s,u);if(!(p instanceof zT||p instanceof qT))return null;if(2===p.getState()){var _=f.getOrigin(d),m=nr(f.getTileSize(d)),g=f.getResolution(d),E=Math.floor(h*((a[0]-_[0])/g-v[1]*m[0])),T=Math.floor(h*((_[1]-a[1])/g-v[2]*m[1]));return this.getImageData(p.getImage(),E,T)}}return null},n.prototype.loadedTileCallback=function(e,r,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,r,i)},n.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},n.prototype.renderFrame=function(e,r){var i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,s=a.resolution,u=a.center,l=a.rotation,c=e.pixelRatio,f=this.getLayer(),h=f.getSource(),d=h.getRevision(),v=h.getTileGridForProjection(o),p=v.getZForResolution(s,h.zDirection),_=v.getResolution(p),m=e.extent,g=i.extent&&ca(i.extent);g&&(m=Do(m,ca(i.extent)));var E=h.getTilePixelRatio(c),T=Math.round(e.size[0]*E),R=Math.round(e.size[1]*E);if(l){var x=Math.round(Math.sqrt(T*T+R*R));T=x,R=x}var P=_*T/2/E,k=_*R/2/E,B=[u[0]-P,u[1]-k,u[0]+P,u[1]+k],C=v.getTileRangeForExtentAndZ(m,p),y={};y[p]={};var S=this.createLoadedTileFinder(h,o,y),I=this.tmpExtent,O=this.tmpTileRange_;this.newTiles_=!1;for(var M=C.minX;M<=C.maxX;++M)for(var F=C.minY;F<=C.maxY;++F){var U=this.getTile(p,M,F,e);if(this.isDrawableTile(U)){var W=Pe(this);if(2==U.getState()){y[p][U.tileCoord.toString()]=U;var L=U.inTransition(W);!this.newTiles_&&(L||-1===this.renderedTiles.indexOf(U))&&(this.newTiles_=!0)}if(1===U.getAlpha(W,e.time))continue}var H=v.getTileCoordChildTileRange(U.tileCoord,O,I),$=!1;H&&($=S(p+1,H)),$||v.forEachTileCoordParentTileRange(U.tileCoord,S,O,I)}var j=_/s;mr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,l,-T/2,-R/2);var xe=Qv(this.pixelTransform);this.useContainer(r,xe,i.opacity,this.getBackground(e));var ee=this.context,_e=ee.canvas;mc(this.inversePixelTransform,this.pixelTransform),mr(this.tempTransform,T/2,R/2,j,j,0,-T/2,-R/2),_e.width!=T||_e.height!=R?(_e.width=T,_e.height=R):this.containerReused||ee.clearRect(0,0,T,R),g&&this.clipUnrotated(ee,e,g),h.getInterpolate()||wt(ee,Vp),this.preRender(ee,e),this.renderedTiles.length=0;var _n,nn,mn,qt=Object.keys(y).map(Number);qt.sort(ta),1!==i.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(_n=[],nn=[]):qt=qt.reverse();for(var Ho=qt.length-1;Ho>=0;--Ho){var Dr=qt[Ho],nf=h.getTilePixelSize(Dr,c,o),Ri=v.getResolution(Dr)/_,Go=nf[0]*Ri*j,af=nf[1]*Ri*j,Tu=v.getTileCoordForCoordAndZ(aa(B),Dr),of=v.getTileCoordExtent(Tu),ga=dt(this.tempTransform,[E*(of[0]-B[0])/_,E*(B[3]-of[3])/_]),Su=E*h.getGutterForProjection(o),sf=y[Dr];for(var Vo in sf){var Mi=(U=sf[Vo]).tileCoord,zo=Tu[1]-Mi[1],tg=Math.round(ga[0]-(zo-1)*Go),uf=Tu[2]-Mi[2],Iu=Math.round(ga[1]-(uf-1)*af),Kr=tg-(M=Math.round(ga[0]-zo*Go)),wr=Iu-(F=Math.round(ga[1]-uf*af)),ya=p===Dr,Ru=!1;if(!(L=ya&&1!==U.getAlpha(Pe(this),e.time)))if(_n){mn=[M,F,M+Kr,F,M+Kr,F+wr,M,F+wr];for(var rn=0,lf=_n.length;rn<lf;++rn)if(p!==Dr&&Dr<nn[rn]){var Ot=_n[rn];Yt([M,F,M+Kr,F+wr],[Ot[0],Ot[3],Ot[4],Ot[7]])&&(Ru||(ee.save(),Ru=!0),ee.beginPath(),ee.moveTo(mn[0],mn[1]),ee.lineTo(mn[2],mn[3]),ee.lineTo(mn[4],mn[5]),ee.lineTo(mn[6],mn[7]),ee.moveTo(Ot[6],Ot[7]),ee.lineTo(Ot[4],Ot[5]),ee.lineTo(Ot[2],Ot[3]),ee.lineTo(Ot[0],Ot[1]),ee.clip())}_n.push(mn),nn.push(Dr)}else ee.clearRect(M,F,Kr,wr);this.drawTileImage(U,e,M,F,Kr,wr,Su,ya),_n&&!L?(Ru&&ee.restore(),this.renderedTiles.unshift(U)):this.renderedTiles.push(U),this.updateUsedTiles(e.usedTiles,h,U)}}this.renderedRevision=d,this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!iu(this.renderedExtent_,B),this.renderedExtent_=B,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,h,v,c,o,m,p,f.getPreload()),this.scheduleExpireCache(e,h),this.postRender(ee,e),i.extent&&ee.restore(),wt(ee,vV),xe!==_e.style.transform&&(_e.style.transform=xe);var Wo=Iw(i.opacity),_a=this.container;return Wo!==_a.style.opacity&&(_a.style.opacity=Wo),this.container},n.prototype.drawTileImage=function(e,r,i,a,o,s,u,l){var c=this.getTileImage(e);if(c){var f=Pe(this),h=l?e.getAlpha(f,r.time):1,d=h!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,u,u,c.width-2*u,c.height-2*u,i,a,o,s),d&&this.context.restore(),1!==h?r.animate=!0:l&&e.endTransition(f)}},n.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},n.prototype.getTileImage=function(e){return e.getImage()},n.prototype.scheduleExpireCache=function(e,r){if(r.canExpireCache()){var i=function(a,o,s){var u=Pe(a);u in s.usedTiles&&a.expireCache(s.viewState.projection,s.usedTiles[u])}.bind(null,r);e.postRenderFunctions.push(i)}},n.prototype.updateUsedTiles=function(e,r,i){var a=Pe(r);a in e||(e[a]={}),e[a][i.getKey()]=!0},n.prototype.manageTilePyramid=function(e,r,i,a,o,s,u,l,c){var f=Pe(r);f in e.wantedTiles||(e.wantedTiles[f]={});var _,m,g,E,T,R,h=e.wantedTiles[f],d=e.tileQueue,p=0;for(R=i.getMinZoom();R<=u;++R)for(m=i.getTileRangeForExtentAndZ(s,R,m),g=i.getResolution(R),E=m.minX;E<=m.maxX;++E)for(T=m.minY;T<=m.maxY;++T)u-R<=l?(++p,0==(_=r.getTile(R,E,T,a,o)).getState()&&(h[_.getKey()]=!0,d.isKeyQueued(_.getKey())||d.enqueue([_,f,i.getTileCoordCenter(_.tileCoord),g])),void 0!==c&&c(_)):r.useTile(R,E,T,o);r.updateCacheSize(p,o)},n}(LT),s3=o3,u3=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l3=function(t){function n(e){return t.call(this,e)||this}return u3(n,t),n.prototype.createRenderer=function(){return new s3(this)},n}(i3),c3=l3,f3=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h3=function(t){function n(e){var r=t.call(this)||this;return r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?r.setGeometry(e):r.setProperties(e)),r}return f3(n,t),n.prototype.clone=function(){var e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var i=this.getStyle();return i&&e.setStyle(i),e},n.prototype.getGeometry=function(){return this.get(this.geometryName_)},n.prototype.getId=function(){return this.id_},n.prototype.getGeometryName=function(){return this.geometryName_},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.handleGeometryChange_=function(){this.changed()},n.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(qe(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Me(e,"change",this.handleGeometryChange_,this)),this.changed()},n.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},n.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function d3(t){return"function"==typeof t?t:(Array.isArray(t)?n=t:(Ie("function"==typeof t.getZIndex,41),n=[t]),function(){return n});var n}(e):void 0,this.changed()},n.prototype.setId=function(e){this.id_=e,this.changed()},n.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},n}(Qn),v3=h3,p3=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g3=function(t){function n(e){var r=t.call(this)||this;r.options=e,r.id=e.id,r.insertFirst=void 0===e.insertFirst||e.insertFirst,r.stopEvent=void 0===e.stopEvent||e.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=e.autoPan;return i&&"object"!=typeof i&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener("element",r.handleElementChanged),r.addChangeListener("map",r.handleMapChanged),r.addChangeListener("offset",r.handleOffsetChanged),r.addChangeListener("position",r.handlePositionChanged),r.addChangeListener("positioning",r.handlePositioningChanged),void 0!==e.element&&r.setElement(e.element),r.setOffset(void 0!==e.offset?e.offset:[0,0]),r.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&r.setPosition(e.position),r}return p3(n,t),n.prototype.getElement=function(){return this.get("element")},n.prototype.getId=function(){return this.id},n.prototype.getMap=function(){return this.get("map")||null},n.prototype.getOffset=function(){return this.get("offset")},n.prototype.getPosition=function(){return this.get("position")},n.prototype.getPositioning=function(){return this.get("positioning")},n.prototype.handleElementChanged=function(){Mw(this.element);var e=this.getElement();e&&this.element.appendChild(e)},n.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Fc(this.element),qe(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Me(e,"postrender",this.render,this),this.updatePixelPosition();var r=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},n.prototype.render=function(){this.updatePixelPosition()},n.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},n.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},n.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},n.prototype.setElement=function(e){this.set("element",e)},n.prototype.setMap=function(e){this.set("map",e)},n.prototype.setOffset=function(e){this.set("offset",e)},n.prototype.setPosition=function(e){this.set("position",e)},n.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},n.prototype.panIntoView=function(e){var r=this.getMap();if(r&&r.getTargetElement()&&this.get("position")){var i=this.getRect(r.getTargetElement(),r.getSize()),a=this.getElement(),o=this.getRect(a,[Wj(a),Yj(a)]),s=e||{},u=void 0===s.margin?20:s.margin;if(!ia(i,o)){var l=o[0]-i[0],c=i[2]-o[2],f=o[1]-i[1],h=i[3]-o[3],d=[0,0];if(l<0?d[0]=l-u:c<0&&(d[0]=Math.abs(c)+u),f<0?d[1]=f-u:h<0&&(d[1]=Math.abs(h)+u),0!==d[0]||0!==d[1]){var v=r.getView().getCenterInternal(),p=r.getPixelFromCoordinateInternal(v);if(!p)return;var _=[p[0]+d[0],p[1]+d[1]],m=s.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(_),duration:m.duration,easing:m.easing})}}}},n.prototype.getRect=function(e,r){var i=e.getBoundingClientRect(),a=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[a,o,a+r[0],o+r[1]]},n.prototype.setPositioning=function(e){this.set("positioning",e)},n.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},n.prototype.updatePixelPosition=function(){var e=this.getMap(),r=this.getPosition();if(e&&e.isRendered()&&r){var i=e.getPixelFromCoordinate(r),a=e.getSize();this.updateRenderedPosition(i,a)}else this.setVisible(!1)},n.prototype.updateRenderedPosition=function(e,r){var i=this.element.style,a=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var s=Math.round(e[0]+a[0])+"px",u=Math.round(e[1]+a[1])+"px",l="0%",c="0%";"bottom-right"==o||"center-right"==o||"top-right"==o?l="-100%":("bottom-center"==o||"center-center"==o||"top-center"==o)&&(l="-50%"),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?c="-100%":("center-left"==o||"center-center"==o||"center-right"==o)&&(c="-50%");var f="translate(".concat(l,", ").concat(c,") translate(").concat(s,", ").concat(u,")");this.rendered.transform_!=f&&(this.rendered.transform_=f,i.transform=f,i.msTransform=f)},n.prototype.getOptions=function(){return this.options},n}(Qn),y3=g3,_3=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oS=function(t){function n(e,r,i){var a=t.call(this)||this;return void 0!==i&&void 0===r?a.setFlatCoordinates(i,e):a.setCenterAndRadius(e,r||0,i),a}return _3(n,t),n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,a){var o=this.flatCoordinates,s=e-o[0],u=r-o[1],l=s*s+u*u;if(l<a){if(0===l)for(var c=0;c<this.stride;++c)i[c]=o[c];else{var f=this.getRadius()/Math.sqrt(l);for(i[0]=o[0]+f*s,i[1]=o[1]+f*u,c=2;c<this.stride;++c)i[c]=o[c]}return i.length=this.stride,l}return a},n.prototype.containsXY=function(e,r){var i=this.flatCoordinates,a=e-i[0],o=r-i[1];return a*a+o*o<=this.getRadiusSquared_()},n.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},n.prototype.computeExtent=function(e){var r=this.flatCoordinates,i=r[this.stride]-r[0];return Jn(r[0]-i,r[1]-i,r[0]+i,r[1]+i,e)},n.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},n.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],r=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+r*r},n.prototype.getType=function(){return"Circle"},n.prototype.intersectsExtent=function(e){if(Yt(e,this.getExtent())){var i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]||tp(e,this.intersectsCoordinate.bind(this))}return!1},n.prototype.setCenter=function(e){var r=this.stride,i=this.flatCoordinates[r]-this.flatCoordinates[0],a=e.slice();a[r]=a[0]+i;for(var o=1;o<r;++o)a[r+o]=e[o];this.setFlatCoordinates(this.layout,a),this.changed()},n.prototype.setCenterAndRadius=function(e,r,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var a=this.flatCoordinates,o=iT(a,0,e);a[o++]=a[0]+r;for(var s=1,u=this.stride;s<u;++s)a[o++]=a[s];a.length=o,this.changed()},n.prototype.getCoordinates=function(){return null},n.prototype.setCoordinates=function(e,r){},n.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},n.prototype.rotate=function(e,r){var i=this.getCenter(),a=this.getStride();this.setCenter(wp(i,0,i.length,a,e,r,i)),this.changed()},n.prototype.translate=function(e,r){var i=this.getCenter(),a=this.getStride();this.setCenter(Kw(i,0,i.length,a,e,r,i)),this.changed()},n}(qc),m3=oS,E3=function(){function t(n){this.rbush_=new ST(n),this.items_={}}return t.prototype.insert=function(n,e){var r={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:e};this.rbush_.insert(r),this.items_[Pe(e)]=r},t.prototype.load=function(n,e){for(var r=new Array(e.length),i=0,a=e.length;i<a;i++){var o=n[i],s=e[i],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};r[i]=u,this.items_[Pe(s)]=u}this.rbush_.load(r)},t.prototype.remove=function(n){var e=Pe(n),r=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(r)},t.prototype.update=function(n,e){var r=this.items_[Pe(e)];iu([r.minX,r.minY,r.maxX,r.maxY],n)||(this.remove(e),this.insert(n,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},t.prototype.getInExtent=function(n){return this.rbush_.search({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}).map(function(i){return i.value})},t.prototype.forEach=function(n){return this.forEach_(this.getAll(),n)},t.prototype.forEachInExtent=function(n,e){return this.forEach_(this.getInExtent(n),e)},t.prototype.forEach_=function(n,e){for(var r,i=0,a=n.length;i<a;i++)if(r=e(n[i]))return r;return r},t.prototype.isEmpty=function(){return ou(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(n){var e=this.rbush_.toJSON();return Jn(e.minX,e.minY,e.maxX,e.maxY,n)},t.prototype.concat=function(n){for(var e in this.rbush_.load(n.rbush_.all()),n.items_)this.items_[e]=n.items_[e]},t}(),sS=E3;function C3(t,n){return[[-1/0,-1/0,1/0,1/0]]}function lS(t,n){return function(e,r,i,a,o){var s=this;!function D3(t,n,e,r,i,a,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(e,r,i):t,!0),"arraybuffer"==n.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(u){if(!s.status||s.status>=200&&s.status<300){var l=n.getType(),c=void 0;"json"==l||"text"==l?c=s.responseText:"xml"==l?(c=s.responseXML)||(c=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==l&&(c=s.response),c?a(n.readFeatures(c,{extent:e,featureProjection:i}),n.readProjection(c)):o()}else o()},s.onerror=o,s.send()}(t,n,e,r,i,function(u,l){s.addFeatures(u),void 0!==a&&a(u)},o||ra)}}var cS=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,r)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ii=function(t){function n(e,r,i){var a=t.call(this,e)||this;return a.feature=r,a.features=i,a}return cS(n,t),n}(Gr),w3=function(t){function n(e){var r=this,i=e||{};(r=t.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=ra,r.format_=i.format,r.overlaps_=void 0===i.overlaps||i.overlaps,r.url_=i.url,void 0!==i.loader?r.loader_=i.loader:void 0!==r.url_&&(Ie(r.format_,7),r.loader_=lS(r.url_,r.format_)),r.strategy_=void 0!==i.strategy?i.strategy:C3;var o,s,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return r.featuresRtree_=a?new sS:null,r.loadedExtentsRtree_=new sS,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(i.features)?s=i.features:i.features&&(s=(o=i.features).getArray()),!a&&void 0===o&&(o=new Pn(s)),void 0!==s&&r.addFeaturesInternal(s),void 0!==o&&r.bindFeaturesCollection_(o),r}return cS(n,t),n.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},n.prototype.addFeatureInternal=function(e){var r=Pe(e);if(this.addToIndex_(r,e)){this.setupChangeEvents_(r,e);var i=e.getGeometry();if(i){var a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[r]=e;this.dispatchEvent(new Ii("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},n.prototype.setupChangeEvents_=function(e,r){this.featureChangeKeys_[e]=[Me(r,"change",this.handleFeatureChange_,this),Me(r,"propertychange",this.handleFeatureChange_,this)]},n.prototype.addToIndex_=function(e,r){var i=!0,a=r.getId();return void 0!==a&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=r),i&&(Ie(!(e in this.uidIndex_),30),this.uidIndex_[e]=r),i},n.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},n.prototype.addFeaturesInternal=function(e){for(var r=[],i=[],a=[],o=0,s=e.length;o<s;o++){var l=Pe(u=e[o]);this.addToIndex_(l,u)&&i.push(u)}o=0;for(var c=i.length;o<c;o++){var u;l=Pe(u=i[o]),this.setupChangeEvents_(l,u);var f=u.getGeometry();if(f){var h=f.getExtent();r.push(h),a.push(u)}else this.nullGeometryFeatures_[l]=u}if(this.featuresRtree_&&this.featuresRtree_.load(r,a),this.hasListener("addfeature")){o=0;for(var d=i.length;o<d;o++)this.dispatchEvent(new Ii("addfeature",i[o]))}},n.prototype.bindFeaturesCollection_=function(e){var r=!1;this.addEventListener("addfeature",function(i){r||(r=!0,e.push(i.feature),r=!1)}),this.addEventListener("removefeature",function(i){r||(r=!0,e.remove(i.feature),r=!1)}),e.addEventListener("add",function(i){r||(r=!0,this.addFeature(i.element),r=!1)}.bind(this)),e.addEventListener("remove",function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}.bind(this)),this.featuresCollection_=e},n.prototype.clear=function(e){if(e){for(var r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(qe);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var a=function(u){this.removeFeatureInternal(u)}.bind(this);for(var o in this.featuresRtree_.forEach(a),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new Ii("clear");this.dispatchEvent(s),this.changed()},n.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},n.prototype.forEachFeatureAtCoordinateDirect=function(e,r){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(a){if(a.getGeometry().intersectsCoordinate(e))return r(a)})},n.prototype.forEachFeatureInExtent=function(e,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},n.prototype.forEachFeatureIntersectingExtent=function(e,r){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){var o=r(i);if(o)return o}})},n.prototype.getFeaturesCollection=function(){return this.featuresCollection_},n.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ou(this.nullGeometryFeatures_)||KD(e,vw(this.nullGeometryFeatures_))),e},n.prototype.getFeaturesAtCoordinate=function(e){var r=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){r.push(i)}),r},n.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},n.prototype.getClosestFeatureToCoordinate=function(e,r){var i=e[0],a=e[1],o=null,s=[NaN,NaN],u=1/0,l=[-1/0,-1/0,1/0,1/0],c=r||_o;return this.featuresRtree_.forEachInExtent(l,function(f){if(c(f)){var h=f.getGeometry(),d=u;if((u=h.closestPointXY(i,a,s,u))<d){o=f;var v=Math.sqrt(u);l[0]=i-v,l[1]=a-v,l[2]=i+v,l[3]=a+v}}}),o},n.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},n.prototype.getFeatureById=function(e){var r=this.idIndex_[e.toString()];return void 0!==r?r:null},n.prototype.getFeatureByUid=function(e){var r=this.uidIndex_[e];return void 0!==r?r:null},n.prototype.getFormat=function(){return this.format_},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.getUrl=function(){return this.url_},n.prototype.handleFeatureChange_=function(e){var r=e.target,i=Pe(r),a=r.getGeometry();if(a){var o=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,r)):this.featuresRtree_&&this.featuresRtree_.update(o,r)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);var s=r.getId();if(void 0!==s){var u=s.toString();this.idIndex_[u]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[u]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new Ii("changefeature",r))},n.prototype.hasFeature=function(e){var r=e.getId();return void 0!==r?r in this.idIndex_:Pe(e)in this.uidIndex_},n.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ou(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},n.prototype.loadFeatures=function(e,r,i){for(var a=this.loadedExtentsRtree_,o=this.strategy_(e,r,i),s=function(h,d){var v=o[h];a.forEachInExtent(v,function(_){return ia(_.extent,v)})||(++u.loadingExtentsCount_,u.dispatchEvent(new Ii("featuresloadstart")),u.loader_.call(u,v,r,i,function(_){--this.loadingExtentsCount_,this.dispatchEvent(new Ii("featuresloadend",void 0,_))}.bind(u),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Ii("featuresloaderror"))}.bind(u)),a.insert(v,{extent:v.slice()}))},u=this,l=0,c=o.length;l<c;++l)s(l);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},n.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},n.prototype.removeLoadedExtent=function(e){var i,r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(a){if(iu(a.extent,e))return i=a,!0}),i&&r.remove(i)},n.prototype.removeFeature=function(e){if(e){var r=Pe(e);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}},n.prototype.removeFeatureInternal=function(e){var r=Pe(e),i=this.featureChangeKeys_[r];if(i){i.forEach(qe),delete this.featureChangeKeys_[r];var a=e.getId();return void 0!==a&&delete this.idIndex_[a.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Ii("removefeature",e)),e}},n.prototype.removeFromIdIndex_=function(e){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],r=!0;break}return r},n.prototype.setLoader=function(e){this.loader_=e},n.prototype.setUrl=function(e){Ie(this.format_,7),this.url_=e,this.setLoader(lS(e,this.format_))},n}($T),T3=w3,fS=D(function t(){w(this,t)}),hS=D(function t(){w(this,t)}),Bo=function(){function t(n){var e=this;w(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?function(){e.headers=new Map,n.split("\n").forEach(function(r){var i=r.indexOf(":");if(i>0){var a=r.slice(0,i),o=a.toLowerCase(),s=r.slice(i+1).trim();e.maybeSetNormalizedName(a,o),e.headers.has(o)?e.headers.get(o).push(s):e.headers.set(o,[s])}})}:function(){e.headers=new Map,Object.keys(n).forEach(function(r){var i=n[r],a=r.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(a,i),e.maybeSetNormalizedName(r,a))})}:this.headers=new Map}return D(t,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,r){return this.clone({name:e,value:r,op:"a"})}},{key:"set",value:function(e,r){return this.clone({name:e,value:r,op:"s"})}},{key:"delete",value:function(e,r){return this.clone({name:e,value:r,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(r){return e.applyUpdate(r)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var r=this;e.init(),Array.from(e.headers.keys()).forEach(function(i){r.headers.set(i,e.headers.get(i)),r.normalizedNames.set(i,e.normalizedNames.get(i))})}},{key:"clone",value:function(e){var r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}},{key:"applyUpdate",value:function(e){var r=e.name.toLowerCase();switch(e.op){case"a":case"s":var i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,r);var a=("a"===e.op?this.headers.get(r):void 0)||[];a.push.apply(a,Z(i)),this.headers.set(r,a);break;case"d":var o=e.value;if(o){var s=this.headers.get(r);if(!s)return;0===(s=s.filter(function(u){return-1===o.indexOf(u)})).length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}},{key:"forEach",value:function(e){var r=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return e(r.normalizedNames.get(i),r.headers.get(i))})}}]),t}(),S3=function(){function t(){w(this,t)}return D(t,[{key:"encodeKey",value:function(e){return dS(e)}},{key:"encodeValue",value:function(e){return dS(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),t}();function I3(t,n){var e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(i){var a=i.indexOf("="),s=Y(-1==a?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,a)),n.decodeValue(i.slice(a+1))],2),u=s[0],l=s[1],c=e.get(u)||[];c.push(l),e.set(u,c)}),e}var R3=/%(\d[a-f0-9])/gi,M3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function dS(t){return encodeURIComponent(t).replace(R3,function(n,e){var r;return null!==(r=M3[e])&&void 0!==r?r:n})}function vS(t){return"".concat(t)}var Uo=function(){function t(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(w(this,t),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new S3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=I3(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(r){var i=e.fromObject[r];n.map.set(r,Array.isArray(i)?i:[i])})):this.map=null}return D(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var r=this.map.get(e);return r?r[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,r){return this.clone({param:e,value:r,op:"a"})}},{key:"appendAll",value:function(e){var r=[];return Object.keys(e).forEach(function(i){var a=e[i];Array.isArray(a)?a.forEach(function(o){r.push({param:i,value:o,op:"a"})}):r.push({param:i,value:a,op:"a"})}),this.clone(r)}},{key:"set",value:function(e,r){return this.clone({param:e,value:r,op:"s"})}},{key:"delete",value:function(e,r){return this.clone({param:e,value:r,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(r){var i=e.encoder.encodeKey(r);return e.map.get(r).map(function(a){return i+"="+e.encoder.encodeValue(a)}).join("&")}).filter(function(r){return""!==r}).join("&")}},{key:"clone",value:function(e){var r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(r){return e.map.set(r,e.cloneFrom.map.get(r))}),this.updates.forEach(function(r){switch(r.op){case"a":case"s":var i=("a"===r.op?e.map.get(r.param):void 0)||[];i.push(vS(r.value)),e.map.set(r.param,i);break;case"d":if(void 0===r.value){e.map.delete(r.param);break}var a=e.map.get(r.param)||[],o=a.indexOf(vS(r.value));-1!==o&&a.splice(o,1),a.length>0?e.map.set(r.param,a):e.map.delete(r.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),O3=function(){function t(){w(this,t),this.map=new Map}return D(t,[{key:"set",value:function(e,r){return this.map.set(e,r),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"has",value:function(e){return this.map.has(e)}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function pS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function gS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function yS(t){return"undefined"!=typeof FormData&&t instanceof FormData}var qp=function(){function t(n,e,r,i){var a;if(w(this,t),this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function A3(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Bo),this.context||(this.context=new O3),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new Uo,this.urlWithParams=e}return D(t,[{key:"serializeBody",value:function(){return null===this.body?null:pS(this.body)||gS(this.body)||yS(this.body)||function b3(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||yS(this.body)?null:gS(this.body)?this.body.type||null:pS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var r,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.method||this.method,a=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,f=e.params||this.params,h=null!==(r=e.context)&&void 0!==r?r:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce(function(d,v){return d.set(v,e.setHeaders[v])},c)),e.setParams&&(f=Object.keys(e.setParams).reduce(function(d,v){return d.set(v,e.setParams[v])},f)),new t(i,a,s,{params:f,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:u})}}]),t}(),pt=function(){return(pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt}(),Zp=D(function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";w(this,t),this.headers=n.headers||new Bo,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}),P3=function(t){Q(e,t);var n=X(e);function e(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(this,e),(r=n.call(this,i)).type=pt.ResponseHeader,r}return D(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Zp),_S=function(t){Q(e,t);var n=X(e);function e(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(this,e),(r=n.call(this,i)).type=pt.Response,r.body=void 0!==i.body?i.body:null,r}return D(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Zp),mS=function(t){Q(e,t);var n=X(e);function e(r){var i;return w(this,e),(i=n.call(this,r,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(r.url||"(unknown url)"):"Http failure response for ".concat(r.url||"(unknown url)",": ").concat(r.status," ").concat(r.statusText),i.error=r.error||null,i}return D(e)}(Zp);function Kp(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var ES=function(){var t=function(){function n(e){w(this,n),this.handler=e}return D(n,[{key:"request",value:function(r,i){var s,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r instanceof qp)s=r;else{var u=void 0;u=o.headers instanceof Bo?o.headers:new Bo(o.headers);var l=void 0;o.params&&(l=o.params instanceof Uo?o.params:new Uo({fromObject:o.params})),s=new qp(r,i,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var c=fe(s).pipe(fo(function(h){return a.handler.handle(h)}));if(r instanceof qp||"events"===o.observe)return c;var f=c.pipe(Ki(function(h){return h instanceof _S}));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe(Fe(function(h){if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return f.pipe(Fe(function(h){if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return f.pipe(Fe(function(h){if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return f.pipe(Fe(function(h){return h.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",r,i)}},{key:"get",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",r,i)}},{key:"head",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",r,i)}},{key:"jsonp",value:function(r,i){return this.request("JSONP",r,{params:(new Uo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",r,i)}},{key:"patch",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",r,Kp(a,i))}},{key:"post",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",r,Kp(a,i))}},{key:"put",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",r,Kp(a,i))}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(fS))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),CS=function(){function t(n,e){w(this,t),this.next=n,this.interceptor=e}return D(t,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),t}(),DS=new we("HTTP_INTERCEPTORS"),x3=function(){var t=function(){function n(){w(this,n)}return D(n,[{key:"intercept",value:function(r,i){return i.handle(r)}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),k3=/^\)\]\}',?\n/,wS=function(){var t=function(){function n(e){w(this,n),this.xhrFactory=e}return D(n,[{key:"handle",value:function(r){var i=this;if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ut(function(a){var o=i.xhrFactory.build();if(o.open(r.method,r.urlWithParams),r.withCredentials&&(o.withCredentials=!0),r.headers.forEach(function(m,g){return o.setRequestHeader(m,g.join(","))}),r.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){var s=r.detectContentTypeHeader();null!==s&&o.setRequestHeader("Content-Type",s)}if(r.responseType){var u=r.responseType.toLowerCase();o.responseType="json"!==u?u:"text"}var l=r.serializeBody(),c=null,f=function(){if(null!==c)return c;var g=o.statusText||"OK",E=new Bo(o.getAllResponseHeaders()),T=function L3(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||r.url;return c=new P3({headers:E,status:o.status,statusText:g,url:T})},h=function(){var g=f(),E=g.headers,T=g.status,R=g.statusText,x=g.url,P=null;204!==T&&(P=void 0===o.response?o.responseText:o.response),0===T&&(T=P?200:0);var k=T>=200&&T<300;if("json"===r.responseType&&"string"==typeof P){var B=P;P=P.replace(k3,"");try{P=""!==P?JSON.parse(P):null}catch(C){P=B,k&&(k=!1,P={error:C,text:P})}}k?(a.next(new _S({body:P,headers:E,status:T,statusText:R,url:x||void 0})),a.complete()):a.error(new mS({error:P,headers:E,status:T,statusText:R,url:x||void 0}))},d=function(g){var E=f(),R=new mS({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E.url||void 0});a.error(R)},v=!1,p=function(g){v||(a.next(f()),v=!0);var E={type:pt.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(E.total=g.total),"text"===r.responseType&&!!o.responseText&&(E.partialText=o.responseText),a.next(E)},_=function(g){var E={type:pt.UploadProgress,loaded:g.loaded};g.lengthComputable&&(E.total=g.total),a.next(E)};return o.addEventListener("load",h),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),r.reportProgress&&(o.addEventListener("progress",p),null!==l&&o.upload&&o.upload.addEventListener("progress",_)),o.send(l),a.next({type:pt.Sent}),function(){o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",h),o.removeEventListener("timeout",d),r.reportProgress&&(o.removeEventListener("progress",p),null!==l&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(_v))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),Jp=new we("XSRF_COOKIE_NAME"),Qp=new we("XSRF_HEADER_NAME"),TS=D(function t(){w(this,t)}),F3=function(){var t=function(){function n(e,r,i){w(this,n),this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return D(n,[{key:"getToken",value:function(){if("server"===this.platform)return null;var r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=TC(r,this.cookieName),this.lastCookieString=r),this.lastToken}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(dn),J(Hd),J(Jp))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),$p=function(){var t=function(){function n(e,r){w(this,n),this.tokenService=e,this.headerName=r}return D(n,[{key:"intercept",value:function(r,i){var a=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(r);var o=this.tokenService.getToken();return null!==o&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,o)})),i.handle(r)}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(TS),J(Qp))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),N3=function(){var t=function(){function n(e,r){w(this,n),this.backend=e,this.injector=r,this.chain=null}return D(n,[{key:"handle",value:function(r){if(null===this.chain){var i=this.injector.get(DS,[]);this.chain=i.reduceRight(function(a,o){return new CS(a,o)},this.backend)}return this.chain.handle(r)}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(hS),J(Qt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t}(),j3=function(){var t=function(){function n(){w(this,n)}return D(n,null,[{key:"disable",value:function(){return{ngModule:n,providers:[{provide:$p,useClass:x3}]}}},{key:"withOptions",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:n,providers:[r.cookieName?{provide:Jp,useValue:r.cookieName}:[],r.headerName?{provide:Qp,useValue:r.headerName}:[]]}}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=br({type:t}),t.\u0275inj=or({providers:[$p,{provide:DS,useExisting:$p,multi:!0},{provide:TS,useClass:F3},{provide:Jp,useValue:"XSRF-TOKEN"},{provide:Qp,useValue:"X-XSRF-TOKEN"}]}),t}(),B3=function(){var t=D(function n(){w(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=br({type:t}),t.\u0275inj=or({providers:[ES,{provide:fS,useClass:N3},wS,{provide:hS,useExisting:wS}],imports:[[j3.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),SS=function(){var t=function(){function n(e){w(this,n),this.httpClient=e,this.endPoint="http://88.198.134.185/rest",this.httpHeader={headers:new Bo({"Content-Type":"application/json"})}}return D(n,[{key:"get",value:function(r){return this.httpClient.get(this.endPoint+r).toPromise()}},{key:"post",value:function(r,i){return this.httpClient.post(this.endPoint+r,i).toPromise()}},{key:"put",value:function(r,i){return this.httpClient.put(this.endPoint+r,i).toPromise()}},{key:"delete",value:function(r){return this.httpClient.delete(this.endPoint+r).toPromise()}}]),n}();return t.\u0275fac=function(e){return new(e||t)(J(ES))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function eg(){eg=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(C,y,S){return Object.defineProperty(C,y,{value:S,enumerable:!0,configurable:!0,writable:!0}),C[y]}try{s({},"")}catch(C){s=function(S,I,O){return S[I]=O}}function u(C,y,S,I){var U,W,L,H,M=Object.create((y&&y.prototype instanceof f?y:f).prototype),F=new P(I||[]);return M._invoke=(U=C,W=S,L=F,H="suspendedStart",function($,j){if("executing"===H)throw new Error("Generator is already running");if("completed"===H){if("throw"===$)throw j;return{value:void 0,done:!0}}for(L.method=$,L.arg=j;;){var xe=L.delegate;if(xe){var ee=T(xe,L);if(ee){if(ee===c)continue;return ee}}if("next"===L.method)L.sent=L._sent=L.arg;else if("throw"===L.method){if("suspendedStart"===H)throw H="completed",L.arg;L.dispatchException(L.arg)}else"return"===L.method&&L.abrupt("return",L.arg);H="executing";var _e=l(U,W,L);if("normal"===_e.type){if(H=L.done?"completed":"suspendedYield",_e.arg===c)continue;return{value:_e.arg,done:L.done}}"throw"===_e.type&&(H="completed",L.method="throw",L.arg=_e.arg)}}),M}function l(C,y,S){try{return{type:"normal",arg:C.call(y,S)}}catch(I){return{type:"throw",arg:I}}}t.wrap=u;var c={};function f(){}function h(){}function d(){}var v={};s(v,i,function(){return this});var p=Object.getPrototypeOf,_=p&&p(p(k([])));_&&_!==n&&e.call(_,i)&&(v=_);var m=d.prototype=f.prototype=Object.create(v);function g(C){["next","throw","return"].forEach(function(y){s(C,y,function(S){return this._invoke(y,S)})})}function E(C,y){function S(O,M,F,U){var W=l(C[O],C,M);if("throw"!==W.type){var L=W.arg,H=L.value;return H&&"object"==typeof H&&e.call(H,"__await")?y.resolve(H.__await).then(function($){S("next",$,F,U)},function($){S("throw",$,F,U)}):y.resolve(H).then(function($){L.value=$,F(L)},function($){return S("throw",$,F,U)})}U(W.arg)}var I;this._invoke=function(O,M){function F(){return new y(function(U,W){S(O,M,U,W)})}return I=I?I.then(F,F):F()}}function T(C,y){var S=C.iterator[y.method];if(void 0===S){if(y.delegate=null,"throw"===y.method){if(C.iterator.return&&(y.method="return",y.arg=void 0,T(C,y),"throw"===y.method))return c;y.method="throw",y.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var I=l(S,C.iterator,y.arg);if("throw"===I.type)return y.method="throw",y.arg=I.arg,y.delegate=null,c;var O=I.arg;return O?O.done?(y[C.resultName]=O.value,y.next=C.nextLoc,"return"!==y.method&&(y.method="next",y.arg=void 0),y.delegate=null,c):O:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,c)}function R(C){var y={tryLoc:C[0]};1 in C&&(y.catchLoc=C[1]),2 in C&&(y.finallyLoc=C[2],y.afterLoc=C[3]),this.tryEntries.push(y)}function x(C){var y=C.completion||{};y.type="normal",delete y.arg,C.completion=y}function P(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(R,this),this.reset(!0)}function k(C){if(C){var y=C[i];if(y)return y.call(C);if("function"==typeof C.next)return C;if(!isNaN(C.length)){var S=-1,I=function O(){for(;++S<C.length;)if(e.call(C,S))return O.value=C[S],O.done=!1,O;return O.value=void 0,O.done=!0,O};return I.next=I}}return{next:B}}function B(){return{value:void 0,done:!0}}return h.prototype=d,s(m,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),t.isGeneratorFunction=function(C){var y="function"==typeof C&&C.constructor;return!!y&&(y===h||"GeneratorFunction"===(y.displayName||y.name))},t.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,d):(C.__proto__=d,s(C,o,"GeneratorFunction")),C.prototype=Object.create(m),C},t.awrap=function(C){return{__await:C}},g(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(C,y,S,I,O){void 0===O&&(O=Promise);var M=new E(u(C,y,S,I),O);return t.isGeneratorFunction(y)?M:M.next().then(function(F){return F.done?F.value:M.next()})},g(m),s(m,o,"Generator"),s(m,i,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),t.keys=function(C){var y=[];for(var S in C)y.push(S);return y.reverse(),function I(){for(;y.length;){var O=y.pop();if(O in C)return I.value=O,I.done=!1,I}return I.done=!0,I}},t.values=k,P.prototype={constructor:P,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!y)for(var S in this)"t"===S.charAt(0)&&e.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if("throw"===y.type)throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var S=this;function I(L,H){return F.type="throw",F.arg=y,S.next=L,H&&(S.method="next",S.arg=void 0),!!H}for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O],F=M.completion;if("root"===M.tryLoc)return I("end");if(M.tryLoc<=this.prev){var U=e.call(M,"catchLoc"),W=e.call(M,"finallyLoc");if(U&&W){if(this.prev<M.catchLoc)return I(M.catchLoc,!0);if(this.prev<M.finallyLoc)return I(M.finallyLoc)}else if(U){if(this.prev<M.catchLoc)return I(M.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return I(M.finallyLoc)}}}},abrupt:function(y,S){for(var I=this.tryEntries.length-1;I>=0;--I){var O=this.tryEntries[I];if(O.tryLoc<=this.prev&&e.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var M=O;break}}M&&("break"===y||"continue"===y)&&M.tryLoc<=S&&S<=M.finallyLoc&&(M=null);var F=M?M.completion:{};return F.type=y,F.arg=S,M?(this.method="next",this.next=M.finallyLoc,c):this.complete(F)},complete:function(y,S){if("throw"===y.type)throw y.arg;return"break"===y.type||"continue"===y.type?this.next=y.arg:"return"===y.type?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):"normal"===y.type&&S&&(this.next=S),c},finish:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.finallyLoc===y)return this.complete(I.completion,I.afterLoc),x(I),c}},catch:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc===y){var O=I.completion;if("throw"===O.type){var M=O.arg;x(I)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(y,S,I){return this.delegate={iterator:k(y),resultName:S,nextLoc:I},"next"===this.method&&(this.arg=void 0),c}},t}var U3=function(){var t=function(){function n(e){w(this,n),this.rest=e}return D(n,[{key:"ngOnInit",value:function(){return pg(this,void 0,void 0,eg().mark(function r(){var i,a,o,s,u,l,c,f,h,d,v,p,_,m;return eg().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return m=function(R){console.log("k");var P=_.map.forEachFeatureAtPixel(R.pixel,function(B){return B});if(h.style.display=P?"":"none",P){p.setPosition(R.coordinate);var k=P.get("name");d.innerHTML=k.cases,v.innerHTML=k.country}},E.next=3,this.rest.get("/data");case 3:for(i=E.sent,a=[],o=0;o<i.length;o++)s=new m3(xo([i[o].lon,i[o].lat],"EPSG:4326","EPSG:3857"),5e4),u=new v3({geometry:s,name:i[o]}),l=new WH({fill:new RT({color:"rgba(20, 100, 240, 0.3)"}),stroke:new MT({width:3,color:"rgba(0, 100, 240, 0.8)"})}),u.setStyle(l),a.push(u);c=new T3({features:a}),f=new iV({source:c}),this.map=new xH({target:"hotel_map",layers:[new c3({source:new t3}),f],view:new Ei({center:NB([7.0785,51.4614]),zoom:0})}),h=document.getElementById("tooltip"),d=document.querySelector("#tooltip #cases"),v=document.querySelector("#tooltip #country"),p=new y3({element:h,offset:[10,0],positioning:"bottom-left"}),this.map.addOverlay(p),_=this,this.map.on("pointermove",m);case 17:case"end":return E.stop()}},r,this)}))}}]),n}();return t.\u0275fac=function(e){return new(e||t)(ne(SS))},t.\u0275cmp=Qo({type:t,selectors:[["app-map"]],decls:12,vars:0,consts:[[1,"row"],["id","hotel_map"],["id","tooltip",2,"background-color","white","padding","8px"],["id","country"],["id","cases"]],template:function(e,r){1&e&&(ro(0,"div",0),zi(1,"div",1),li(),ro(2,"div",2)(3,"table")(4,"tr")(5,"td"),gd(6,"Country"),li(),zi(7,"td",3),li(),ro(8,"tr")(9,"td"),gd(10,"Cases"),li(),zi(11,"td",4),li()()())},styles:["#hotel_map[_ngcontent-%COMP%]{height:100vh;width:100vw}#tooltip[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .pad[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:16px}"]}),t}(),H3=[{path:"map",component:U3}],G3=function(){var t=D(function n(){w(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=br({type:t}),t.\u0275inj=or({imports:[[XD.forRoot(H3)],XD]}),t}(),V3=function(){var t=D(function n(){w(this,n),this.title="affenpocken-frontend"});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Qo({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&zi(0,"router-outlet")},directives:[jv],styles:[""]}),t}(),z3=function(){var t=D(function n(){w(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=br({type:t,bootstrap:[V3]}),t.\u0275inj=or({providers:[SS],imports:[[cF,G3,B3]]}),t}();(function Wx(){false})(),uF().bootstrapModule(z3).catch(function(t){return console.error(t)})},402:function(Yo){Yo.exports=function(){"use strict";function Xo(b,A,G,K,q){!function Y(te,me,Oe,Ae,Je){for(;Ae>Oe;){if(Ae-Oe>600){var Z=Ae-Oe+1,ke=me-Oe+1,bi=Math.log(Z),Qe=.5*Math.exp(2*bi/3),Le=.5*Math.sqrt(bi*Qe*(Z-Qe)/Z)*(ke-Z/2<0?-1:1);Y(te,me,Math.max(Oe,Math.floor(me-ke*Qe/Z+Le)),Math.min(Ae,Math.floor(me+(Z-ke)*Qe/Z+Le)),Je)}var Qr=te[me],Ut=Oe,Zt=Ae;for(ir(te,Oe,me),Je(te[Ae],Qr)>0&&ir(te,Oe,Ae);Ut<Zt;){for(ir(te,Ut,Zt),Ut++,Zt--;Je(te[Ut],Qr)<0;)Ut++;for(;Je(te[Zt],Qr)>0;)Zt--}0===Je(te[Oe],Qr)?ir(te,Oe,Zt):ir(te,++Zt,Ae),Zt<=me&&(Oe=Zt+1),me<=Zt&&(Ae=Zt-1)}}(b,A,G||0,K||b.length-1,q||Ue)}function ir(b,A,G){var K=b[A];b[A]=b[G],b[G]=K}function Ue(b,A){return b<A?-1:b>A?1:0}var ze=function(A){void 0===A&&(A=9),this._maxEntries=Math.max(4,A),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function nt(b,A,G){if(!G)return A.indexOf(b);for(var K=0;K<A.length;K++)if(G(b,A[K]))return K;return-1}function Tr(b,A){D(b,0,b.children.length,A,b)}function D(b,A,G,K,q){q||(q=X(null)),q.minX=1/0,q.minY=1/0,q.maxX=-1/0,q.maxY=-1/0;for(var Y=A;Y<G;Y++){var te=b.children[Y];w(q,b.leaf?K(te):te)}return q}function w(b,A){return b.minX=Math.min(b.minX,A.minX),b.minY=Math.min(b.minY,A.minY),b.maxX=Math.max(b.maxX,A.maxX),b.maxY=Math.max(b.maxY,A.maxY),b}function Ai(b,A){return b.minX-A.minX}function Q(b,A){return b.minY-A.minY}function ma(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function Jr(b){return b.maxX-b.minX+(b.maxY-b.minY)}function Bt(b,A){return b.minX<=A.minX&&b.minY<=A.minY&&A.maxX<=b.maxX&&A.maxY<=b.maxY}function Ea(b,A){return A.minX<=b.maxX&&A.minY<=b.maxY&&A.maxX>=b.minX&&A.maxY>=b.minY}function X(b){return{children:b,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ca(b,A,G,K,q){for(var Y=[A,G];Y.length;)if(!((G=Y.pop())-(A=Y.pop())<=K)){var te=A+Math.ceil((G-A)/K/2)*K;Xo(b,te,A,G,q),Y.push(A,te,te,G)}}return ze.prototype.all=function(){return this._all(this.data,[])},ze.prototype.search=function(b){var A=this.data,G=[];if(!Ea(b,A))return G;for(var K=this.toBBox,q=[];A;){for(var Y=0;Y<A.children.length;Y++){var te=A.children[Y],me=A.leaf?K(te):te;Ea(b,me)&&(A.leaf?G.push(te):Bt(b,me)?this._all(te,G):q.push(te))}A=q.pop()}return G},ze.prototype.collides=function(b){var A=this.data;if(!Ea(b,A))return!1;for(var G=[];A;){for(var K=0;K<A.children.length;K++){var q=A.children[K],Y=A.leaf?this.toBBox(q):q;if(Ea(b,Y)){if(A.leaf||Bt(b,Y))return!0;G.push(q)}}A=G.pop()}return!1},ze.prototype.load=function(b){if(!b||!b.length)return this;if(b.length<this._minEntries){for(var A=0;A<b.length;A++)this.insert(b[A]);return this}var G=this._build(b.slice(),0,b.length-1,0);if(this.data.children.length)if(this.data.height===G.height)this._splitRoot(this.data,G);else{if(this.data.height<G.height){var K=this.data;this.data=G,G=K}this._insert(G,this.data.height-G.height-1,!0)}else this.data=G;return this},ze.prototype.insert=function(b){return b&&this._insert(b,this.data.height-1),this},ze.prototype.clear=function(){return this.data=X([]),this},ze.prototype.remove=function(b,A){if(!b)return this;for(var G,K,q,Y=this.data,te=this.toBBox(b),me=[],Oe=[];Y||me.length;){if(Y||(Y=me.pop(),K=me[me.length-1],G=Oe.pop(),q=!0),Y.leaf){var Ae=nt(b,Y.children,A);if(-1!==Ae)return Y.children.splice(Ae,1),me.push(Y),this._condense(me),this}q||Y.leaf||!Bt(Y,te)?K?(G++,Y=K.children[G],q=!1):Y=null:(me.push(Y),Oe.push(G),G=0,K=Y,Y=Y.children[0])}return this},ze.prototype.toBBox=function(b){return b},ze.prototype.compareMinX=function(b,A){return b.minX-A.minX},ze.prototype.compareMinY=function(b,A){return b.minY-A.minY},ze.prototype.toJSON=function(){return this.data},ze.prototype.fromJSON=function(b){return this.data=b,this},ze.prototype._all=function(b,A){for(var G=[];b;)b.leaf?A.push.apply(A,b.children):G.push.apply(G,b.children),b=G.pop();return A},ze.prototype._build=function(b,A,G,K){var q,Y=G-A+1,te=this._maxEntries;if(Y<=te)return Tr(q=X(b.slice(A,G+1)),this.toBBox),q;K||(K=Math.ceil(Math.log(Y)/Math.log(te)),te=Math.ceil(Y/Math.pow(te,K-1))),(q=X([])).leaf=!1,q.height=K;var me=Math.ceil(Y/te),Oe=me*Math.ceil(Math.sqrt(te));Ca(b,A,G,Oe,this.compareMinX);for(var Ae=A;Ae<=G;Ae+=Oe){var Je=Math.min(Ae+Oe-1,G);Ca(b,Ae,Je,me,this.compareMinY);for(var Z=Ae;Z<=Je;Z+=me){var ke=Math.min(Z+me-1,Je);q.children.push(this._build(b,Z,ke,K-1))}}return Tr(q,this.toBBox),q},ze.prototype._chooseSubtree=function(b,A,G,K){for(;K.push(A),!A.leaf&&K.length-1!==G;){for(var q=1/0,Y=1/0,te=void 0,me=0;me<A.children.length;me++){var Oe=A.children[me],Ae=ma(Oe),Je=(Z=b,ke=Oe,(Math.max(ke.maxX,Z.maxX)-Math.min(ke.minX,Z.minX))*(Math.max(ke.maxY,Z.maxY)-Math.min(ke.minY,Z.minY))-Ae);Je<Y?(Y=Je,q=Ae<q?Ae:q,te=Oe):Je===Y&&Ae<q&&(q=Ae,te=Oe)}A=te||A.children[0]}var Z,ke;return A},ze.prototype._insert=function(b,A,G){var K=G?b:this.toBBox(b),q=[],Y=this._chooseSubtree(K,this.data,A,q);for(Y.children.push(b),w(Y,K);A>=0&&q[A].children.length>this._maxEntries;)this._split(q,A),A--;this._adjustParentBBoxes(K,q,A)},ze.prototype._split=function(b,A){var G=b[A],K=G.children.length,q=this._minEntries;this._chooseSplitAxis(G,q,K);var Y=this._chooseSplitIndex(G,q,K),te=X(G.children.splice(Y,G.children.length-Y));te.height=G.height,te.leaf=G.leaf,Tr(G,this.toBBox),Tr(te,this.toBBox),A?b[A-1].children.push(te):this._splitRoot(G,te)},ze.prototype._splitRoot=function(b,A){this.data=X([b,A]),this.data.height=b.height+1,this.data.leaf=!1,Tr(this.data,this.toBBox)},ze.prototype._chooseSplitIndex=function(b,A,G){for(var K,q,Y,te,me,Oe,Ae,Je=1/0,Z=1/0,ke=A;ke<=G-A;ke++){var bi=D(b,0,ke,this.toBBox),Qe=D(b,ke,G,this.toBBox),Le=(q=bi,Y=Qe,void 0,void 0,void 0,void 0,te=Math.max(q.minX,Y.minX),me=Math.max(q.minY,Y.minY),Oe=Math.min(q.maxX,Y.maxX),Ae=Math.min(q.maxY,Y.maxY),Math.max(0,Oe-te)*Math.max(0,Ae-me)),ar=ma(bi)+ma(Qe);Le<Je?(Je=Le,K=ke,Z=ar<Z?ar:Z):Le===Je&&ar<Z&&(Z=ar,K=ke)}return K||G-A},ze.prototype._chooseSplitAxis=function(b,A,G){var K=b.leaf?this.compareMinX:Ai,q=b.leaf?this.compareMinY:Q;this._allDistMargin(b,A,G,K)<this._allDistMargin(b,A,G,q)&&b.children.sort(K)},ze.prototype._allDistMargin=function(b,A,G,K){b.children.sort(K);for(var q=this.toBBox,Y=D(b,0,A,q),te=D(b,G-A,G,q),me=Jr(Y)+Jr(te),Oe=A;Oe<G-A;Oe++){var Ae=b.children[Oe];w(Y,b.leaf?q(Ae):Ae),me+=Jr(Y)}for(var Je=G-A-1;Je>=A;Je--){var Z=b.children[Je];w(te,b.leaf?q(Z):Z),me+=Jr(te)}return me},ze.prototype._adjustParentBBoxes=function(b,A,G){for(var K=G;K>=0;K--)w(A[K],b)},ze.prototype._condense=function(b){for(var A=b.length-1,G=void 0;A>=0;A--)0===b[A].children.length?A>0?(G=b[A-1].children).splice(G.indexOf(b[A]),1):this.clear():Tr(b[A],this.toBBox)},ze}()}},function(Yo){Yo(Yo.s=811)}]);